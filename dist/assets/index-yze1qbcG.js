import{_ as oy,a as cr,j as n,U as Wm,X as cy,M as uy,F as dy,T as hy,I as fy,b as uu,B as du,P as oi,c as Fm,S as Ds,G as ui,C as my,d as eg,e as gy,f as zs,g as ur,h as tg,Z as py,i as sg,L as vy,A as hu,k as yy,l as Ls,m as fn,n as fu,H as Pc,o as Zc,p as Wc,E as Ms,W as xy,D as ag,q as by,r as wy,s as dr,t as ci,u as ig,v as jy,w as ng,x as _y,y as Ny,z as mu,V as Sy,J as Ey,K as lg,N as Ty,O as Ay,Q as Oy}from"./ui-BKBg2j3F.js";import{a as ky,b as Cy,r as B,u as rg,L as ia,c as wn,d as Ry,B as Uy,R as Dy,e as _e}from"./vendor-CoP806ME.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(d){if(d.ep)return;d.ep=!0;const h=r(d);fetch(d.href,h)}})();var zc={exports:{}},ln={},Lc={exports:{}},Bc={};var xm;function My(){return xm||(xm=1,(function(l){function a(R,q){var P=R.length;R.push(q);e:for(;0<P;){var ye=P-1>>>1,xe=R[ye];if(0<d(xe,q))R[ye]=q,R[P]=xe,P=ye;else break e}}function r(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var q=R[0],P=R.pop();if(P!==q){R[0]=P;e:for(var ye=0,xe=R.length,Pe=xe>>>1;ye<Pe;){var Se=2*(ye+1)-1,oe=R[Se],qe=Se+1,Dt=R[qe];if(0>d(oe,P))qe<xe&&0>d(Dt,oe)?(R[ye]=Dt,R[qe]=P,ye=qe):(R[ye]=oe,R[Se]=P,ye=Se);else if(qe<xe&&0>d(Dt,P))R[ye]=Dt,R[qe]=P,ye=qe;else break e}}return q}function d(R,q){var P=R.sortIndex-q.sortIndex;return P!==0?P:R.id-q.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();l.unstable_now=function(){return f.now()-g}}var v=[],y=[],j=1,b=null,T=3,O=!1,D=!1,M=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function J(R){for(var q=r(y);q!==null;){if(q.callback===null)o(y);else if(q.startTime<=R)o(y),q.sortIndex=q.expirationTime,a(v,q);else break;q=r(y)}}function ve(R){if(M=!1,J(R),!D)if(r(v)!==null)D=!0,F||(F=!0,vt());else{var q=r(y);q!==null&&qt(ve,q.startTime-R)}}var F=!1,ce=-1,Ce=5,Je=-1;function Nn(){return L?!0:!(l.unstable_now()-Je<Ce)}function da(){if(L=!1,F){var R=l.unstable_now();Je=R;var q=!0;try{e:{D=!1,M&&(M=!1,V(ce),ce=-1),O=!0;var P=T;try{t:{for(J(R),b=r(v);b!==null&&!(b.expirationTime>R&&Nn());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,T=b.priorityLevel;var xe=ye(b.expirationTime<=R);if(R=l.unstable_now(),typeof xe=="function"){b.callback=xe,J(R),q=!0;break t}b===r(v)&&o(v),J(R)}else o(v);b=r(v)}if(b!==null)q=!0;else{var Pe=r(y);Pe!==null&&qt(ve,Pe.startTime-R),q=!1}}break e}finally{b=null,T=P,O=!1}q=void 0}}finally{q?vt():F=!1}}}var vt;if(typeof z=="function")vt=function(){z(da)};else if(typeof MessageChannel<"u"){var Sn=new MessageChannel,hi=Sn.port2;Sn.port1.onmessage=da,vt=function(){hi.postMessage(null)}}else vt=function(){H(da,0)};function qt(R,q){ce=H(function(){R(l.unstable_now())},q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(R){R.callback=null},l.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<R?Math.floor(1e3/R):5},l.unstable_getCurrentPriorityLevel=function(){return T},l.unstable_next=function(R){switch(T){case 1:case 2:case 3:var q=3;break;default:q=T}var P=T;T=q;try{return R()}finally{T=P}},l.unstable_requestPaint=function(){L=!0},l.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var P=T;T=R;try{return q()}finally{T=P}},l.unstable_scheduleCallback=function(R,q,P){var ye=l.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ye+P:ye):P=ye,R){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=P+xe,R={id:j++,callback:q,priorityLevel:R,startTime:P,expirationTime:xe,sortIndex:-1},P>ye?(R.sortIndex=P,a(y,R),r(v)===null&&R===r(y)&&(M?(V(ce),ce=-1):M=!0,qt(ve,P-ye))):(R.sortIndex=xe,a(v,R),D||O||(D=!0,F||(F=!0,vt()))),R},l.unstable_shouldYield=Nn,l.unstable_wrapCallback=function(R){var q=T;return function(){var P=T;T=q;try{return R.apply(this,arguments)}finally{T=P}}}})(Bc)),Bc}var bm;function zy(){return bm||(bm=1,Lc.exports=My()),Lc.exports}var wm;function Ly(){if(wm)return ln;wm=1;var l=zy(),a=ky(),r=Cy();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(o(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(o(188));return t!==e?null:e}for(var s=e,i=t;;){var c=s.return;if(c===null)break;var u=c.alternate;if(u===null){if(i=c.return,i!==null){s=i;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===s)return v(c),e;if(u===i)return v(c),t;u=u.sibling}throw Error(o(188))}if(s.return!==i.return)s=c,i=u;else{for(var m=!1,p=c.child;p;){if(p===s){m=!0,s=c,i=u;break}if(p===i){m=!0,i=c,s=u;break}p=p.sibling}if(!m){for(p=u.child;p;){if(p===s){m=!0,s=u,i=c;break}if(p===i){m=!0,i=u,s=c;break}p=p.sibling}if(!m)throw Error(o(189))}}if(s.alternate!==i)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:t}function j(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=j(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),z=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),Je=Symbol.for("react.activity"),Nn=Symbol.for("react.memo_cache_sentinel"),da=Symbol.iterator;function vt(e){return e===null||typeof e!="object"?null:(e=da&&e[da]||e["@@iterator"],typeof e=="function"?e:null)}var Sn=Symbol.for("react.client.reference");function hi(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Sn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case ve:return"Suspense";case F:return"SuspenseList";case Je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case z:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ce:return t=e.displayName||null,t!==null?t:hi(e.type)||"Memo";case Ce:t=e._payload,e=e._init;try{return hi(e(t))}catch{}}return null}var qt=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},ye=[],xe=-1;function Pe(e){return{current:e}}function Se(e){0>xe||(e.current=ye[xe],ye[xe]=null,xe--)}function oe(e,t){xe++,ye[xe]=e.current,e.current=t}var qe=Pe(null),Dt=Pe(null),ls=Pe(null),En=Pe(null);function Tn(e,t){switch(oe(ls,t),oe(Dt,e),oe(qe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Gf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Gf(t),e=Vf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Se(qe),oe(qe,e)}function ha(){Se(qe),Se(Dt),Se(ls)}function pr(e){e.memoizedState!==null&&oe(En,e);var t=qe.current,s=Vf(t,e.type);t!==s&&(oe(Dt,e),oe(qe,s))}function An(e){Dt.current===e&&(Se(qe),Se(Dt)),En.current===e&&(Se(En),tn._currentValue=P)}var vr,vu;function qs(e){if(vr===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);vr=t&&t[1]||"",vu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vr+e+vu}var yr=!1;function xr(e,t){if(!e||yr)return"";yr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(A){var E=A}Reflect.construct(e,[],U)}else{try{U.call()}catch(A){E=A}e.call(U.prototype)}}else{try{throw Error()}catch(A){E=A}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(A){if(A&&E&&typeof A.stack=="string")return[A.stack,E.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),m=u[0],p=u[1];if(m&&p){var x=m.split(`
`),S=p.split(`
`);for(c=i=0;i<x.length&&!x[i].includes("DetermineComponentFrameRoot");)i++;for(;c<S.length&&!S[c].includes("DetermineComponentFrameRoot");)c++;if(i===x.length||c===S.length)for(i=x.length-1,c=S.length-1;1<=i&&0<=c&&x[i]!==S[c];)c--;for(;1<=i&&0<=c;i--,c--)if(x[i]!==S[c]){if(i!==1||c!==1)do if(i--,c--,0>c||x[i]!==S[c]){var k=`
`+x[i].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=i&&0<=c);break}}}finally{yr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?qs(s):""}function qg(e,t){switch(e.tag){case 26:case 27:case 5:return qs(e.type);case 16:return qs("Lazy");case 13:return e.child!==t&&t!==null?qs("Suspense Fallback"):qs("Suspense");case 19:return qs("SuspenseList");case 0:case 15:return xr(e.type,!1);case 11:return xr(e.type.render,!1);case 1:return xr(e.type,!0);case 31:return qs("Activity");default:return""}}function yu(e){try{var t="",s=null;do t+=qg(e,s),s=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var br=Object.prototype.hasOwnProperty,wr=l.unstable_scheduleCallback,jr=l.unstable_cancelCallback,Hg=l.unstable_shouldYield,$g=l.unstable_requestPaint,nt=l.unstable_now,Gg=l.unstable_getCurrentPriorityLevel,xu=l.unstable_ImmediatePriority,bu=l.unstable_UserBlockingPriority,On=l.unstable_NormalPriority,Vg=l.unstable_LowPriority,wu=l.unstable_IdlePriority,Kg=l.log,Yg=l.unstable_setDisableYieldValue,fi=null,lt=null;function rs(e){if(typeof Kg=="function"&&Yg(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(fi,e)}catch{}}var rt=Math.clz32?Math.clz32:Xg,Ig=Math.log,Qg=Math.LN2;function Xg(e){return e>>>=0,e===0?32:31-(Ig(e)/Qg|0)|0}var kn=256,Cn=262144,Rn=4194304;function Hs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Un(e,t,s){var i=e.pendingLanes;if(i===0)return 0;var c=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var p=i&134217727;return p!==0?(i=p&~u,i!==0?c=Hs(i):(m&=p,m!==0?c=Hs(m):s||(s=p&~e,s!==0&&(c=Hs(s))))):(p=i&~u,p!==0?c=Hs(p):m!==0?c=Hs(m):s||(s=i&~e,s!==0&&(c=Hs(s)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,s=t&-t,u>=s||u===32&&(s&4194048)!==0)?t:c}function mi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var e=Rn;return Rn<<=1,(Rn&62914560)===0&&(Rn=4194304),e}function _r(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function gi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pg(e,t,s,i,c,u){var m=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var p=e.entanglements,x=e.expirationTimes,S=e.hiddenUpdates;for(s=m&~s;0<s;){var k=31-rt(s),U=1<<k;p[k]=0,x[k]=-1;var E=S[k];if(E!==null)for(S[k]=null,k=0;k<E.length;k++){var A=E[k];A!==null&&(A.lane&=-536870913)}s&=~U}i!==0&&_u(e,i,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function _u(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-rt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|s&261930}function Nu(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var i=31-rt(s),c=1<<i;c&t|e[i]&t&&(e[i]|=t),s&=~c}}function Su(e,t){var s=t&-t;return s=(s&42)!==0?1:Nr(s),(s&(e.suspendedLanes|t))!==0?0:s}function Nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Eu(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:hm(e.type))}function Tu(e,t){var s=q.p;try{return q.p=e,t()}finally{q.p=s}}var os=Math.random().toString(36).slice(2),Ge="__reactFiber$"+os,We="__reactProps$"+os,fa="__reactContainer$"+os,Er="__reactEvents$"+os,Zg="__reactListeners$"+os,Wg="__reactHandles$"+os,Au="__reactResources$"+os,pi="__reactMarker$"+os;function Tr(e){delete e[Ge],delete e[We],delete e[Er],delete e[Zg],delete e[Wg]}function ma(e){var t=e[Ge];if(t)return t;for(var s=e.parentNode;s;){if(t=s[fa]||s[Ge]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Pf(e);e!==null;){if(s=e[Ge])return s;e=Pf(e)}return t}e=s,s=e.parentNode}return null}function ga(e){if(e=e[Ge]||e[fa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function vi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function pa(e){var t=e[Au];return t||(t=e[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[pi]=!0}var Ou=new Set,ku={};function $s(e,t){va(e,t),va(e+"Capture",t)}function va(e,t){for(ku[e]=t,e=0;e<t.length;e++)Ou.add(t[e])}var Fg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cu={},Ru={};function ep(e){return br.call(Ru,e)?!0:br.call(Cu,e)?!1:Fg.test(e)?Ru[e]=!0:(Cu[e]=!0,!1)}function Dn(e,t,s){if(ep(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Mn(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Ht(e,t,s,i){if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+i)}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tp(e,t,s){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){s=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ar(e){if(!e._valueTracker){var t=Uu(e)?"checked":"value";e._valueTracker=tp(e,t,""+e[t])}}function Du(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),i="";return e&&(i=Uu(e)?e.checked?"true":"false":e.value),e=i,e!==s?(t.setValue(e),!0):!1}function zn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sp=/[\n"\\]/g;function xt(e){return e.replace(sp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Or(e,t,s,i,c,u,m,p){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yt(t)):e.value!==""+yt(t)&&(e.value=""+yt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?kr(e,m,yt(t)):s!=null?kr(e,m,yt(s)):i!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+yt(p):e.removeAttribute("name")}function Mu(e,t,s,i,c,u,m,p){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||s!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ar(e);return}s=s!=null?""+yt(s):"",t=t!=null?""+yt(t):s,p||t===e.value||(e.value=t),e.defaultValue=t}i=i??c,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=p?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Ar(e)}function kr(e,t,s){t==="number"&&zn(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ya(e,t,s,i){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&i&&(e[s].defaultSelected=!0)}else{for(s=""+yt(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function zu(e,t,s){if(t!=null&&(t=""+yt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+yt(s):""}function Lu(e,t,s,i){if(t==null){if(i!=null){if(s!=null)throw Error(o(92));if(qt(i)){if(1<i.length)throw Error(o(93));i=i[0]}s=i}s==null&&(s=""),t=s}s=yt(t),e.defaultValue=s,i=e.textContent,i===s&&i!==""&&i!==null&&(e.value=i),Ar(e)}function xa(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ap=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(e,t,s){var i=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,s):typeof s!="number"||s===0||ap.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function qu(e,t,s){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,s!=null){for(var i in s)!s.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var c in t)i=t[c],t.hasOwnProperty(c)&&s[c]!==i&&Bu(e,c,i)}else for(var u in t)t.hasOwnProperty(u)&&Bu(e,u,t[u])}function Cr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),np=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(e){return np.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $t(){}var Rr=null;function Ur(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,wa=null;function Hu(e){var t=ga(e);if(t&&(e=t.stateNode)){var s=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(Or(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var i=s[t];if(i!==e&&i.form===e.form){var c=i[We]||null;if(!c)throw Error(o(90));Or(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<s.length;t++)i=s[t],i.form===e.form&&Du(i)}break e;case"textarea":zu(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&ya(e,!!s.multiple,t,!1)}}}var Dr=!1;function $u(e,t,s){if(Dr)return e(t,s);Dr=!0;try{var i=e(t);return i}finally{if(Dr=!1,(ba!==null||wa!==null)&&(Nl(),ba&&(t=ba,e=wa,wa=ba=null,Hu(t),e)))for(t=0;t<e.length;t++)Hu(e[t])}}function yi(e,t){var s=e.stateNode;if(s===null)return null;var i=s[We]||null;if(i===null)return null;s=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,t,typeof s));return s}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Gt)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Mr=!1}var cs=null,zr=null,Bn=null;function Gu(){if(Bn)return Bn;var e,t=zr,s=t.length,i,c="value"in cs?cs.value:cs.textContent,u=c.length;for(e=0;e<s&&t[e]===c[e];e++);var m=s-e;for(i=1;i<=m&&t[s-i]===c[u-i];i++);return Bn=c.slice(e,1<i?1-i:void 0)}function qn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hn(){return!0}function Vu(){return!1}function Fe(e){function t(s,i,c,u,m){this._reactName=s,this._targetInst=c,this.type=i,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(s=e[p],this[p]=s?s(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Hn:Vu,this.isPropagationStopped=Vu,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),t}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$n=Fe(Gs),bi=b({},Gs,{view:0,detail:0}),lp=Fe(bi),Lr,Br,wi,Gn=b({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Lr=e.screenX-wi.screenX,Br=e.screenY-wi.screenY):Br=Lr=0,wi=e),Lr)},movementY:function(e){return"movementY"in e?e.movementY:Br}}),Ku=Fe(Gn),rp=b({},Gn,{dataTransfer:0}),op=Fe(rp),cp=b({},bi,{relatedTarget:0}),qr=Fe(cp),up=b({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),dp=Fe(up),hp=b({},Gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fp=Fe(hp),mp=b({},Gs,{data:0}),Yu=Fe(mp),gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vp[e])?!!t[e]:!1}function Hr(){return yp}var xp=b({},bi,{key:function(e){if(e.key){var t=gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(e){return e.type==="keypress"?qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bp=Fe(xp),wp=b({},Gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iu=Fe(wp),jp=b({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),_p=Fe(jp),Np=b({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sp=Fe(Np),Ep=b({},Gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tp=Fe(Ep),Ap=b({},Gs,{newState:0,oldState:0}),Op=Fe(Ap),kp=[9,13,27,32],$r=Gt&&"CompositionEvent"in window,ji=null;Gt&&"documentMode"in document&&(ji=document.documentMode);var Cp=Gt&&"TextEvent"in window&&!ji,Qu=Gt&&(!$r||ji&&8<ji&&11>=ji),Xu=" ",Ju=!1;function Pu(e,t){switch(e){case"keyup":return kp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function Rp(e,t){switch(e){case"compositionend":return Zu(t);case"keypress":return t.which!==32?null:(Ju=!0,Xu);case"textInput":return e=t.data,e===Xu&&Ju?null:e;default:return null}}function Up(e,t){if(ja)return e==="compositionend"||!$r&&Pu(e,t)?(e=Gu(),Bn=zr=cs=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qu&&t.locale!=="ko"?null:t.data;default:return null}}var Dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dp[e.type]:t==="textarea"}function Fu(e,t,s,i){ba?wa?wa.push(i):wa=[i]:ba=i,t=Cl(t,"onChange"),0<t.length&&(s=new $n("onChange","change",null,s,i),e.push({event:s,listeners:t}))}var _i=null,Ni=null;function Mp(e){zf(e,0)}function Vn(e){var t=vi(e);if(Du(t))return e}function ed(e,t){if(e==="change")return t}var td=!1;if(Gt){var Gr;if(Gt){var Vr="oninput"in document;if(!Vr){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),Vr=typeof sd.oninput=="function"}Gr=Vr}else Gr=!1;td=Gr&&(!document.documentMode||9<document.documentMode)}function ad(){_i&&(_i.detachEvent("onpropertychange",id),Ni=_i=null)}function id(e){if(e.propertyName==="value"&&Vn(Ni)){var t=[];Fu(t,Ni,e,Ur(e)),$u(Mp,t)}}function zp(e,t,s){e==="focusin"?(ad(),_i=t,Ni=s,_i.attachEvent("onpropertychange",id)):e==="focusout"&&ad()}function Lp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vn(Ni)}function Bp(e,t){if(e==="click")return Vn(t)}function qp(e,t){if(e==="input"||e==="change")return Vn(t)}function Hp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:Hp;function Si(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var c=s[i];if(!br.call(t,c)||!ot(e[c],t[c]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ld(e,t){var s=nd(e);e=0;for(var i;s;){if(s.nodeType===3){if(i=e+s.textContent.length,e<=t&&i>=t)return{node:s,offset:t-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=nd(s)}}function rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function od(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zn(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=zn(e.document)}return t}function Kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $p=Gt&&"documentMode"in document&&11>=document.documentMode,_a=null,Yr=null,Ei=null,Ir=!1;function cd(e,t,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ir||_a==null||_a!==zn(i)||(i=_a,"selectionStart"in i&&Kr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ei&&Si(Ei,i)||(Ei=i,i=Cl(Yr,"onSelect"),0<i.length&&(t=new $n("onSelect","select",null,t,s),e.push({event:t,listeners:i}),t.target=_a)))}function Vs(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Na={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Qr={},ud={};Gt&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Ks(e){if(Qr[e])return Qr[e];if(!Na[e])return e;var t=Na[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in ud)return Qr[e]=t[s];return e}var dd=Ks("animationend"),hd=Ks("animationiteration"),fd=Ks("animationstart"),Gp=Ks("transitionrun"),Vp=Ks("transitionstart"),Kp=Ks("transitioncancel"),md=Ks("transitionend"),gd=new Map,Xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xr.push("scrollEnd");function At(e,t){gd.set(e,t),$s(t,[e])}var Kn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bt=[],Sa=0,Jr=0;function Yn(){for(var e=Sa,t=Jr=Sa=0;t<e;){var s=bt[t];bt[t++]=null;var i=bt[t];bt[t++]=null;var c=bt[t];bt[t++]=null;var u=bt[t];if(bt[t++]=null,i!==null&&c!==null){var m=i.pending;m===null?c.next=c:(c.next=m.next,m.next=c),i.pending=c}u!==0&&pd(s,c,u)}}function In(e,t,s,i){bt[Sa++]=e,bt[Sa++]=t,bt[Sa++]=s,bt[Sa++]=i,Jr|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Pr(e,t,s,i){return In(e,t,s,i),Qn(e)}function Ys(e,t){return In(e,null,null,t),Qn(e)}function pd(e,t,s){e.lanes|=s;var i=e.alternate;i!==null&&(i.lanes|=s);for(var c=!1,u=e.return;u!==null;)u.childLanes|=s,i=u.alternate,i!==null&&(i.childLanes|=s),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-rt(s),e=u.hiddenUpdates,i=e[c],i===null?e[c]=[t]:i.push(t),t.lane=s|536870912),u):null}function Qn(e){if(50<Xi)throw Xi=0,lc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ea={};function Yp(e,t,s,i){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,s,i){return new Yp(e,t,s,i)}function Zr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vt(e,t){var s=e.alternate;return s===null?(s=ct(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function vd(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Xn(e,t,s,i,c,u){var m=0;if(i=e,typeof e=="function")Zr(e)&&(m=1);else if(typeof e=="string")m=Pv(e,s,qe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Je:return e=ct(31,s,t,c),e.elementType=Je,e.lanes=u,e;case M:return Is(s.children,c,u,t);case L:m=8,c|=24;break;case H:return e=ct(12,s,t,c|2),e.elementType=H,e.lanes=u,e;case ve:return e=ct(13,s,t,c),e.elementType=ve,e.lanes=u,e;case F:return e=ct(19,s,t,c),e.elementType=F,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:m=10;break e;case V:m=9;break e;case J:m=11;break e;case ce:m=14;break e;case Ce:m=16,i=null;break e}m=29,s=Error(o(130,e===null?"null":typeof e,"")),i=null}return t=ct(m,s,t,c),t.elementType=e,t.type=i,t.lanes=u,t}function Is(e,t,s,i){return e=ct(7,e,i,t),e.lanes=s,e}function Wr(e,t,s){return e=ct(6,e,null,t),e.lanes=s,e}function yd(e){var t=ct(18,null,null,0);return t.stateNode=e,t}function Fr(e,t,s){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xd=new WeakMap;function wt(e,t){if(typeof e=="object"&&e!==null){var s=xd.get(e);return s!==void 0?s:(t={value:e,source:t,stack:yu(t)},xd.set(e,t),t)}return{value:e,source:t,stack:yu(t)}}var Ta=[],Aa=0,Jn=null,Ti=0,jt=[],_t=0,us=null,Mt=1,zt="";function Kt(e,t){Ta[Aa++]=Ti,Ta[Aa++]=Jn,Jn=e,Ti=t}function bd(e,t,s){jt[_t++]=Mt,jt[_t++]=zt,jt[_t++]=us,us=e;var i=Mt;e=zt;var c=32-rt(i)-1;i&=~(1<<c),s+=1;var u=32-rt(t)+c;if(30<u){var m=c-c%5;u=(i&(1<<m)-1).toString(32),i>>=m,c-=m,Mt=1<<32-rt(t)+c|s<<c|i,zt=u+e}else Mt=1<<u|s<<c|i,zt=e}function eo(e){e.return!==null&&(Kt(e,1),bd(e,1,0))}function to(e){for(;e===Jn;)Jn=Ta[--Aa],Ta[Aa]=null,Ti=Ta[--Aa],Ta[Aa]=null;for(;e===us;)us=jt[--_t],jt[_t]=null,zt=jt[--_t],jt[_t]=null,Mt=jt[--_t],jt[_t]=null}function wd(e,t){jt[_t++]=Mt,jt[_t++]=zt,jt[_t++]=us,Mt=t.id,zt=t.overflow,us=e}var Ve=null,be=null,ie=!1,ds=null,Nt=!1,so=Error(o(519));function hs(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ai(wt(t,e)),so}function jd(e){var t=e.stateNode,s=e.type,i=e.memoizedProps;switch(t[Ge]=e,t[We]=i,s){case"dialog":te("cancel",t),te("close",t);break;case"iframe":case"object":case"embed":te("load",t);break;case"video":case"audio":for(s=0;s<Pi.length;s++)te(Pi[s],t);break;case"source":te("error",t);break;case"img":case"image":case"link":te("error",t),te("load",t);break;case"details":te("toggle",t);break;case"input":te("invalid",t),Mu(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":te("invalid",t);break;case"textarea":te("invalid",t),Lu(t,i.value,i.defaultValue,i.children)}s=i.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||i.suppressHydrationWarning===!0||Hf(t.textContent,s)?(i.popover!=null&&(te("beforetoggle",t),te("toggle",t)),i.onScroll!=null&&te("scroll",t),i.onScrollEnd!=null&&te("scrollend",t),i.onClick!=null&&(t.onclick=$t),t=!0):t=!1,t||hs(e,!0)}function _d(e){for(Ve=e.return;Ve;)switch(Ve.tag){case 5:case 31:case 13:Nt=!1;return;case 27:case 3:Nt=!0;return;default:Ve=Ve.return}}function Oa(e){if(e!==Ve)return!1;if(!ie)return _d(e),ie=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||wc(e.type,e.memoizedProps)),s=!s),s&&be&&hs(e),_d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));be=Jf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));be=Jf(e)}else t===27?(t=be,Es(e.type)?(e=Ec,Ec=null,be=e):be=t):be=Ve?Et(e.stateNode.nextSibling):null;return!0}function Qs(){be=Ve=null,ie=!1}function ao(){var e=ds;return e!==null&&(at===null?at=e:at.push.apply(at,e),ds=null),e}function Ai(e){ds===null?ds=[e]:ds.push(e)}var io=Pe(null),Xs=null,Yt=null;function fs(e,t,s){oe(io,t._currentValue),t._currentValue=s}function It(e){e._currentValue=io.current,Se(io)}function no(e,t,s){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===s)break;e=e.return}}function lo(e,t,s,i){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var m=c.child;u=u.firstContext;e:for(;u!==null;){var p=u;u=c;for(var x=0;x<t.length;x++)if(p.context===t[x]){u.lanes|=s,p=u.alternate,p!==null&&(p.lanes|=s),no(u.return,s,e),i||(m=null);break e}u=p.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(o(341));m.lanes|=s,u=m.alternate,u!==null&&(u.lanes|=s),no(m,s,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function ka(e,t,s,i){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(o(387));if(m=m.memoizedProps,m!==null){var p=c.type;ot(c.pendingProps.value,m.value)||(e!==null?e.push(p):e=[p])}}else if(c===En.current){if(m=c.alternate,m===null)throw Error(o(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(tn):e=[tn])}c=c.return}e!==null&&lo(t,e,s,i),t.flags|=262144}function Pn(e){for(e=e.firstContext;e!==null;){if(!ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Js(e){Xs=e,Yt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Nd(Xs,e)}function Zn(e,t){return Xs===null&&Js(e),Nd(e,t)}function Nd(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Yt===null){if(e===null)throw Error(o(308));Yt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Yt=Yt.next=t;return s}var Ip=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Qp=l.unstable_scheduleCallback,Xp=l.unstable_NormalPriority,Re={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ro(){return{controller:new Ip,data:new Map,refCount:0}}function Oi(e){e.refCount--,e.refCount===0&&Qp(Xp,function(){e.controller.abort()})}var ki=null,oo=0,Ca=0,Ra=null;function Jp(e,t){if(ki===null){var s=ki=[];oo=0,Ca=hc(),Ra={status:"pending",value:void 0,then:function(i){s.push(i)}}}return oo++,t.then(Sd,Sd),t}function Sd(){if(--oo===0&&ki!==null){Ra!==null&&(Ra.status="fulfilled");var e=ki;ki=null,Ca=0,Ra=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Pp(e,t){var s=[],i={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var c=0;c<s.length;c++)(0,s[c])(t)},function(c){for(i.status="rejected",i.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),i}var Ed=R.S;R.S=function(e,t){uf=nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Jp(e,t),Ed!==null&&Ed(e,t)};var Ps=Pe(null);function co(){var e=Ps.current;return e!==null?e:ge.pooledCache}function Wn(e,t){t===null?oe(Ps,Ps.current):oe(Ps,t.pool)}function Td(){var e=co();return e===null?null:{parent:Re._currentValue,pool:e}}var Ua=Error(o(460)),uo=Error(o(474)),Fn=Error(o(542)),el={then:function(){}};function Ad(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Od(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then($t,$t),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e;default:if(typeof t.status=="string")t.then($t,$t);else{if(e=ge,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=i}},function(i){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e}throw Ws=t,Ua}}function Zs(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ws=s,Ua):s}}var Ws=null;function kd(){if(Ws===null)throw Error(o(459));var e=Ws;return Ws=null,e}function Cd(e){if(e===Ua||e===Fn)throw Error(o(483))}var Da=null,Ci=0;function tl(e){var t=Ci;return Ci+=1,Da===null&&(Da=[]),Od(Da,e,t)}function Ri(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sl(e,t){throw t.$$typeof===T?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rd(e){function t(_,w){if(e){var N=_.deletions;N===null?(_.deletions=[w],_.flags|=16):N.push(w)}}function s(_,w){if(!e)return null;for(;w!==null;)t(_,w),w=w.sibling;return null}function i(_){for(var w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function c(_,w){return _=Vt(_,w),_.index=0,_.sibling=null,_}function u(_,w,N){return _.index=N,e?(N=_.alternate,N!==null?(N=N.index,N<w?(_.flags|=67108866,w):N):(_.flags|=67108866,w)):(_.flags|=1048576,w)}function m(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function p(_,w,N,C){return w===null||w.tag!==6?(w=Wr(N,_.mode,C),w.return=_,w):(w=c(w,N),w.return=_,w)}function x(_,w,N,C){var Y=N.type;return Y===M?k(_,w,N.props.children,C,N.key):w!==null&&(w.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ce&&Zs(Y)===w.type)?(w=c(w,N.props),Ri(w,N),w.return=_,w):(w=Xn(N.type,N.key,N.props,null,_.mode,C),Ri(w,N),w.return=_,w)}function S(_,w,N,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=Fr(N,_.mode,C),w.return=_,w):(w=c(w,N.children||[]),w.return=_,w)}function k(_,w,N,C,Y){return w===null||w.tag!==7?(w=Is(N,_.mode,C,Y),w.return=_,w):(w=c(w,N),w.return=_,w)}function U(_,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Wr(""+w,_.mode,N),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case O:return N=Xn(w.type,w.key,w.props,null,_.mode,N),Ri(N,w),N.return=_,N;case D:return w=Fr(w,_.mode,N),w.return=_,w;case Ce:return w=Zs(w),U(_,w,N)}if(qt(w)||vt(w))return w=Is(w,_.mode,N,null),w.return=_,w;if(typeof w.then=="function")return U(_,tl(w),N);if(w.$$typeof===z)return U(_,Zn(_,w),N);sl(_,w)}return null}function E(_,w,N,C){var Y=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return Y!==null?null:p(_,w,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case O:return N.key===Y?x(_,w,N,C):null;case D:return N.key===Y?S(_,w,N,C):null;case Ce:return N=Zs(N),E(_,w,N,C)}if(qt(N)||vt(N))return Y!==null?null:k(_,w,N,C,null);if(typeof N.then=="function")return E(_,w,tl(N),C);if(N.$$typeof===z)return E(_,w,Zn(_,N),C);sl(_,N)}return null}function A(_,w,N,C,Y){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return _=_.get(N)||null,p(w,_,""+C,Y);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case O:return _=_.get(C.key===null?N:C.key)||null,x(w,_,C,Y);case D:return _=_.get(C.key===null?N:C.key)||null,S(w,_,C,Y);case Ce:return C=Zs(C),A(_,w,N,C,Y)}if(qt(C)||vt(C))return _=_.get(N)||null,k(w,_,C,Y,null);if(typeof C.then=="function")return A(_,w,N,tl(C),Y);if(C.$$typeof===z)return A(_,w,N,Zn(w,C),Y);sl(w,C)}return null}function $(_,w,N,C){for(var Y=null,ne=null,G=w,W=w=0,ae=null;G!==null&&W<N.length;W++){G.index>W?(ae=G,G=null):ae=G.sibling;var le=E(_,G,N[W],C);if(le===null){G===null&&(G=ae);break}e&&G&&le.alternate===null&&t(_,G),w=u(le,w,W),ne===null?Y=le:ne.sibling=le,ne=le,G=ae}if(W===N.length)return s(_,G),ie&&Kt(_,W),Y;if(G===null){for(;W<N.length;W++)G=U(_,N[W],C),G!==null&&(w=u(G,w,W),ne===null?Y=G:ne.sibling=G,ne=G);return ie&&Kt(_,W),Y}for(G=i(G);W<N.length;W++)ae=A(G,_,W,N[W],C),ae!==null&&(e&&ae.alternate!==null&&G.delete(ae.key===null?W:ae.key),w=u(ae,w,W),ne===null?Y=ae:ne.sibling=ae,ne=ae);return e&&G.forEach(function(Cs){return t(_,Cs)}),ie&&Kt(_,W),Y}function I(_,w,N,C){if(N==null)throw Error(o(151));for(var Y=null,ne=null,G=w,W=w=0,ae=null,le=N.next();G!==null&&!le.done;W++,le=N.next()){G.index>W?(ae=G,G=null):ae=G.sibling;var Cs=E(_,G,le.value,C);if(Cs===null){G===null&&(G=ae);break}e&&G&&Cs.alternate===null&&t(_,G),w=u(Cs,w,W),ne===null?Y=Cs:ne.sibling=Cs,ne=Cs,G=ae}if(le.done)return s(_,G),ie&&Kt(_,W),Y;if(G===null){for(;!le.done;W++,le=N.next())le=U(_,le.value,C),le!==null&&(w=u(le,w,W),ne===null?Y=le:ne.sibling=le,ne=le);return ie&&Kt(_,W),Y}for(G=i(G);!le.done;W++,le=N.next())le=A(G,_,W,le.value,C),le!==null&&(e&&le.alternate!==null&&G.delete(le.key===null?W:le.key),w=u(le,w,W),ne===null?Y=le:ne.sibling=le,ne=le);return e&&G.forEach(function(ry){return t(_,ry)}),ie&&Kt(_,W),Y}function me(_,w,N,C){if(typeof N=="object"&&N!==null&&N.type===M&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case O:e:{for(var Y=N.key;w!==null;){if(w.key===Y){if(Y=N.type,Y===M){if(w.tag===7){s(_,w.sibling),C=c(w,N.props.children),C.return=_,_=C;break e}}else if(w.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ce&&Zs(Y)===w.type){s(_,w.sibling),C=c(w,N.props),Ri(C,N),C.return=_,_=C;break e}s(_,w);break}else t(_,w);w=w.sibling}N.type===M?(C=Is(N.props.children,_.mode,C,N.key),C.return=_,_=C):(C=Xn(N.type,N.key,N.props,null,_.mode,C),Ri(C,N),C.return=_,_=C)}return m(_);case D:e:{for(Y=N.key;w!==null;){if(w.key===Y)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){s(_,w.sibling),C=c(w,N.children||[]),C.return=_,_=C;break e}else{s(_,w);break}else t(_,w);w=w.sibling}C=Fr(N,_.mode,C),C.return=_,_=C}return m(_);case Ce:return N=Zs(N),me(_,w,N,C)}if(qt(N))return $(_,w,N,C);if(vt(N)){if(Y=vt(N),typeof Y!="function")throw Error(o(150));return N=Y.call(N),I(_,w,N,C)}if(typeof N.then=="function")return me(_,w,tl(N),C);if(N.$$typeof===z)return me(_,w,Zn(_,N),C);sl(_,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,w!==null&&w.tag===6?(s(_,w.sibling),C=c(w,N),C.return=_,_=C):(s(_,w),C=Wr(N,_.mode,C),C.return=_,_=C),m(_)):s(_,w)}return function(_,w,N,C){try{Ci=0;var Y=me(_,w,N,C);return Da=null,Y}catch(G){if(G===Ua||G===Fn)throw G;var ne=ct(29,G,null,_.mode);return ne.lanes=C,ne.return=_,ne}}}var Fs=Rd(!0),Ud=Rd(!1),ms=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ps(e,t,s){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(re&2)!==0){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,t=Qn(e),pd(e,null,s),t}return In(e,i,t,s),Qn(e)}function Ui(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,Nu(e,s)}}function mo(e,t){var s=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var c=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};u===null?c=u=m:u=u.next=m,s=s.next}while(s!==null);u===null?c=u=t:u=u.next=t}else c=u=t;s={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var go=!1;function Di(){if(go){var e=Ra;if(e!==null)throw e}}function Mi(e,t,s,i){go=!1;var c=e.updateQueue;ms=!1;var u=c.firstBaseUpdate,m=c.lastBaseUpdate,p=c.shared.pending;if(p!==null){c.shared.pending=null;var x=p,S=x.next;x.next=null,m===null?u=S:m.next=S,m=x;var k=e.alternate;k!==null&&(k=k.updateQueue,p=k.lastBaseUpdate,p!==m&&(p===null?k.firstBaseUpdate=S:p.next=S,k.lastBaseUpdate=x))}if(u!==null){var U=c.baseState;m=0,k=S=x=null,p=u;do{var E=p.lane&-536870913,A=E!==p.lane;if(A?(se&E)===E:(i&E)===E){E!==0&&E===Ca&&(go=!0),k!==null&&(k=k.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var $=e,I=p;E=t;var me=s;switch(I.tag){case 1:if($=I.payload,typeof $=="function"){U=$.call(me,U,E);break e}U=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=I.payload,E=typeof $=="function"?$.call(me,U,E):$,E==null)break e;U=b({},U,E);break e;case 2:ms=!0}}E=p.callback,E!==null&&(e.flags|=64,A&&(e.flags|=8192),A=c.callbacks,A===null?c.callbacks=[E]:A.push(E))}else A={lane:E,tag:p.tag,payload:p.payload,callback:p.callback,next:null},k===null?(S=k=A,x=U):k=k.next=A,m|=E;if(p=p.next,p===null){if(p=c.shared.pending,p===null)break;A=p,p=A.next,A.next=null,c.lastBaseUpdate=A,c.shared.pending=null}}while(!0);k===null&&(x=U),c.baseState=x,c.firstBaseUpdate=S,c.lastBaseUpdate=k,u===null&&(c.shared.lanes=0),ws|=m,e.lanes=m,e.memoizedState=U}}function Dd(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Md(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Dd(s[e],t)}var Ma=Pe(null),al=Pe(0);function zd(e,t){e=ts,oe(al,e),oe(Ma,t),ts=e|t.baseLanes}function po(){oe(al,ts),oe(Ma,Ma.current)}function vo(){ts=al.current,Se(Ma),Se(al)}var ut=Pe(null),St=null;function vs(e){var t=e.alternate;oe(Oe,Oe.current&1),oe(ut,e),St===null&&(t===null||Ma.current!==null||t.memoizedState!==null)&&(St=e)}function yo(e){oe(Oe,Oe.current),oe(ut,e),St===null&&(St=e)}function Ld(e){e.tag===22?(oe(Oe,Oe.current),oe(ut,e),St===null&&(St=e)):ys()}function ys(){oe(Oe,Oe.current),oe(ut,ut.current)}function dt(e){Se(ut),St===e&&(St=null),Se(Oe)}var Oe=Pe(0);function il(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Nc(s)||Sc(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qt=0,Z=null,he=null,Ue=null,nl=!1,za=!1,ea=!1,ll=0,zi=0,La=null,Zp=0;function Ee(){throw Error(o(321))}function xo(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ot(e[s],t[s]))return!1;return!0}function bo(e,t,s,i,c,u){return Qt=u,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?bh:Mo,ea=!1,u=s(i,c),ea=!1,za&&(u=qd(t,s,i,c)),Bd(e),u}function Bd(e){R.H=qi;var t=he!==null&&he.next!==null;if(Qt=0,Ue=he=Z=null,nl=!1,zi=0,La=null,t)throw Error(o(300));e===null||De||(e=e.dependencies,e!==null&&Pn(e)&&(De=!0))}function qd(e,t,s,i){Z=e;var c=0;do{if(za&&(La=null),zi=0,za=!1,25<=c)throw Error(o(301));if(c+=1,Ue=he=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=wh,u=t(s,i)}while(za);return u}function Wp(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Li(t):t,e=e.useState()[0],(he!==null?he.memoizedState:null)!==e&&(Z.flags|=1024),t}function wo(){var e=ll!==0;return ll=0,e}function jo(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function _o(e){if(nl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nl=!1}Qt=0,Ue=he=Z=null,za=!1,zi=ll=0,La=null}function Ze(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Z.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function ke(){if(he===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=Ue===null?Z.memoizedState:Ue.next;if(t!==null)Ue=t,he=e;else{if(e===null)throw Z.alternate===null?Error(o(467)):Error(o(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ue===null?Z.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function rl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Li(e){var t=zi;return zi+=1,La===null&&(La=[]),e=Od(La,e,t),t=Z,(Ue===null?t.memoizedState:Ue.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?bh:Mo),e}function ol(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Li(e);if(e.$$typeof===z)return Ke(e)}throw Error(o(438,String(e)))}function No(e){var t=null,s=Z.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=rl(),Z.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),i=0;i<e;i++)s[i]=Nn;return t.index++,s}function Xt(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=ke();return So(t,he,e)}function So(e,t,s){var i=e.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=s;var c=e.baseQueue,u=i.pending;if(u!==null){if(c!==null){var m=c.next;c.next=u.next,u.next=m}t.baseQueue=c=u,i.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var p=m=null,x=null,S=t,k=!1;do{var U=S.lane&-536870913;if(U!==S.lane?(se&U)===U:(Qt&U)===U){var E=S.revertLane;if(E===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),U===Ca&&(k=!0);else if((Qt&E)===E){S=S.next,E===Ca&&(k=!0);continue}else U={lane:0,revertLane:S.revertLane,gesture:null,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},x===null?(p=x=U,m=u):x=x.next=U,Z.lanes|=E,ws|=E;U=S.action,ea&&s(u,U),u=S.hasEagerState?S.eagerState:s(u,U)}else E={lane:U,revertLane:S.revertLane,gesture:S.gesture,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},x===null?(p=x=E,m=u):x=x.next=E,Z.lanes|=U,ws|=U;S=S.next}while(S!==null&&S!==t);if(x===null?m=u:x.next=p,!ot(u,e.memoizedState)&&(De=!0,k&&(s=Ra,s!==null)))throw s;e.memoizedState=u,e.baseState=m,e.baseQueue=x,i.lastRenderedState=u}return c===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Eo(e){var t=ke(),s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var i=s.dispatch,c=s.pending,u=t.memoizedState;if(c!==null){s.pending=null;var m=c=c.next;do u=e(u,m.action),m=m.next;while(m!==c);ot(u,t.memoizedState)||(De=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),s.lastRenderedState=u}return[u,i]}function Hd(e,t,s){var i=Z,c=ke(),u=ie;if(u){if(s===void 0)throw Error(o(407));s=s()}else s=t();var m=!ot((he||c).memoizedState,s);if(m&&(c.memoizedState=s,De=!0),c=c.queue,Oo(Vd.bind(null,i,c,e),[e]),c.getSnapshot!==t||m||Ue!==null&&Ue.memoizedState.tag&1){if(i.flags|=2048,Ba(9,{destroy:void 0},Gd.bind(null,i,c,s,t),null),ge===null)throw Error(o(349));u||(Qt&127)!==0||$d(i,t,s)}return s}function $d(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Z.updateQueue,t===null?(t=rl(),Z.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Gd(e,t,s,i){t.value=s,t.getSnapshot=i,Kd(t)&&Yd(e)}function Vd(e,t,s){return s(function(){Kd(t)&&Yd(e)})}function Kd(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ot(e,s)}catch{return!0}}function Yd(e){var t=Ys(e,2);t!==null&&it(t,e,2)}function To(e){var t=Ze();if(typeof e=="function"){var s=e;if(e=s(),ea){rs(!0);try{s()}finally{rs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:e},t}function Id(e,t,s,i){return e.baseState=s,So(e,he,typeof i=="function"?i:Xt)}function Fp(e,t,s,i,c){if(hl(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};R.T!==null?s(!0):u.isTransition=!1,i(u),s=t.pending,s===null?(u.next=t.pending=u,Qd(t,u)):(u.next=s.next,t.pending=s.next=u)}}function Qd(e,t){var s=t.action,i=t.payload,c=e.state;if(t.isTransition){var u=R.T,m={};R.T=m;try{var p=s(c,i),x=R.S;x!==null&&x(m,p),Xd(e,t,p)}catch(S){Ao(e,t,S)}finally{u!==null&&m.types!==null&&(u.types=m.types),R.T=u}}else try{u=s(c,i),Xd(e,t,u)}catch(S){Ao(e,t,S)}}function Xd(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(i){Jd(e,t,i)},function(i){return Ao(e,t,i)}):Jd(e,t,s)}function Jd(e,t,s){t.status="fulfilled",t.value=s,Pd(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Qd(e,s)))}function Ao(e,t,s){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=s,Pd(t),t=t.next;while(t!==i)}e.action=null}function Pd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zd(e,t){return t}function Wd(e,t){if(ie){var s=ge.formState;if(s!==null){e:{var i=Z;if(ie){if(be){t:{for(var c=be,u=Nt;c.nodeType!==8;){if(!u){c=null;break t}if(c=Et(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){be=Et(c.nextSibling),i=c.data==="F!";break e}}hs(i)}i=!1}i&&(t=s[0])}}return s=Ze(),s.memoizedState=s.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:t},s.queue=i,s=vh.bind(null,Z,i),i.dispatch=s,i=To(!1),u=Do.bind(null,Z,!1,i.queue),i=Ze(),c={state:t,dispatch:null,action:e,pending:null},i.queue=c,s=Fp.bind(null,Z,c,u,s),c.dispatch=s,i.memoizedState=e,[t,s,!1]}function Fd(e){var t=ke();return eh(t,he,e)}function eh(e,t,s){if(t=So(e,t,Zd)[0],e=cl(Xt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Li(t)}catch(m){throw m===Ua?Fn:m}else i=t;t=ke();var c=t.queue,u=c.dispatch;return s!==t.memoizedState&&(Z.flags|=2048,Ba(9,{destroy:void 0},ev.bind(null,c,s),null)),[i,u,e]}function ev(e,t){e.action=t}function th(e){var t=ke(),s=he;if(s!==null)return eh(t,s,e);ke(),t=t.memoizedState,s=ke();var i=s.queue.dispatch;return s.memoizedState=e,[t,i,!1]}function Ba(e,t,s,i){return e={tag:e,create:s,deps:i,inst:t,next:null},t=Z.updateQueue,t===null&&(t=rl(),Z.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(i=s.next,s.next=e,e.next=i,t.lastEffect=e),e}function sh(){return ke().memoizedState}function ul(e,t,s,i){var c=Ze();Z.flags|=e,c.memoizedState=Ba(1|t,{destroy:void 0},s,i===void 0?null:i)}function dl(e,t,s,i){var c=ke();i=i===void 0?null:i;var u=c.memoizedState.inst;he!==null&&i!==null&&xo(i,he.memoizedState.deps)?c.memoizedState=Ba(t,u,s,i):(Z.flags|=e,c.memoizedState=Ba(1|t,u,s,i))}function ah(e,t){ul(8390656,8,e,t)}function Oo(e,t){dl(2048,8,e,t)}function tv(e){Z.flags|=4;var t=Z.updateQueue;if(t===null)t=rl(),Z.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function ih(e){var t=ke().memoizedState;return tv({ref:t,nextImpl:e}),function(){if((re&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function nh(e,t){return dl(4,2,e,t)}function lh(e,t){return dl(4,4,e,t)}function rh(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oh(e,t,s){s=s!=null?s.concat([e]):null,dl(4,4,rh.bind(null,t,e),s)}function ko(){}function ch(e,t){var s=ke();t=t===void 0?null:t;var i=s.memoizedState;return t!==null&&xo(t,i[1])?i[0]:(s.memoizedState=[e,t],e)}function uh(e,t){var s=ke();t=t===void 0?null:t;var i=s.memoizedState;if(t!==null&&xo(t,i[1]))return i[0];if(i=e(),ea){rs(!0);try{e()}finally{rs(!1)}}return s.memoizedState=[i,t],i}function Co(e,t,s){return s===void 0||(Qt&1073741824)!==0&&(se&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=hf(),Z.lanes|=e,ws|=e,s)}function dh(e,t,s,i){return ot(s,t)?s:Ma.current!==null?(e=Co(e,s,i),ot(e,t)||(De=!0),e):(Qt&42)===0||(Qt&1073741824)!==0&&(se&261930)===0?(De=!0,e.memoizedState=s):(e=hf(),Z.lanes|=e,ws|=e,t)}function hh(e,t,s,i,c){var u=q.p;q.p=u!==0&&8>u?u:8;var m=R.T,p={};R.T=p,Do(e,!1,t,s);try{var x=c(),S=R.S;if(S!==null&&S(p,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var k=Pp(x,i);Bi(e,t,k,mt(e))}else Bi(e,t,i,mt(e))}catch(U){Bi(e,t,{then:function(){},status:"rejected",reason:U},mt())}finally{q.p=u,m!==null&&p.types!==null&&(m.types=p.types),R.T=m}}function sv(){}function Ro(e,t,s,i){if(e.tag!==5)throw Error(o(476));var c=fh(e).queue;hh(e,c,t,P,s===null?sv:function(){return mh(e),s(i)})}function fh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:P},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mh(e){var t=fh(e);t.next===null&&(t=e.alternate.memoizedState),Bi(e,t.next.queue,{},mt())}function Uo(){return Ke(tn)}function gh(){return ke().memoizedState}function ph(){return ke().memoizedState}function av(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=mt();e=gs(s);var i=ps(t,e,s);i!==null&&(it(i,t,s),Ui(i,t,s)),t={cache:ro()},e.payload=t;return}t=t.return}}function iv(e,t,s){var i=mt();s={lane:i,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},hl(e)?yh(t,s):(s=Pr(e,t,s,i),s!==null&&(it(s,e,i),xh(s,t,i)))}function vh(e,t,s){var i=mt();Bi(e,t,s,i)}function Bi(e,t,s,i){var c={lane:i,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(hl(e))yh(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,p=u(m,s);if(c.hasEagerState=!0,c.eagerState=p,ot(p,m))return In(e,t,c,0),ge===null&&Yn(),!1}catch{}if(s=Pr(e,t,c,i),s!==null)return it(s,e,i),xh(s,t,i),!0}return!1}function Do(e,t,s,i){if(i={lane:2,revertLane:hc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},hl(e)){if(t)throw Error(o(479))}else t=Pr(e,s,i,2),t!==null&&it(t,e,2)}function hl(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function yh(e,t){za=nl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function xh(e,t,s){if((s&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,Nu(e,s)}}var qi={readContext:Ke,use:ol,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};qi.useEffectEvent=Ee;var bh={readContext:Ke,use:ol,useCallback:function(e,t){return Ze().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:ah,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,ul(4194308,4,rh.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){ul(4,2,e,t)},useMemo:function(e,t){var s=Ze();t=t===void 0?null:t;var i=e();if(ea){rs(!0);try{e()}finally{rs(!1)}}return s.memoizedState=[i,t],i},useReducer:function(e,t,s){var i=Ze();if(s!==void 0){var c=s(t);if(ea){rs(!0);try{s(t)}finally{rs(!1)}}}else c=t;return i.memoizedState=i.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},i.queue=e,e=e.dispatch=iv.bind(null,Z,e),[i.memoizedState,e]},useRef:function(e){var t=Ze();return e={current:e},t.memoizedState=e},useState:function(e){e=To(e);var t=e.queue,s=vh.bind(null,Z,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:ko,useDeferredValue:function(e,t){var s=Ze();return Co(s,e,t)},useTransition:function(){var e=To(!1);return e=hh.bind(null,Z,e.queue,!0,!1),Ze().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var i=Z,c=Ze();if(ie){if(s===void 0)throw Error(o(407));s=s()}else{if(s=t(),ge===null)throw Error(o(349));(se&127)!==0||$d(i,t,s)}c.memoizedState=s;var u={value:s,getSnapshot:t};return c.queue=u,ah(Vd.bind(null,i,u,e),[e]),i.flags|=2048,Ba(9,{destroy:void 0},Gd.bind(null,i,u,s,t),null),s},useId:function(){var e=Ze(),t=ge.identifierPrefix;if(ie){var s=zt,i=Mt;s=(i&~(1<<32-rt(i)-1)).toString(32)+s,t="_"+t+"R_"+s,s=ll++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=Zp++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uo,useFormState:Wd,useActionState:Wd,useOptimistic:function(e){var t=Ze();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Do.bind(null,Z,!0,s),s.dispatch=t,[e,t]},useMemoCache:No,useCacheRefresh:function(){return Ze().memoizedState=av.bind(null,Z)},useEffectEvent:function(e){var t=Ze(),s={impl:e};return t.memoizedState=s,function(){if((re&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},Mo={readContext:Ke,use:ol,useCallback:ch,useContext:Ke,useEffect:Oo,useImperativeHandle:oh,useInsertionEffect:nh,useLayoutEffect:lh,useMemo:uh,useReducer:cl,useRef:sh,useState:function(){return cl(Xt)},useDebugValue:ko,useDeferredValue:function(e,t){var s=ke();return dh(s,he.memoizedState,e,t)},useTransition:function(){var e=cl(Xt)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Hd,useId:gh,useHostTransitionStatus:Uo,useFormState:Fd,useActionState:Fd,useOptimistic:function(e,t){var s=ke();return Id(s,he,e,t)},useMemoCache:No,useCacheRefresh:ph};Mo.useEffectEvent=ih;var wh={readContext:Ke,use:ol,useCallback:ch,useContext:Ke,useEffect:Oo,useImperativeHandle:oh,useInsertionEffect:nh,useLayoutEffect:lh,useMemo:uh,useReducer:Eo,useRef:sh,useState:function(){return Eo(Xt)},useDebugValue:ko,useDeferredValue:function(e,t){var s=ke();return he===null?Co(s,e,t):dh(s,he.memoizedState,e,t)},useTransition:function(){var e=Eo(Xt)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Hd,useId:gh,useHostTransitionStatus:Uo,useFormState:th,useActionState:th,useOptimistic:function(e,t){var s=ke();return he!==null?Id(s,he,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:No,useCacheRefresh:ph};wh.useEffectEvent=ih;function zo(e,t,s,i){t=e.memoizedState,s=s(i,t),s=s==null?t:b({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Lo={enqueueSetState:function(e,t,s){e=e._reactInternals;var i=mt(),c=gs(i);c.payload=t,s!=null&&(c.callback=s),t=ps(e,c,i),t!==null&&(it(t,e,i),Ui(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var i=mt(),c=gs(i);c.tag=1,c.payload=t,s!=null&&(c.callback=s),t=ps(e,c,i),t!==null&&(it(t,e,i),Ui(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=mt(),i=gs(s);i.tag=2,t!=null&&(i.callback=t),t=ps(e,i,s),t!==null&&(it(t,e,s),Ui(t,e,s))}};function jh(e,t,s,i,c,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,m):t.prototype&&t.prototype.isPureReactComponent?!Si(s,i)||!Si(c,u):!0}function _h(e,t,s,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,i),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function ta(e,t){var s=t;if("ref"in t){s={};for(var i in t)i!=="ref"&&(s[i]=t[i])}if(e=e.defaultProps){s===t&&(s=b({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Nh(e){Kn(e)}function Sh(e){console.error(e)}function Eh(e){Kn(e)}function fl(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Th(e,t,s){try{var i=e.onCaughtError;i(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Bo(e,t,s){return s=gs(s),s.tag=3,s.payload={element:null},s.callback=function(){fl(e,t)},s}function Ah(e){return e=gs(e),e.tag=3,e}function Oh(e,t,s,i){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var u=i.value;e.payload=function(){return c(u)},e.callback=function(){Th(t,s,i)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Th(t,s,i),typeof c!="function"&&(js===null?js=new Set([this]):js.add(this));var p=i.stack;this.componentDidCatch(i.value,{componentStack:p!==null?p:""})})}function nv(e,t,s,i,c){if(s.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=s.alternate,t!==null&&ka(t,s,c,!0),s=ut.current,s!==null){switch(s.tag){case 31:case 13:return St===null?Sl():s.alternate===null&&Te===0&&(Te=3),s.flags&=-257,s.flags|=65536,s.lanes=c,i===el?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([i]):t.add(i),cc(e,i,c)),!1;case 22:return s.flags|=65536,i===el?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([i]):s.add(i)),cc(e,i,c)),!1}throw Error(o(435,s.tag))}return cc(e,i,c),Sl(),!1}if(ie)return t=ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,i!==so&&(e=Error(o(422),{cause:i}),Ai(wt(e,s)))):(i!==so&&(t=Error(o(423),{cause:i}),Ai(wt(t,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,i=wt(i,s),c=Bo(e.stateNode,i,c),mo(e,c),Te!==4&&(Te=2)),!1;var u=Error(o(520),{cause:i});if(u=wt(u,s),Qi===null?Qi=[u]:Qi.push(u),Te!==4&&(Te=2),t===null)return!0;i=wt(i,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Bo(s.stateNode,i,e),mo(s,e),!1;case 1:if(t=s.type,u=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(js===null||!js.has(u))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Ah(c),Oh(c,e,s,i),mo(s,c),!1}s=s.return}while(s!==null);return!1}var qo=Error(o(461)),De=!1;function Ye(e,t,s,i){t.child=e===null?Ud(t,null,s,i):Fs(t,e.child,s,i)}function kh(e,t,s,i,c){s=s.render;var u=t.ref;if("ref"in i){var m={};for(var p in i)p!=="ref"&&(m[p]=i[p])}else m=i;return Js(t),i=bo(e,t,s,m,u,c),p=wo(),e!==null&&!De?(jo(e,t,c),Jt(e,t,c)):(ie&&p&&eo(t),t.flags|=1,Ye(e,t,i,c),t.child)}function Ch(e,t,s,i,c){if(e===null){var u=s.type;return typeof u=="function"&&!Zr(u)&&u.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=u,Rh(e,t,u,i,c)):(e=Xn(s.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Qo(e,c)){var m=u.memoizedProps;if(s=s.compare,s=s!==null?s:Si,s(m,i)&&e.ref===t.ref)return Jt(e,t,c)}return t.flags|=1,e=Vt(u,i),e.ref=t.ref,e.return=t,t.child=e}function Rh(e,t,s,i,c){if(e!==null){var u=e.memoizedProps;if(Si(u,i)&&e.ref===t.ref)if(De=!1,t.pendingProps=i=u,Qo(e,c))(e.flags&131072)!==0&&(De=!0);else return t.lanes=e.lanes,Jt(e,t,c)}return Ho(e,t,s,i,c)}function Uh(e,t,s,i){var c=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|s:s,e!==null){for(i=t.child=e.child,c=0;i!==null;)c=c|i.lanes|i.childLanes,i=i.sibling;i=c&~u}else i=0,t.child=null;return Dh(e,t,u,s,i)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wn(t,u!==null?u.cachePool:null),u!==null?zd(t,u):po(),Ld(t);else return i=t.lanes=536870912,Dh(e,t,u!==null?u.baseLanes|s:s,s,i)}else u!==null?(Wn(t,u.cachePool),zd(t,u),ys(),t.memoizedState=null):(e!==null&&Wn(t,null),po(),ys());return Ye(e,t,c,s),t.child}function Hi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Dh(e,t,s,i,c){var u=co();return u=u===null?null:{parent:Re._currentValue,pool:u},t.memoizedState={baseLanes:s,cachePool:u},e!==null&&Wn(t,null),po(),Ld(t),e!==null&&ka(e,t,i,!0),t.childLanes=c,null}function ml(e,t){return t=pl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Mh(e,t,s){return Fs(t,e.child,null,s),e=ml(t,t.pendingProps),e.flags|=2,dt(t),t.memoizedState=null,e}function lv(e,t,s){var i=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ie){if(i.mode==="hidden")return e=ml(t,i),t.lanes=536870912,Hi(null,e);if(yo(t),(e=be)?(e=Xf(e,Nt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:us!==null?{id:Mt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},s=yd(e),s.return=t,t.child=s,Ve=t,be=null)):e=null,e===null)throw hs(t);return t.lanes=536870912,null}return ml(t,i)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(yo(t),c)if(t.flags&256)t.flags&=-257,t=Mh(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(De||ka(e,t,s,!1),c=(s&e.childLanes)!==0,De||c){if(i=ge,i!==null&&(m=Su(i,s),m!==0&&m!==u.retryLane))throw u.retryLane=m,Ys(e,m),it(i,e,m),qo;Sl(),t=Mh(e,t,s)}else e=u.treeContext,be=Et(m.nextSibling),Ve=t,ie=!0,ds=null,Nt=!1,e!==null&&wd(t,e),t=ml(t,i),t.flags|=4096;return t}return e=Vt(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function gl(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Ho(e,t,s,i,c){return Js(t),s=bo(e,t,s,i,void 0,c),i=wo(),e!==null&&!De?(jo(e,t,c),Jt(e,t,c)):(ie&&i&&eo(t),t.flags|=1,Ye(e,t,s,c),t.child)}function zh(e,t,s,i,c,u){return Js(t),t.updateQueue=null,s=qd(t,i,s,c),Bd(e),i=wo(),e!==null&&!De?(jo(e,t,u),Jt(e,t,u)):(ie&&i&&eo(t),t.flags|=1,Ye(e,t,s,u),t.child)}function Lh(e,t,s,i,c){if(Js(t),t.stateNode===null){var u=Ea,m=s.contextType;typeof m=="object"&&m!==null&&(u=Ke(m)),u=new s(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},ho(t),m=s.contextType,u.context=typeof m=="object"&&m!==null?Ke(m):Ea,u.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(zo(t,s,m,i),u.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Lo.enqueueReplaceState(u,u.state,null),Mi(t,i,u,c),Di(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var p=t.memoizedProps,x=ta(s,p);u.props=x;var S=u.context,k=s.contextType;m=Ea,typeof k=="object"&&k!==null&&(m=Ke(k));var U=s.getDerivedStateFromProps;k=typeof U=="function"||typeof u.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,k||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p||S!==m)&&_h(t,u,i,m),ms=!1;var E=t.memoizedState;u.state=E,Mi(t,i,u,c),Di(),S=t.memoizedState,p||E!==S||ms?(typeof U=="function"&&(zo(t,s,U,i),S=t.memoizedState),(x=ms||jh(t,s,x,i,E,S,m))?(k||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),u.props=i,u.state=S,u.context=m,i=x):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,fo(e,t),m=t.memoizedProps,k=ta(s,m),u.props=k,U=t.pendingProps,E=u.context,S=s.contextType,x=Ea,typeof S=="object"&&S!==null&&(x=Ke(S)),p=s.getDerivedStateFromProps,(S=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==U||E!==x)&&_h(t,u,i,x),ms=!1,E=t.memoizedState,u.state=E,Mi(t,i,u,c),Di();var A=t.memoizedState;m!==U||E!==A||ms||e!==null&&e.dependencies!==null&&Pn(e.dependencies)?(typeof p=="function"&&(zo(t,s,p,i),A=t.memoizedState),(k=ms||jh(t,s,k,i,E,A,x)||e!==null&&e.dependencies!==null&&Pn(e.dependencies))?(S||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,A,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,A,x)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=A),u.props=i,u.state=A,u.context=x,i=k):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,gl(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,s=i&&typeof s.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=Fs(t,e.child,null,c),t.child=Fs(t,null,s,c)):Ye(e,t,s,c),t.memoizedState=u.state,e=t.child):e=Jt(e,t,c),e}function Bh(e,t,s,i){return Qs(),t.flags|=256,Ye(e,t,s,i),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Go(e){return{baseLanes:e,cachePool:Td()}}function Vo(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=ft),e}function qh(e,t,s){var i=t.pendingProps,c=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),m&&(c=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(ie){if(c?vs(t):ys(),(e=be)?(e=Xf(e,Nt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:us!==null?{id:Mt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},s=yd(e),s.return=t,t.child=s,Ve=t,be=null)):e=null,e===null)throw hs(t);return Sc(e)?t.lanes=32:t.lanes=536870912,null}var p=i.children;return i=i.fallback,c?(ys(),c=t.mode,p=pl({mode:"hidden",children:p},c),i=Is(i,c,s,null),p.return=t,i.return=t,p.sibling=i,t.child=p,i=t.child,i.memoizedState=Go(s),i.childLanes=Vo(e,m,s),t.memoizedState=$o,Hi(null,i)):(vs(t),Ko(t,p))}var x=e.memoizedState;if(x!==null&&(p=x.dehydrated,p!==null)){if(u)t.flags&256?(vs(t),t.flags&=-257,t=Yo(e,t,s)):t.memoizedState!==null?(ys(),t.child=e.child,t.flags|=128,t=null):(ys(),p=i.fallback,c=t.mode,i=pl({mode:"visible",children:i.children},c),p=Is(p,c,s,null),p.flags|=2,i.return=t,p.return=t,i.sibling=p,t.child=i,Fs(t,e.child,null,s),i=t.child,i.memoizedState=Go(s),i.childLanes=Vo(e,m,s),t.memoizedState=$o,t=Hi(null,i));else if(vs(t),Sc(p)){if(m=p.nextSibling&&p.nextSibling.dataset,m)var S=m.dgst;m=S,i=Error(o(419)),i.stack="",i.digest=m,Ai({value:i,source:null,stack:null}),t=Yo(e,t,s)}else if(De||ka(e,t,s,!1),m=(s&e.childLanes)!==0,De||m){if(m=ge,m!==null&&(i=Su(m,s),i!==0&&i!==x.retryLane))throw x.retryLane=i,Ys(e,i),it(m,e,i),qo;Nc(p)||Sl(),t=Yo(e,t,s)}else Nc(p)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,be=Et(p.nextSibling),Ve=t,ie=!0,ds=null,Nt=!1,e!==null&&wd(t,e),t=Ko(t,i.children),t.flags|=4096);return t}return c?(ys(),p=i.fallback,c=t.mode,x=e.child,S=x.sibling,i=Vt(x,{mode:"hidden",children:i.children}),i.subtreeFlags=x.subtreeFlags&65011712,S!==null?p=Vt(S,p):(p=Is(p,c,s,null),p.flags|=2),p.return=t,i.return=t,i.sibling=p,t.child=i,Hi(null,i),i=t.child,p=e.child.memoizedState,p===null?p=Go(s):(c=p.cachePool,c!==null?(x=Re._currentValue,c=c.parent!==x?{parent:x,pool:x}:c):c=Td(),p={baseLanes:p.baseLanes|s,cachePool:c}),i.memoizedState=p,i.childLanes=Vo(e,m,s),t.memoizedState=$o,Hi(e.child,i)):(vs(t),s=e.child,e=s.sibling,s=Vt(s,{mode:"visible",children:i.children}),s.return=t,s.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=s,t.memoizedState=null,s)}function Ko(e,t){return t=pl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function pl(e,t){return e=ct(22,e,null,t),e.lanes=0,e}function Yo(e,t,s){return Fs(t,e.child,null,s),e=Ko(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hh(e,t,s){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),no(e.return,t,s)}function Io(e,t,s,i,c,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:c,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=s,m.tailMode=c,m.treeForkCount=u)}function $h(e,t,s){var i=t.pendingProps,c=i.revealOrder,u=i.tail;i=i.children;var m=Oe.current,p=(m&2)!==0;if(p?(m=m&1|2,t.flags|=128):m&=1,oe(Oe,m),Ye(e,t,i,s),i=ie?Ti:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hh(e,s,t);else if(e.tag===19)Hh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&il(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),Io(t,!1,c,s,u,i);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&il(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Io(t,!0,s,null,u,i);break;case"together":Io(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Jt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(ka(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,s=Vt(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Vt(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Pn(e)))}function rv(e,t,s){switch(t.tag){case 3:Tn(t,t.stateNode.containerInfo),fs(t,Re,e.memoizedState.cache),Qs();break;case 27:case 5:pr(t);break;case 4:Tn(t,t.stateNode.containerInfo);break;case 10:fs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yo(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(vs(t),t.flags|=128,null):(s&t.child.childLanes)!==0?qh(e,t,s):(vs(t),e=Jt(e,t,s),e!==null?e.sibling:null);vs(t);break;case 19:var c=(e.flags&128)!==0;if(i=(s&t.childLanes)!==0,i||(ka(e,t,s,!1),i=(s&t.childLanes)!==0),c){if(i)return $h(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),oe(Oe,Oe.current),i)break;return null;case 22:return t.lanes=0,Uh(e,t,s,t.pendingProps);case 24:fs(t,Re,e.memoizedState.cache)}return Jt(e,t,s)}function Gh(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)De=!0;else{if(!Qo(e,s)&&(t.flags&128)===0)return De=!1,rv(e,t,s);De=(e.flags&131072)!==0}else De=!1,ie&&(t.flags&1048576)!==0&&bd(t,Ti,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Zs(t.elementType),t.type=e,typeof e=="function")Zr(e)?(i=ta(e,i),t.tag=1,t=Lh(null,t,e,i,s)):(t.tag=0,t=Ho(null,t,e,i,s));else{if(e!=null){var c=e.$$typeof;if(c===J){t.tag=11,t=kh(null,t,e,i,s);break e}else if(c===ce){t.tag=14,t=Ch(null,t,e,i,s);break e}}throw t=hi(e)||e,Error(o(306,t,""))}}return t;case 0:return Ho(e,t,t.type,t.pendingProps,s);case 1:return i=t.type,c=ta(i,t.pendingProps),Lh(e,t,i,c,s);case 3:e:{if(Tn(t,t.stateNode.containerInfo),e===null)throw Error(o(387));i=t.pendingProps;var u=t.memoizedState;c=u.element,fo(e,t),Mi(t,i,null,s);var m=t.memoizedState;if(i=m.cache,fs(t,Re,i),i!==u.cache&&lo(t,[Re],s,!0),Di(),i=m.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Bh(e,t,i,s);break e}else if(i!==c){c=wt(Error(o(424)),t),Ai(c),t=Bh(e,t,i,s);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,be=Et(e.firstChild),Ve=t,ie=!0,ds=null,Nt=!0,s=Ud(t,null,i,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Qs(),i===c){t=Jt(e,t,s);break e}Ye(e,t,i,s)}t=t.child}return t;case 26:return gl(e,t),e===null?(s=em(t.type,null,t.pendingProps,null))?t.memoizedState=s:ie||(s=t.type,e=t.pendingProps,i=Rl(ls.current).createElement(s),i[Ge]=t,i[We]=e,Ie(i,s,e),He(i),t.stateNode=i):t.memoizedState=em(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pr(t),e===null&&ie&&(i=t.stateNode=Zf(t.type,t.pendingProps,ls.current),Ve=t,Nt=!0,c=be,Es(t.type)?(Ec=c,be=Et(i.firstChild)):be=c),Ye(e,t,t.pendingProps.children,s),gl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ie&&((c=i=be)&&(i=Lv(i,t.type,t.pendingProps,Nt),i!==null?(t.stateNode=i,Ve=t,be=Et(i.firstChild),Nt=!1,c=!0):c=!1),c||hs(t)),pr(t),c=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,i=u.children,wc(c,u)?i=null:m!==null&&wc(c,m)&&(t.flags|=32),t.memoizedState!==null&&(c=bo(e,t,Wp,null,null,s),tn._currentValue=c),gl(e,t),Ye(e,t,i,s),t.child;case 6:return e===null&&ie&&((e=s=be)&&(s=Bv(s,t.pendingProps,Nt),s!==null?(t.stateNode=s,Ve=t,be=null,e=!0):e=!1),e||hs(t)),null;case 13:return qh(e,t,s);case 4:return Tn(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Fs(t,null,i,s):Ye(e,t,i,s),t.child;case 11:return kh(e,t,t.type,t.pendingProps,s);case 7:return Ye(e,t,t.pendingProps,s),t.child;case 8:return Ye(e,t,t.pendingProps.children,s),t.child;case 12:return Ye(e,t,t.pendingProps.children,s),t.child;case 10:return i=t.pendingProps,fs(t,t.type,i.value),Ye(e,t,i.children,s),t.child;case 9:return c=t.type._context,i=t.pendingProps.children,Js(t),c=Ke(c),i=i(c),t.flags|=1,Ye(e,t,i,s),t.child;case 14:return Ch(e,t,t.type,t.pendingProps,s);case 15:return Rh(e,t,t.type,t.pendingProps,s);case 19:return $h(e,t,s);case 31:return lv(e,t,s);case 22:return Uh(e,t,s,t.pendingProps);case 24:return Js(t),i=Ke(Re),e===null?(c=co(),c===null&&(c=ge,u=ro(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=s),c=u),t.memoizedState={parent:i,cache:c},ho(t),fs(t,Re,c)):((e.lanes&s)!==0&&(fo(e,t),Mi(t,null,null,s),Di()),c=e.memoizedState,u=t.memoizedState,c.parent!==i?(c={parent:i,cache:i},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),fs(t,Re,i)):(i=u.cache,fs(t,Re,i),i!==c.cache&&lo(t,[Re],s,!0))),Ye(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Pt(e){e.flags|=4}function Xo(e,t,s,i,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(pf())e.flags|=8192;else throw Ws=el,uo}else e.flags&=-16777217}function Vh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!nm(t))if(pf())e.flags|=8192;else throw Ws=el,uo}function vl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ju():536870912,e.lanes|=t,Ga|=t)}function $i(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,i=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,i|=c.subtreeFlags&65011712,i|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=s,t}function ov(e,t,s){var i=t.pendingProps;switch(to(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return we(t),null;case 3:return s=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),It(Re),ha(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Oa(t)?Pt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ao())),we(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(Pt(t),u!==null?(we(t),Vh(t,u)):(we(t),Xo(t,c,null,i,s))):u?u!==e.memoizedState?(Pt(t),we(t),Vh(t,u)):(we(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Pt(t),we(t),Xo(t,c,e,i,s)),null;case 27:if(An(t),s=ls.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Pt(t);else{if(!i){if(t.stateNode===null)throw Error(o(166));return we(t),null}e=qe.current,Oa(t)?jd(t):(e=Zf(c,i,s),t.stateNode=e,Pt(t))}return we(t),null;case 5:if(An(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Pt(t);else{if(!i){if(t.stateNode===null)throw Error(o(166));return we(t),null}if(u=qe.current,Oa(t))jd(t);else{var m=Rl(ls.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?m.createElement("select",{is:i.is}):m.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?m.createElement(c,{is:i.is}):m.createElement(c)}}u[Ge]=t,u[We]=i;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(Ie(u,c,i),c){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Pt(t)}}return we(t),Xo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Pt(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(o(166));if(e=ls.current,Oa(t)){if(e=t.stateNode,s=t.memoizedProps,i=null,c=Ve,c!==null)switch(c.tag){case 27:case 5:i=c.memoizedProps}e[Ge]=t,e=!!(e.nodeValue===s||i!==null&&i.suppressHydrationWarning===!0||Hf(e.nodeValue,s)),e||hs(t,!0)}else e=Rl(e).createTextNode(i),e[Ge]=t,t.stateNode=e}return we(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(i=Oa(t),s!==null){if(e===null){if(!i)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Ge]=t}else Qs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;we(t),e=!1}else s=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(dt(t),t):(dt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return we(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Oa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Ge]=t}else Qs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;we(t),c=!1}else c=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(dt(t),t):(dt(t),null)}return dt(t),(t.flags&128)!==0?(t.lanes=s,t):(s=i!==null,e=e!==null&&e.memoizedState!==null,s&&(i=t.child,c=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(c=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==c&&(i.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),vl(t,t.updateQueue),we(t),null);case 4:return ha(),e===null&&pc(t.stateNode.containerInfo),we(t),null;case 10:return It(t.type),we(t),null;case 19:if(Se(Oe),i=t.memoizedState,i===null)return we(t),null;if(c=(t.flags&128)!==0,u=i.rendering,u===null)if(c)$i(i,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=il(e),u!==null){for(t.flags|=128,$i(i,!1),e=u.updateQueue,t.updateQueue=e,vl(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)vd(s,e),s=s.sibling;return oe(Oe,Oe.current&1|2),ie&&Kt(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&nt()>jl&&(t.flags|=128,c=!0,$i(i,!1),t.lanes=4194304)}else{if(!c)if(e=il(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,vl(t,e),$i(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!ie)return we(t),null}else 2*nt()-i.renderingStartTime>jl&&s!==536870912&&(t.flags|=128,c=!0,$i(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,s=Oe.current,oe(Oe,c?s&1|2:s&1),ie&&Kt(t,i.treeForkCount),e):(we(t),null);case 22:case 23:return dt(t),vo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(s&536870912)!==0&&(t.flags&128)===0&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),s=t.updateQueue,s!==null&&vl(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==s&&(t.flags|=2048),e!==null&&Se(Ps),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),It(Re),we(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function cv(e,t){switch(to(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return It(Re),ha(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return An(t),null;case 31:if(t.memoizedState!==null){if(dt(t),t.alternate===null)throw Error(o(340));Qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(dt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Oe),null;case 4:return ha(),null;case 10:return It(t.type),null;case 22:case 23:return dt(t),vo(),e!==null&&Se(Ps),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return It(Re),null;case 25:return null;default:return null}}function Kh(e,t){switch(to(t),t.tag){case 3:It(Re),ha();break;case 26:case 27:case 5:An(t);break;case 4:ha();break;case 31:t.memoizedState!==null&&dt(t);break;case 13:dt(t);break;case 19:Se(Oe);break;case 10:It(t.type);break;case 22:case 23:dt(t),vo(),e!==null&&Se(Ps);break;case 24:It(Re)}}function Gi(e,t){try{var s=t.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var c=i.next;s=c;do{if((s.tag&e)===e){i=void 0;var u=s.create,m=s.inst;i=u(),m.destroy=i}s=s.next}while(s!==c)}}catch(p){de(t,t.return,p)}}function xs(e,t,s){try{var i=t.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var u=c.next;i=u;do{if((i.tag&e)===e){var m=i.inst,p=m.destroy;if(p!==void 0){m.destroy=void 0,c=t;var x=s,S=p;try{S()}catch(k){de(c,x,k)}}}i=i.next}while(i!==u)}}catch(k){de(t,t.return,k)}}function Yh(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Md(t,s)}catch(i){de(e,e.return,i)}}}function Ih(e,t,s){s.props=ta(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(i){de(e,t,i)}}function Vi(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof s=="function"?e.refCleanup=s(i):s.current=i}}catch(c){de(e,t,c)}}function Lt(e,t){var s=e.ref,i=e.refCleanup;if(s!==null)if(typeof i=="function")try{i()}catch(c){de(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){de(e,t,c)}else s.current=null}function Qh(e){var t=e.type,s=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&i.focus();break e;case"img":s.src?i.src=s.src:s.srcSet&&(i.srcset=s.srcSet)}}catch(c){de(e,e.return,c)}}function Jo(e,t,s){try{var i=e.stateNode;Cv(i,e.type,s,t),i[We]=t}catch(c){de(e,e.return,c)}}function Xh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Es(e.type)||e.tag===4}function Po(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Es(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zo(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=$t));else if(i!==4&&(i===27&&Es(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Zo(e,t,s),e=e.sibling;e!==null;)Zo(e,t,s),e=e.sibling}function yl(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(i!==4&&(i===27&&Es(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(yl(e,t,s),e=e.sibling;e!==null;)yl(e,t,s),e=e.sibling}function Jh(e){var t=e.stateNode,s=e.memoizedProps;try{for(var i=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Ie(t,i,s),t[Ge]=e,t[We]=s}catch(u){de(e,e.return,u)}}var Zt=!1,Me=!1,Wo=!1,Ph=typeof WeakSet=="function"?WeakSet:Set,$e=null;function uv(e,t){if(e=e.containerInfo,xc=ql,e=od(e),Kr(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var c=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var m=0,p=-1,x=-1,S=0,k=0,U=e,E=null;t:for(;;){for(var A;U!==s||c!==0&&U.nodeType!==3||(p=m+c),U!==u||i!==0&&U.nodeType!==3||(x=m+i),U.nodeType===3&&(m+=U.nodeValue.length),(A=U.firstChild)!==null;)E=U,U=A;for(;;){if(U===e)break t;if(E===s&&++S===c&&(p=m),E===u&&++k===i&&(x=m),(A=U.nextSibling)!==null)break;U=E,E=U.parentNode}U=A}s=p===-1||x===-1?null:{start:p,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(bc={focusedElem:e,selectionRange:s},ql=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){switch(t=$e,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,s=t,c=u.memoizedProps,u=u.memoizedState,i=s.stateNode;try{var $=ta(s.type,c);e=i.getSnapshotBeforeUpdate($,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(I){de(s,s.return,I)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)_c(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_c(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}}function Zh(e,t,s){var i=s.flags;switch(s.tag){case 0:case 11:case 15:Ft(e,s),i&4&&Gi(5,s);break;case 1:if(Ft(e,s),i&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(m){de(s,s.return,m)}else{var c=ta(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){de(s,s.return,m)}}i&64&&Yh(s),i&512&&Vi(s,s.return);break;case 3:if(Ft(e,s),i&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Md(e,t)}catch(m){de(s,s.return,m)}}break;case 27:t===null&&i&4&&Jh(s);case 26:case 5:Ft(e,s),t===null&&i&4&&Qh(s),i&512&&Vi(s,s.return);break;case 12:Ft(e,s);break;case 31:Ft(e,s),i&4&&ef(e,s);break;case 13:Ft(e,s),i&4&&tf(e,s),i&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=xv.bind(null,s),qv(e,s))));break;case 22:if(i=s.memoizedState!==null||Zt,!i){t=t!==null&&t.memoizedState!==null||Me,c=Zt;var u=Me;Zt=i,(Me=t)&&!u?es(e,s,(s.subtreeFlags&8772)!==0):Ft(e,s),Zt=c,Me=u}break;case 30:break;default:Ft(e,s)}}function Wh(e){var t=e.alternate;t!==null&&(e.alternate=null,Wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,et=!1;function Wt(e,t,s){for(s=s.child;s!==null;)Fh(e,t,s),s=s.sibling}function Fh(e,t,s){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(fi,s)}catch{}switch(s.tag){case 26:Me||Lt(s,t),Wt(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Me||Lt(s,t);var i=je,c=et;Es(s.type)&&(je=s.stateNode,et=!1),Wt(e,t,s),Wi(s.stateNode),je=i,et=c;break;case 5:Me||Lt(s,t);case 6:if(i=je,c=et,je=null,Wt(e,t,s),je=i,et=c,je!==null)if(et)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(s.stateNode)}catch(u){de(s,t,u)}else try{je.removeChild(s.stateNode)}catch(u){de(s,t,u)}break;case 18:je!==null&&(et?(e=je,If(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pa(e)):If(je,s.stateNode));break;case 4:i=je,c=et,je=s.stateNode.containerInfo,et=!0,Wt(e,t,s),je=i,et=c;break;case 0:case 11:case 14:case 15:xs(2,s,t),Me||xs(4,s,t),Wt(e,t,s);break;case 1:Me||(Lt(s,t),i=s.stateNode,typeof i.componentWillUnmount=="function"&&Ih(s,t,i)),Wt(e,t,s);break;case 21:Wt(e,t,s);break;case 22:Me=(i=Me)||s.memoizedState!==null,Wt(e,t,s),Me=i;break;default:Wt(e,t,s)}}function ef(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(s){de(t,t.return,s)}}}function tf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(s){de(t,t.return,s)}}function dv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ph),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ph),t;default:throw Error(o(435,e.tag))}}function xl(e,t){var s=dv(e);t.forEach(function(i){if(!s.has(i)){s.add(i);var c=bv.bind(null,e,i);i.then(c,c)}})}function tt(e,t){var s=t.deletions;if(s!==null)for(var i=0;i<s.length;i++){var c=s[i],u=e,m=t,p=m;e:for(;p!==null;){switch(p.tag){case 27:if(Es(p.type)){je=p.stateNode,et=!1;break e}break;case 5:je=p.stateNode,et=!1;break e;case 3:case 4:je=p.stateNode.containerInfo,et=!0;break e}p=p.return}if(je===null)throw Error(o(160));Fh(u,m,c),je=null,et=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sf(t,e),t=t.sibling}var Ot=null;function sf(e,t){var s=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:tt(t,e),st(e),i&4&&(xs(3,e,e.return),Gi(3,e),xs(5,e,e.return));break;case 1:tt(t,e),st(e),i&512&&(Me||s===null||Lt(s,s.return)),i&64&&Zt&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?i:s.concat(i))));break;case 26:var c=Ot;if(tt(t,e),st(e),i&512&&(Me||s===null||Lt(s,s.return)),i&4){var u=s!==null?s.memoizedState:null;if(i=e.memoizedState,s===null)if(i===null)if(e.stateNode===null){e:{i=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(i){case"title":u=c.getElementsByTagName("title")[0],(!u||u[pi]||u[Ge]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(i),c.head.insertBefore(u,c.querySelector("head > title"))),Ie(u,i,s),u[Ge]=e,He(u),i=u;break e;case"link":var m=am("link","href",c).get(i+(s.href||""));if(m){for(var p=0;p<m.length;p++)if(u=m[p],u.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&u.getAttribute("rel")===(s.rel==null?null:s.rel)&&u.getAttribute("title")===(s.title==null?null:s.title)&&u.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(p,1);break t}}u=c.createElement(i),Ie(u,i,s),c.head.appendChild(u);break;case"meta":if(m=am("meta","content",c).get(i+(s.content||""))){for(p=0;p<m.length;p++)if(u=m[p],u.getAttribute("content")===(s.content==null?null:""+s.content)&&u.getAttribute("name")===(s.name==null?null:s.name)&&u.getAttribute("property")===(s.property==null?null:s.property)&&u.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&u.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(p,1);break t}}u=c.createElement(i),Ie(u,i,s),c.head.appendChild(u);break;default:throw Error(o(468,i))}u[Ge]=e,He(u),i=u}e.stateNode=i}else im(c,e.type,e.stateNode);else e.stateNode=sm(c,i,e.memoizedProps);else u!==i?(u===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):u.count--,i===null?im(c,e.type,e.stateNode):sm(c,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Jo(e,e.memoizedProps,s.memoizedProps)}break;case 27:tt(t,e),st(e),i&512&&(Me||s===null||Lt(s,s.return)),s!==null&&i&4&&Jo(e,e.memoizedProps,s.memoizedProps);break;case 5:if(tt(t,e),st(e),i&512&&(Me||s===null||Lt(s,s.return)),e.flags&32){c=e.stateNode;try{xa(c,"")}catch($){de(e,e.return,$)}}i&4&&e.stateNode!=null&&(c=e.memoizedProps,Jo(e,c,s!==null?s.memoizedProps:c)),i&1024&&(Wo=!0);break;case 6:if(tt(t,e),st(e),i&4){if(e.stateNode===null)throw Error(o(162));i=e.memoizedProps,s=e.stateNode;try{s.nodeValue=i}catch($){de(e,e.return,$)}}break;case 3:if(Ml=null,c=Ot,Ot=Ul(t.containerInfo),tt(t,e),Ot=c,st(e),i&4&&s!==null&&s.memoizedState.isDehydrated)try{Pa(t.containerInfo)}catch($){de(e,e.return,$)}Wo&&(Wo=!1,af(e));break;case 4:i=Ot,Ot=Ul(e.stateNode.containerInfo),tt(t,e),st(e),Ot=i;break;case 12:tt(t,e),st(e);break;case 31:tt(t,e),st(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xl(e,i)));break;case 13:tt(t,e),st(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(wl=nt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xl(e,i)));break;case 22:c=e.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,S=Zt,k=Me;if(Zt=S||c,Me=k||x,tt(t,e),Me=k,Zt=S,st(e),i&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(s===null||x||Zt||Me||sa(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){x=s=t;try{if(u=x.stateNode,c)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{p=x.stateNode;var U=x.memoizedProps.style,E=U!=null&&U.hasOwnProperty("display")?U.display:null;p.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch($){de(x,x.return,$)}}}else if(t.tag===6){if(s===null){x=t;try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch($){de(x,x.return,$)}}}else if(t.tag===18){if(s===null){x=t;try{var A=x.stateNode;c?Qf(A,!0):Qf(x.stateNode,!1)}catch($){de(x,x.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(s=i.retryQueue,s!==null&&(i.retryQueue=null,xl(e,s))));break;case 19:tt(t,e),st(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xl(e,i)));break;case 30:break;case 21:break;default:tt(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{for(var s,i=e.return;i!==null;){if(Xh(i)){s=i;break}i=i.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var c=s.stateNode,u=Po(e);yl(e,u,c);break;case 5:var m=s.stateNode;s.flags&32&&(xa(m,""),s.flags&=-33);var p=Po(e);yl(e,p,m);break;case 3:case 4:var x=s.stateNode.containerInfo,S=Po(e);Zo(e,S,x);break;default:throw Error(o(161))}}catch(k){de(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function af(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;af(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ft(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zh(e,t.alternate,t),t=t.sibling}function sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xs(4,t,t.return),sa(t);break;case 1:Lt(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Ih(t,t.return,s),sa(t);break;case 27:Wi(t.stateNode);case 26:case 5:Lt(t,t.return),sa(t);break;case 22:t.memoizedState===null&&sa(t);break;case 30:sa(t);break;default:sa(t)}e=e.sibling}}function es(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,c=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:es(c,u,s),Gi(4,u);break;case 1:if(es(c,u,s),i=u,c=i.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(S){de(i,i.return,S)}if(i=u,c=i.updateQueue,c!==null){var p=i.stateNode;try{var x=c.shared.hiddenCallbacks;if(x!==null)for(c.shared.hiddenCallbacks=null,c=0;c<x.length;c++)Dd(x[c],p)}catch(S){de(i,i.return,S)}}s&&m&64&&Yh(u),Vi(u,u.return);break;case 27:Jh(u);case 26:case 5:es(c,u,s),s&&i===null&&m&4&&Qh(u),Vi(u,u.return);break;case 12:es(c,u,s);break;case 31:es(c,u,s),s&&m&4&&ef(c,u);break;case 13:es(c,u,s),s&&m&4&&tf(c,u);break;case 22:u.memoizedState===null&&es(c,u,s),Vi(u,u.return);break;case 30:break;default:es(c,u,s)}t=t.sibling}}function Fo(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Oi(s))}function ec(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Oi(e))}function kt(e,t,s,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nf(e,t,s,i),t=t.sibling}function nf(e,t,s,i){var c=t.flags;switch(t.tag){case 0:case 11:case 15:kt(e,t,s,i),c&2048&&Gi(9,t);break;case 1:kt(e,t,s,i);break;case 3:kt(e,t,s,i),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Oi(e)));break;case 12:if(c&2048){kt(e,t,s,i),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,p=u.onPostCommit;typeof p=="function"&&p(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){de(t,t.return,x)}}else kt(e,t,s,i);break;case 31:kt(e,t,s,i);break;case 13:kt(e,t,s,i);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?kt(e,t,s,i):Ki(e,t):u._visibility&2?kt(e,t,s,i):(u._visibility|=2,qa(e,t,s,i,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Fo(m,t);break;case 24:kt(e,t,s,i),c&2048&&ec(t.alternate,t);break;default:kt(e,t,s,i)}}function qa(e,t,s,i,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,p=s,x=i,S=m.flags;switch(m.tag){case 0:case 11:case 15:qa(u,m,p,x,c),Gi(8,m);break;case 23:break;case 22:var k=m.stateNode;m.memoizedState!==null?k._visibility&2?qa(u,m,p,x,c):Ki(u,m):(k._visibility|=2,qa(u,m,p,x,c)),c&&S&2048&&Fo(m.alternate,m);break;case 24:qa(u,m,p,x,c),c&&S&2048&&ec(m.alternate,m);break;default:qa(u,m,p,x,c)}t=t.sibling}}function Ki(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,i=t,c=i.flags;switch(i.tag){case 22:Ki(s,i),c&2048&&Fo(i.alternate,i);break;case 24:Ki(s,i),c&2048&&ec(i.alternate,i);break;default:Ki(s,i)}t=t.sibling}}var Yi=8192;function Ha(e,t,s){if(e.subtreeFlags&Yi)for(e=e.child;e!==null;)lf(e,t,s),e=e.sibling}function lf(e,t,s){switch(e.tag){case 26:Ha(e,t,s),e.flags&Yi&&e.memoizedState!==null&&Zv(s,Ot,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,t,s);break;case 3:case 4:var i=Ot;Ot=Ul(e.stateNode.containerInfo),Ha(e,t,s),Ot=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Yi,Yi=16777216,Ha(e,t,s),Yi=i):Ha(e,t,s));break;default:Ha(e,t,s)}}function rf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ii(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];$e=i,cf(i,e)}rf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)of(e),e=e.sibling}function of(e){switch(e.tag){case 0:case 11:case 15:Ii(e),e.flags&2048&&xs(9,e,e.return);break;case 3:Ii(e);break;case 12:Ii(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bl(e)):Ii(e);break;default:Ii(e)}}function bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];$e=i,cf(i,e)}rf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xs(8,t,t.return),bl(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,bl(t));break;default:bl(t)}e=e.sibling}}function cf(e,t){for(;$e!==null;){var s=$e;switch(s.tag){case 0:case 11:case 15:xs(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var i=s.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Oi(s.memoizedState.cache)}if(i=s.child,i!==null)i.return=s,$e=i;else e:for(s=e;$e!==null;){i=$e;var c=i.sibling,u=i.return;if(Wh(i),i===s){$e=null;break e}if(c!==null){c.return=u,$e=c;break e}$e=u}}}var hv={getCacheForType:function(e){var t=Ke(Re),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return Ke(Re).controller.signal}},fv=typeof WeakMap=="function"?WeakMap:Map,re=0,ge=null,ee=null,se=0,ue=0,ht=null,bs=!1,$a=!1,tc=!1,ts=0,Te=0,ws=0,aa=0,sc=0,ft=0,Ga=0,Qi=null,at=null,ac=!1,wl=0,uf=0,jl=1/0,_l=null,js=null,Le=0,_s=null,Va=null,ss=0,ic=0,nc=null,df=null,Xi=0,lc=null;function mt(){return(re&2)!==0&&se!==0?se&-se:R.T!==null?hc():Eu()}function hf(){if(ft===0)if((se&536870912)===0||ie){var e=Cn;Cn<<=1,(Cn&3932160)===0&&(Cn=262144),ft=e}else ft=536870912;return e=ut.current,e!==null&&(e.flags|=32),ft}function it(e,t,s){(e===ge&&(ue===2||ue===9)||e.cancelPendingCommit!==null)&&(Ka(e,0),Ns(e,se,ft,!1)),gi(e,s),((re&2)===0||e!==ge)&&(e===ge&&((re&2)===0&&(aa|=s),Te===4&&Ns(e,se,ft,!1)),Bt(e))}function ff(e,t,s){if((re&6)!==0)throw Error(o(327));var i=!s&&(t&127)===0&&(t&e.expiredLanes)===0||mi(e,t),c=i?pv(e,t):oc(e,t,!0),u=i;do{if(c===0){$a&&!i&&Ns(e,t,0,!1);break}else{if(s=e.current.alternate,u&&!mv(s)){c=oc(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var p=e;c=Qi;var x=p.current.memoizedState.isDehydrated;if(x&&(Ka(p,m).flags|=256),m=oc(p,m,!1),m!==2){if(tc&&!x){p.errorRecoveryDisabledLanes|=u,aa|=u,c=4;break e}u=at,at=c,u!==null&&(at===null?at=u:at.push.apply(at,u))}c=m}if(u=!1,c!==2)continue}}if(c===1){Ka(e,0),Ns(e,t,0,!0);break}e:{switch(i=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Ns(i,t,ft,!bs);break e;case 2:at=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=wl+300-nt(),10<c)){if(Ns(i,t,ft,!bs),Un(i,0,!0)!==0)break e;ss=t,i.timeoutHandle=Kf(mf.bind(null,i,s,at,_l,ac,t,ft,aa,Ga,bs,u,"Throttled",-0,0),c);break e}mf(i,s,at,_l,ac,t,ft,aa,Ga,bs,u,null,-0,0)}}break}while(!0);Bt(e)}function mf(e,t,s,i,c,u,m,p,x,S,k,U,E,A){if(e.timeoutHandle=-1,U=t.subtreeFlags,U&8192||(U&16785408)===16785408){U={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},lf(t,u,U);var $=(u&62914560)===u?wl-nt():(u&4194048)===u?uf-nt():0;if($=Wv(U,$),$!==null){ss=u,e.cancelPendingCommit=$(jf.bind(null,e,t,u,s,i,c,m,p,x,k,U,null,E,A)),Ns(e,u,m,!S);return}}jf(e,t,u,s,i,c,m,p,x)}function mv(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var i=0;i<s.length;i++){var c=s[i],u=c.getSnapshot;c=c.value;try{if(!ot(u(),c))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ns(e,t,s,i){t&=~sc,t&=~aa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var c=t;0<c;){var u=31-rt(c),m=1<<u;i[u]=-1,c&=~m}s!==0&&_u(e,s,t)}function Nl(){return(re&6)===0?(Ji(0),!1):!0}function rc(){if(ee!==null){if(ue===0)var e=ee.return;else e=ee,Yt=Xs=null,_o(e),Da=null,Ci=0,e=ee;for(;e!==null;)Kh(e.alternate,e),e=e.return;ee=null}}function Ka(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Dv(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ss=0,rc(),ge=e,ee=s=Vt(e.current,null),se=t,ue=0,ht=null,bs=!1,$a=mi(e,t),tc=!1,Ga=ft=sc=aa=ws=Te=0,at=Qi=null,ac=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var c=31-rt(i),u=1<<c;t|=e[c],i&=~u}return ts=t,Yn(),s}function gf(e,t){Z=null,R.H=qi,t===Ua||t===Fn?(t=kd(),ue=3):t===uo?(t=kd(),ue=4):ue=t===qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ht=t,ee===null&&(Te=1,fl(e,wt(t,e.current)))}function pf(){var e=ut.current;return e===null?!0:(se&4194048)===se?St===null:(se&62914560)===se||(se&536870912)!==0?e===St:!1}function vf(){var e=R.H;return R.H=qi,e===null?qi:e}function yf(){var e=R.A;return R.A=hv,e}function Sl(){Te=4,bs||(se&4194048)!==se&&ut.current!==null||($a=!0),(ws&134217727)===0&&(aa&134217727)===0||ge===null||Ns(ge,se,ft,!1)}function oc(e,t,s){var i=re;re|=2;var c=vf(),u=yf();(ge!==e||se!==t)&&(_l=null,Ka(e,t)),t=!1;var m=Te;e:do try{if(ue!==0&&ee!==null){var p=ee,x=ht;switch(ue){case 8:rc(),m=6;break e;case 3:case 2:case 9:case 6:ut.current===null&&(t=!0);var S=ue;if(ue=0,ht=null,Ya(e,p,x,S),s&&$a){m=0;break e}break;default:S=ue,ue=0,ht=null,Ya(e,p,x,S)}}gv(),m=Te;break}catch(k){gf(e,k)}while(!0);return t&&e.shellSuspendCounter++,Yt=Xs=null,re=i,R.H=c,R.A=u,ee===null&&(ge=null,se=0,Yn()),m}function gv(){for(;ee!==null;)xf(ee)}function pv(e,t){var s=re;re|=2;var i=vf(),c=yf();ge!==e||se!==t?(_l=null,jl=nt()+500,Ka(e,t)):$a=mi(e,t);e:do try{if(ue!==0&&ee!==null){t=ee;var u=ht;t:switch(ue){case 1:ue=0,ht=null,Ya(e,t,u,1);break;case 2:case 9:if(Ad(u)){ue=0,ht=null,bf(t);break}t=function(){ue!==2&&ue!==9||ge!==e||(ue=7),Bt(e)},u.then(t,t);break e;case 3:ue=7;break e;case 4:ue=5;break e;case 7:Ad(u)?(ue=0,ht=null,bf(t)):(ue=0,ht=null,Ya(e,t,u,7));break;case 5:var m=null;switch(ee.tag){case 26:m=ee.memoizedState;case 5:case 27:var p=ee;if(m?nm(m):p.stateNode.complete){ue=0,ht=null;var x=p.sibling;if(x!==null)ee=x;else{var S=p.return;S!==null?(ee=S,El(S)):ee=null}break t}}ue=0,ht=null,Ya(e,t,u,5);break;case 6:ue=0,ht=null,Ya(e,t,u,6);break;case 8:rc(),Te=6;break e;default:throw Error(o(462))}}vv();break}catch(k){gf(e,k)}while(!0);return Yt=Xs=null,R.H=i,R.A=c,re=s,ee!==null?0:(ge=null,se=0,Yn(),Te)}function vv(){for(;ee!==null&&!Hg();)xf(ee)}function xf(e){var t=Gh(e.alternate,e,ts);e.memoizedProps=e.pendingProps,t===null?El(e):ee=t}function bf(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=zh(s,t,t.pendingProps,t.type,void 0,se);break;case 11:t=zh(s,t,t.pendingProps,t.type.render,t.ref,se);break;case 5:_o(t);default:Kh(s,t),t=ee=vd(t,ts),t=Gh(s,t,ts)}e.memoizedProps=e.pendingProps,t===null?El(e):ee=t}function Ya(e,t,s,i){Yt=Xs=null,_o(t),Da=null,Ci=0;var c=t.return;try{if(nv(e,c,t,s,se)){Te=1,fl(e,wt(s,e.current)),ee=null;return}}catch(u){if(c!==null)throw ee=c,u;Te=1,fl(e,wt(s,e.current)),ee=null;return}t.flags&32768?(ie||i===1?e=!0:$a||(se&536870912)!==0?e=!1:(bs=e=!0,(i===2||i===9||i===3||i===6)&&(i=ut.current,i!==null&&i.tag===13&&(i.flags|=16384))),wf(t,e)):El(t)}function El(e){var t=e;do{if((t.flags&32768)!==0){wf(t,bs);return}e=t.return;var s=ov(t.alternate,t,ts);if(s!==null){ee=s;return}if(t=t.sibling,t!==null){ee=t;return}ee=t=e}while(t!==null);Te===0&&(Te=5)}function wf(e,t){do{var s=cv(e.alternate,e);if(s!==null){s.flags&=32767,ee=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){ee=e;return}ee=e=s}while(e!==null);Te=6,ee=null}function jf(e,t,s,i,c,u,m,p,x){e.cancelPendingCommit=null;do Tl();while(Le!==0);if((re&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Jr,Pg(e,s,u,m,p,x),e===ge&&(ee=ge=null,se=0),Va=t,_s=e,ss=s,ic=u,nc=c,df=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wv(On,function(){return Tf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=R.T,R.T=null,c=q.p,q.p=2,m=re,re|=4;try{uv(e,t,s)}finally{re=m,q.p=c,R.T=i}}Le=1,_f(),Nf(),Sf()}}function _f(){if(Le===1){Le=0;var e=_s,t=Va,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=R.T,R.T=null;var i=q.p;q.p=2;var c=re;re|=4;try{sf(t,e);var u=bc,m=od(e.containerInfo),p=u.focusedElem,x=u.selectionRange;if(m!==p&&p&&p.ownerDocument&&rd(p.ownerDocument.documentElement,p)){if(x!==null&&Kr(p)){var S=x.start,k=x.end;if(k===void 0&&(k=S),"selectionStart"in p)p.selectionStart=S,p.selectionEnd=Math.min(k,p.value.length);else{var U=p.ownerDocument||document,E=U&&U.defaultView||window;if(E.getSelection){var A=E.getSelection(),$=p.textContent.length,I=Math.min(x.start,$),me=x.end===void 0?I:Math.min(x.end,$);!A.extend&&I>me&&(m=me,me=I,I=m);var _=ld(p,I),w=ld(p,me);if(_&&w&&(A.rangeCount!==1||A.anchorNode!==_.node||A.anchorOffset!==_.offset||A.focusNode!==w.node||A.focusOffset!==w.offset)){var N=U.createRange();N.setStart(_.node,_.offset),A.removeAllRanges(),I>me?(A.addRange(N),A.extend(w.node,w.offset)):(N.setEnd(w.node,w.offset),A.addRange(N))}}}}for(U=[],A=p;A=A.parentNode;)A.nodeType===1&&U.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<U.length;p++){var C=U[p];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}ql=!!xc,bc=xc=null}finally{re=c,q.p=i,R.T=s}}e.current=t,Le=2}}function Nf(){if(Le===2){Le=0;var e=_s,t=Va,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=R.T,R.T=null;var i=q.p;q.p=2;var c=re;re|=4;try{Zh(e,t.alternate,t)}finally{re=c,q.p=i,R.T=s}}Le=3}}function Sf(){if(Le===4||Le===3){Le=0,$g();var e=_s,t=Va,s=ss,i=df;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Le=5:(Le=0,Va=_s=null,Ef(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(js=null),Sr(s),t=t.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(fi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=R.T,c=q.p,q.p=2,R.T=null;try{for(var u=e.onRecoverableError,m=0;m<i.length;m++){var p=i[m];u(p.value,{componentStack:p.stack})}}finally{R.T=t,q.p=c}}(ss&3)!==0&&Tl(),Bt(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===lc?Xi++:(Xi=0,lc=e):Xi=0,Ji(0)}}function Ef(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Oi(t)))}function Tl(){return _f(),Nf(),Sf(),Tf()}function Tf(){if(Le!==5)return!1;var e=_s,t=ic;ic=0;var s=Sr(ss),i=R.T,c=q.p;try{q.p=32>s?32:s,R.T=null,s=nc,nc=null;var u=_s,m=ss;if(Le=0,Va=_s=null,ss=0,(re&6)!==0)throw Error(o(331));var p=re;if(re|=4,of(u.current),nf(u,u.current,m,s),re=p,Ji(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(fi,u)}catch{}return!0}finally{q.p=c,R.T=i,Ef(e,t)}}function Af(e,t,s){t=wt(s,t),t=Bo(e.stateNode,t,2),e=ps(e,t,2),e!==null&&(gi(e,2),Bt(e))}function de(e,t,s){if(e.tag===3)Af(e,e,s);else for(;t!==null;){if(t.tag===3){Af(t,e,s);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(js===null||!js.has(i))){e=wt(s,e),s=Ah(2),i=ps(t,s,2),i!==null&&(Oh(s,i,t,e),gi(i,2),Bt(i));break}}t=t.return}}function cc(e,t,s){var i=e.pingCache;if(i===null){i=e.pingCache=new fv;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(s)||(tc=!0,c.add(s),e=yv.bind(null,e,t,s),t.then(e,e))}function yv(e,t,s){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ge===e&&(se&s)===s&&(Te===4||Te===3&&(se&62914560)===se&&300>nt()-wl?(re&2)===0&&Ka(e,0):sc|=s,Ga===se&&(Ga=0)),Bt(e)}function Of(e,t){t===0&&(t=ju()),e=Ys(e,t),e!==null&&(gi(e,t),Bt(e))}function xv(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Of(e,s)}function bv(e,t){var s=0;switch(e.tag){case 31:case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(t),Of(e,s)}function wv(e,t){return wr(e,t)}var Al=null,Ia=null,uc=!1,Ol=!1,dc=!1,Ss=0;function Bt(e){e!==Ia&&e.next===null&&(Ia===null?Al=Ia=e:Ia=Ia.next=e),Ol=!0,uc||(uc=!0,_v())}function Ji(e,t){if(!dc&&Ol){dc=!0;do for(var s=!1,i=Al;i!==null;){if(e!==0){var c=i.pendingLanes;if(c===0)var u=0;else{var m=i.suspendedLanes,p=i.pingedLanes;u=(1<<31-rt(42|e)+1)-1,u&=c&~(m&~p),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(s=!0,Uf(i,u))}else u=se,u=Un(i,i===ge?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||mi(i,u)||(s=!0,Uf(i,u));i=i.next}while(s);dc=!1}}function jv(){kf()}function kf(){Ol=uc=!1;var e=0;Ss!==0&&Uv()&&(e=Ss);for(var t=nt(),s=null,i=Al;i!==null;){var c=i.next,u=Cf(i,t);u===0?(i.next=null,s===null?Al=c:s.next=c,c===null&&(Ia=s)):(s=i,(e!==0||(u&3)!==0)&&(Ol=!0)),i=c}Le!==0&&Le!==5||Ji(e),Ss!==0&&(Ss=0)}function Cf(e,t){for(var s=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-rt(u),p=1<<m,x=c[m];x===-1?((p&s)===0||(p&i)!==0)&&(c[m]=Jg(p,t)):x<=t&&(e.expiredLanes|=p),u&=~p}if(t=ge,s=se,s=Un(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,s===0||e===t&&(ue===2||ue===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&jr(i),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||mi(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(i!==null&&jr(i),Sr(s)){case 2:case 8:s=bu;break;case 32:s=On;break;case 268435456:s=wu;break;default:s=On}return i=Rf.bind(null,e),s=wr(s,i),e.callbackPriority=t,e.callbackNode=s,t}return i!==null&&i!==null&&jr(i),e.callbackPriority=2,e.callbackNode=null,2}function Rf(e,t){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Tl()&&e.callbackNode!==s)return null;var i=se;return i=Un(e,e===ge?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(ff(e,i,t),Cf(e,nt()),e.callbackNode!=null&&e.callbackNode===s?Rf.bind(null,e):null)}function Uf(e,t){if(Tl())return null;ff(e,t,!0)}function _v(){Mv(function(){(re&6)!==0?wr(xu,jv):kf()})}function hc(){if(Ss===0){var e=Ca;e===0&&(e=kn,kn<<=1,(kn&261888)===0&&(kn=256)),Ss=e}return Ss}function Df(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ln(""+e)}function Mf(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Nv(e,t,s,i,c){if(t==="submit"&&s&&s.stateNode===c){var u=Df((c[We]||null).action),m=i.submitter;m&&(t=(t=m[We]||null)?Df(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var p=new $n("action","action",null,i,c);e.push({event:p,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ss!==0){var x=m?Mf(c,m):new FormData(c);Ro(s,{pending:!0,data:x,method:c.method,action:u},null,x)}}else typeof u=="function"&&(p.preventDefault(),x=m?Mf(c,m):new FormData(c),Ro(s,{pending:!0,data:x,method:c.method,action:u},u,x))},currentTarget:c}]})}}for(var fc=0;fc<Xr.length;fc++){var mc=Xr[fc],Sv=mc.toLowerCase(),Ev=mc[0].toUpperCase()+mc.slice(1);At(Sv,"on"+Ev)}At(dd,"onAnimationEnd"),At(hd,"onAnimationIteration"),At(fd,"onAnimationStart"),At("dblclick","onDoubleClick"),At("focusin","onFocus"),At("focusout","onBlur"),At(Gp,"onTransitionRun"),At(Vp,"onTransitionStart"),At(Kp,"onTransitionCancel"),At(md,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$s("onBeforeInput",["compositionend","keypress","textInput","paste"]),$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pi));function zf(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var i=e[s],c=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var m=i.length-1;0<=m;m--){var p=i[m],x=p.instance,S=p.currentTarget;if(p=p.listener,x!==u&&c.isPropagationStopped())break e;u=p,c.currentTarget=S;try{u(c)}catch(k){Kn(k)}c.currentTarget=null,u=x}else for(m=0;m<i.length;m++){if(p=i[m],x=p.instance,S=p.currentTarget,p=p.listener,x!==u&&c.isPropagationStopped())break e;u=p,c.currentTarget=S;try{u(c)}catch(k){Kn(k)}c.currentTarget=null,u=x}}}}function te(e,t){var s=t[Er];s===void 0&&(s=t[Er]=new Set);var i=e+"__bubble";s.has(i)||(Lf(t,e,2,!1),s.add(i))}function gc(e,t,s){var i=0;t&&(i|=4),Lf(s,e,i,t)}var kl="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[kl]){e[kl]=!0,Ou.forEach(function(s){s!=="selectionchange"&&(Tv.has(s)||gc(s,!1,e),gc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kl]||(t[kl]=!0,gc("selectionchange",!1,t))}}function Lf(e,t,s,i){switch(hm(t)){case 2:var c=ty;break;case 8:c=sy;break;default:c=Cc}s=c.bind(null,t,s,e),c=void 0,!Mr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function vc(e,t,s,i,c){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var p=i.stateNode.containerInfo;if(p===c)break;if(m===4)for(m=i.return;m!==null;){var x=m.tag;if((x===3||x===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;p!==null;){if(m=ma(p),m===null)return;if(x=m.tag,x===5||x===6||x===26||x===27){i=u=m;continue e}p=p.parentNode}}i=i.return}$u(function(){var S=u,k=Ur(s),U=[];e:{var E=gd.get(e);if(E!==void 0){var A=$n,$=e;switch(e){case"keypress":if(qn(s)===0)break e;case"keydown":case"keyup":A=bp;break;case"focusin":$="focus",A=qr;break;case"focusout":$="blur",A=qr;break;case"beforeblur":case"afterblur":A=qr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=_p;break;case dd:case hd:case fd:A=dp;break;case md:A=Sp;break;case"scroll":case"scrollend":A=lp;break;case"wheel":A=Tp;break;case"copy":case"cut":case"paste":A=fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Iu;break;case"toggle":case"beforetoggle":A=Op}var I=(t&4)!==0,me=!I&&(e==="scroll"||e==="scrollend"),_=I?E!==null?E+"Capture":null:E;I=[];for(var w=S,N;w!==null;){var C=w;if(N=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||N===null||_===null||(C=yi(w,_),C!=null&&I.push(Zi(w,C,N))),me)break;w=w.return}0<I.length&&(E=new A(E,$,null,s,k),U.push({event:E,listeners:I}))}}if((t&7)===0){e:{if(E=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",E&&s!==Rr&&($=s.relatedTarget||s.fromElement)&&(ma($)||$[fa]))break e;if((A||E)&&(E=k.window===k?k:(E=k.ownerDocument)?E.defaultView||E.parentWindow:window,A?($=s.relatedTarget||s.toElement,A=S,$=$?ma($):null,$!==null&&(me=h($),I=$.tag,$!==me||I!==5&&I!==27&&I!==6)&&($=null)):(A=null,$=S),A!==$)){if(I=Ku,C="onMouseLeave",_="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(I=Iu,C="onPointerLeave",_="onPointerEnter",w="pointer"),me=A==null?E:vi(A),N=$==null?E:vi($),E=new I(C,w+"leave",A,s,k),E.target=me,E.relatedTarget=N,C=null,ma(k)===S&&(I=new I(_,w+"enter",$,s,k),I.target=N,I.relatedTarget=me,C=I),me=C,A&&$)t:{for(I=Av,_=A,w=$,N=0,C=_;C;C=I(C))N++;C=0;for(var Y=w;Y;Y=I(Y))C++;for(;0<N-C;)_=I(_),N--;for(;0<C-N;)w=I(w),C--;for(;N--;){if(_===w||w!==null&&_===w.alternate){I=_;break t}_=I(_),w=I(w)}I=null}else I=null;A!==null&&Bf(U,E,A,I,!1),$!==null&&me!==null&&Bf(U,me,$,I,!0)}}e:{if(E=S?vi(S):window,A=E.nodeName&&E.nodeName.toLowerCase(),A==="select"||A==="input"&&E.type==="file")var ne=ed;else if(Wu(E))if(td)ne=qp;else{ne=Lp;var G=zp}else A=E.nodeName,!A||A.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?S&&Cr(S.elementType)&&(ne=ed):ne=Bp;if(ne&&(ne=ne(e,S))){Fu(U,ne,s,k);break e}G&&G(e,E,S),e==="focusout"&&S&&E.type==="number"&&S.memoizedProps.value!=null&&kr(E,"number",E.value)}switch(G=S?vi(S):window,e){case"focusin":(Wu(G)||G.contentEditable==="true")&&(_a=G,Yr=S,Ei=null);break;case"focusout":Ei=Yr=_a=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,cd(U,s,k);break;case"selectionchange":if($p)break;case"keydown":case"keyup":cd(U,s,k)}var W;if($r)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else ja?Pu(e,s)&&(ae="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ae="onCompositionStart");ae&&(Qu&&s.locale!=="ko"&&(ja||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&ja&&(W=Gu()):(cs=k,zr="value"in cs?cs.value:cs.textContent,ja=!0)),G=Cl(S,ae),0<G.length&&(ae=new Yu(ae,e,null,s,k),U.push({event:ae,listeners:G}),W?ae.data=W:(W=Zu(s),W!==null&&(ae.data=W)))),(W=Cp?Rp(e,s):Up(e,s))&&(ae=Cl(S,"onBeforeInput"),0<ae.length&&(G=new Yu("onBeforeInput","beforeinput",null,s,k),U.push({event:G,listeners:ae}),G.data=W)),Nv(U,e,S,s,k)}zf(U,t)})}function Zi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Cl(e,t){for(var s=t+"Capture",i=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=yi(e,s),c!=null&&i.unshift(Zi(e,c,u)),c=yi(e,t),c!=null&&i.push(Zi(e,c,u))),e.tag===3)return i;e=e.return}return[]}function Av(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bf(e,t,s,i,c){for(var u=t._reactName,m=[];s!==null&&s!==i;){var p=s,x=p.alternate,S=p.stateNode;if(p=p.tag,x!==null&&x===i)break;p!==5&&p!==26&&p!==27||S===null||(x=S,c?(S=yi(s,u),S!=null&&m.unshift(Zi(s,S,x))):c||(S=yi(s,u),S!=null&&m.push(Zi(s,S,x)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var Ov=/\r\n?/g,kv=/\u0000|\uFFFD/g;function qf(e){return(typeof e=="string"?e:""+e).replace(Ov,`
`).replace(kv,"")}function Hf(e,t){return t=qf(t),qf(e)===t}function fe(e,t,s,i,c,u){switch(s){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||xa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&xa(e,""+i);break;case"className":Mn(e,"class",i);break;case"tabIndex":Mn(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(e,s,i);break;case"style":qu(e,i,u);break;case"data":if(t!=="object"){Mn(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=Ln(""+i),e.setAttribute(s,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(s==="formAction"?(t!=="input"&&fe(e,t,"name",c.name,c,null),fe(e,t,"formEncType",c.formEncType,c,null),fe(e,t,"formMethod",c.formMethod,c,null),fe(e,t,"formTarget",c.formTarget,c,null)):(fe(e,t,"encType",c.encType,c,null),fe(e,t,"method",c.method,c,null),fe(e,t,"target",c.target,c,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=Ln(""+i),e.setAttribute(s,i);break;case"onClick":i!=null&&(e.onclick=$t);break;case"onScroll":i!=null&&te("scroll",e);break;case"onScrollEnd":i!=null&&te("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(s=i.__html,s!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}s=Ln(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""+i):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":i===!0?e.setAttribute(s,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,i):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(s,i):e.removeAttribute(s);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(s):e.setAttribute(s,i);break;case"popover":te("beforetoggle",e),te("toggle",e),Dn(e,"popover",i);break;case"xlinkActuate":Ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Ht(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Ht(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Ht(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Ht(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Dn(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ip.get(s)||s,Dn(e,s,i))}}function yc(e,t,s,i,c,u){switch(s){case"style":qu(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(s=i.__html,s!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"children":typeof i=="string"?xa(e,i):(typeof i=="number"||typeof i=="bigint")&&xa(e,""+i);break;case"onScroll":i!=null&&te("scroll",e);break;case"onScrollEnd":i!=null&&te("scrollend",e);break;case"onClick":i!=null&&(e.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ku.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),t=s.slice(2,c?s.length-7:void 0),u=e[We]||null,u=u!=null?u[s]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof i=="function")){typeof u!="function"&&u!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,i,c);break e}s in e?e[s]=i:i===!0?e.setAttribute(s,""):Dn(e,s,i)}}}function Ie(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",e),te("load",e);var i=!1,c=!1,u;for(u in s)if(s.hasOwnProperty(u)){var m=s[u];if(m!=null)switch(u){case"src":i=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:fe(e,t,u,m,s,null)}}c&&fe(e,t,"srcSet",s.srcSet,s,null),i&&fe(e,t,"src",s.src,s,null);return;case"input":te("invalid",e);var p=u=m=c=null,x=null,S=null;for(i in s)if(s.hasOwnProperty(i)){var k=s[i];if(k!=null)switch(i){case"name":c=k;break;case"type":m=k;break;case"checked":x=k;break;case"defaultChecked":S=k;break;case"value":u=k;break;case"defaultValue":p=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,t));break;default:fe(e,t,i,k,s,null)}}Mu(e,u,p,x,S,m,c,!1);return;case"select":te("invalid",e),i=m=u=null;for(c in s)if(s.hasOwnProperty(c)&&(p=s[c],p!=null))switch(c){case"value":u=p;break;case"defaultValue":m=p;break;case"multiple":i=p;default:fe(e,t,c,p,s,null)}t=u,s=m,e.multiple=!!i,t!=null?ya(e,!!i,t,!1):s!=null&&ya(e,!!i,s,!0);return;case"textarea":te("invalid",e),u=c=i=null;for(m in s)if(s.hasOwnProperty(m)&&(p=s[m],p!=null))switch(m){case"value":i=p;break;case"defaultValue":c=p;break;case"children":u=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:fe(e,t,m,p,s,null)}Lu(e,i,c,u);return;case"option":for(x in s)s.hasOwnProperty(x)&&(i=s[x],i!=null)&&(x==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":fe(e,t,x,i,s,null));return;case"dialog":te("beforetoggle",e),te("toggle",e),te("cancel",e),te("close",e);break;case"iframe":case"object":te("load",e);break;case"video":case"audio":for(i=0;i<Pi.length;i++)te(Pi[i],e);break;case"image":te("error",e),te("load",e);break;case"details":te("toggle",e);break;case"embed":case"source":case"link":te("error",e),te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(S in s)if(s.hasOwnProperty(S)&&(i=s[S],i!=null))switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:fe(e,t,S,i,s,null)}return;default:if(Cr(t)){for(k in s)s.hasOwnProperty(k)&&(i=s[k],i!==void 0&&yc(e,t,k,i,s,void 0));return}}for(p in s)s.hasOwnProperty(p)&&(i=s[p],i!=null&&fe(e,t,p,i,s,null))}function Cv(e,t,s,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,m=null,p=null,x=null,S=null,k=null;for(A in s){var U=s[A];if(s.hasOwnProperty(A)&&U!=null)switch(A){case"checked":break;case"value":break;case"defaultValue":x=U;default:i.hasOwnProperty(A)||fe(e,t,A,null,i,U)}}for(var E in i){var A=i[E];if(U=s[E],i.hasOwnProperty(E)&&(A!=null||U!=null))switch(E){case"type":u=A;break;case"name":c=A;break;case"checked":S=A;break;case"defaultChecked":k=A;break;case"value":m=A;break;case"defaultValue":p=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(137,t));break;default:A!==U&&fe(e,t,E,A,i,U)}}Or(e,m,p,x,S,k,u,c);return;case"select":A=m=p=E=null;for(u in s)if(x=s[u],s.hasOwnProperty(u)&&x!=null)switch(u){case"value":break;case"multiple":A=x;default:i.hasOwnProperty(u)||fe(e,t,u,null,i,x)}for(c in i)if(u=i[c],x=s[c],i.hasOwnProperty(c)&&(u!=null||x!=null))switch(c){case"value":E=u;break;case"defaultValue":p=u;break;case"multiple":m=u;default:u!==x&&fe(e,t,c,u,i,x)}t=p,s=m,i=A,E!=null?ya(e,!!s,E,!1):!!i!=!!s&&(t!=null?ya(e,!!s,t,!0):ya(e,!!s,s?[]:"",!1));return;case"textarea":A=E=null;for(p in s)if(c=s[p],s.hasOwnProperty(p)&&c!=null&&!i.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:fe(e,t,p,null,i,c)}for(m in i)if(c=i[m],u=s[m],i.hasOwnProperty(m)&&(c!=null||u!=null))switch(m){case"value":E=c;break;case"defaultValue":A=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&fe(e,t,m,c,i,u)}zu(e,E,A);return;case"option":for(var $ in s)E=s[$],s.hasOwnProperty($)&&E!=null&&!i.hasOwnProperty($)&&($==="selected"?e.selected=!1:fe(e,t,$,null,i,E));for(x in i)E=i[x],A=s[x],i.hasOwnProperty(x)&&E!==A&&(E!=null||A!=null)&&(x==="selected"?e.selected=E&&typeof E!="function"&&typeof E!="symbol":fe(e,t,x,E,i,A));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in s)E=s[I],s.hasOwnProperty(I)&&E!=null&&!i.hasOwnProperty(I)&&fe(e,t,I,null,i,E);for(S in i)if(E=i[S],A=s[S],i.hasOwnProperty(S)&&E!==A&&(E!=null||A!=null))switch(S){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(o(137,t));break;default:fe(e,t,S,E,i,A)}return;default:if(Cr(t)){for(var me in s)E=s[me],s.hasOwnProperty(me)&&E!==void 0&&!i.hasOwnProperty(me)&&yc(e,t,me,void 0,i,E);for(k in i)E=i[k],A=s[k],!i.hasOwnProperty(k)||E===A||E===void 0&&A===void 0||yc(e,t,k,E,i,A);return}}for(var _ in s)E=s[_],s.hasOwnProperty(_)&&E!=null&&!i.hasOwnProperty(_)&&fe(e,t,_,null,i,E);for(U in i)E=i[U],A=s[U],!i.hasOwnProperty(U)||E===A||E==null&&A==null||fe(e,t,U,E,i,A)}function $f(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),i=0;i<s.length;i++){var c=s[i],u=c.transferSize,m=c.initiatorType,p=c.duration;if(u&&p&&$f(m)){for(m=0,p=c.responseEnd,i+=1;i<s.length;i++){var x=s[i],S=x.startTime;if(S>p)break;var k=x.transferSize,U=x.initiatorType;k&&$f(U)&&(x=x.responseEnd,m+=k*(x<p?1:(p-S)/(x-S)))}if(--i,t+=8*(u+m)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xc=null,bc=null;function Rl(e){return e.nodeType===9?e:e.ownerDocument}function Gf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jc=null;function Uv(){var e=window.event;return e&&e.type==="popstate"?e===jc?!1:(jc=e,!0):(jc=null,!1)}var Kf=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,Yf=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Yf<"u"?function(e){return Yf.resolve(null).then(e).catch(zv)}:Kf;function zv(e){setTimeout(function(){throw e})}function Es(e){return e==="head"}function If(e,t){var s=t,i=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(i===0){e.removeChild(c),Pa(t);return}i--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")i++;else if(s==="html")Wi(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Wi(s);for(var u=s.firstChild;u;){var m=u.nextSibling,p=u.nodeName;u[pi]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&u.rel.toLowerCase()==="stylesheet"||s.removeChild(u),u=m}}else s==="body"&&Wi(e.ownerDocument.body);s=c}while(s);Pa(t)}function Qf(e,t){var s=e;e=0;do{var i=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=i}while(s)}function _c(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_c(s),Tr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Lv(e,t,s,i){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[pi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Et(e.nextSibling),e===null)break}return null}function Bv(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Et(e.nextSibling),e===null))return null;return e}function Xf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Et(e.nextSibling),e===null))return null;return e}function Nc(e){return e.data==="$?"||e.data==="$~"}function Sc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qv(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var i=function(){t(),s.removeEventListener("DOMContentLoaded",i)};s.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Et(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ec=null;function Jf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return Et(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function Pf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Zf(e,t,s){switch(t=Rl(s),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Wi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tr(e)}var Tt=new Map,Wf=new Set;function Ul(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=q.d;q.d={f:Hv,r:$v,D:Gv,C:Vv,L:Kv,m:Yv,X:Qv,S:Iv,M:Xv};function Hv(){var e=as.f(),t=Nl();return e||t}function $v(e){var t=ga(e);t!==null&&t.tag===5&&t.type==="form"?mh(t):as.r(e)}var Qa=typeof document>"u"?null:document;function Ff(e,t,s){var i=Qa;if(i&&typeof t=="string"&&t){var c=xt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Wf.has(c)||(Wf.add(c),e={rel:e,crossOrigin:s,href:t},i.querySelector(c)===null&&(t=i.createElement("link"),Ie(t,"link",e),He(t),i.head.appendChild(t)))}}function Gv(e){as.D(e),Ff("dns-prefetch",e,null)}function Vv(e,t){as.C(e,t),Ff("preconnect",e,t)}function Kv(e,t,s){as.L(e,t,s);var i=Qa;if(i&&e&&t){var c='link[rel="preload"][as="'+xt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+xt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+xt(s.imageSizes)+'"]')):c+='[href="'+xt(e)+'"]';var u=c;switch(t){case"style":u=Xa(e);break;case"script":u=Ja(e)}Tt.has(u)||(e=b({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Tt.set(u,e),i.querySelector(c)!==null||t==="style"&&i.querySelector(Fi(u))||t==="script"&&i.querySelector(en(u))||(t=i.createElement("link"),Ie(t,"link",e),He(t),i.head.appendChild(t)))}}function Yv(e,t){as.m(e,t);var s=Qa;if(s&&e){var i=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+xt(i)+'"][href="'+xt(e)+'"]',u=c;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ja(e)}if(!Tt.has(u)&&(e=b({rel:"modulepreload",href:e},t),Tt.set(u,e),s.querySelector(c)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(en(u)))return}i=s.createElement("link"),Ie(i,"link",e),He(i),s.head.appendChild(i)}}}function Iv(e,t,s){as.S(e,t,s);var i=Qa;if(i&&e){var c=pa(i).hoistableStyles,u=Xa(e);t=t||"default";var m=c.get(u);if(!m){var p={loading:0,preload:null};if(m=i.querySelector(Fi(u)))p.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Tt.get(u))&&Tc(e,s);var x=m=i.createElement("link");He(x),Ie(x,"link",e),x._p=new Promise(function(S,k){x.onload=S,x.onerror=k}),x.addEventListener("load",function(){p.loading|=1}),x.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Dl(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:p},c.set(u,m)}}}function Qv(e,t){as.X(e,t);var s=Qa;if(s&&e){var i=pa(s).hoistableScripts,c=Ja(e),u=i.get(c);u||(u=s.querySelector(en(c)),u||(e=b({src:e,async:!0},t),(t=Tt.get(c))&&Ac(e,t),u=s.createElement("script"),He(u),Ie(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(c,u))}}function Xv(e,t){as.M(e,t);var s=Qa;if(s&&e){var i=pa(s).hoistableScripts,c=Ja(e),u=i.get(c);u||(u=s.querySelector(en(c)),u||(e=b({src:e,async:!0,type:"module"},t),(t=Tt.get(c))&&Ac(e,t),u=s.createElement("script"),He(u),Ie(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(c,u))}}function em(e,t,s,i){var c=(c=ls.current)?Ul(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Xa(s.href),s=pa(c).hoistableStyles,i=s.get(t),i||(i={type:"style",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Xa(s.href);var u=pa(c).hoistableStyles,m=u.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=c.querySelector(Fi(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Tt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Tt.set(e,s),u||Jv(c,e,s,m.state))),t&&i===null)throw Error(o(528,""));return m}if(t&&i!==null)throw Error(o(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ja(s),s=pa(c).hoistableScripts,i=s.get(t),i||(i={type:"script",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Xa(e){return'href="'+xt(e)+'"'}function Fi(e){return'link[rel="stylesheet"]['+e+"]"}function tm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Jv(e,t,s,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Ie(t,"link",s),He(t),e.head.appendChild(t))}function Ja(e){return'[src="'+xt(e)+'"]'}function en(e){return"script[async]"+e}function sm(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+xt(s.href)+'"]');if(i)return t.instance=i,He(i),i;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),He(i),Ie(i,"style",c),Dl(i,s.precedence,e),t.instance=i;case"stylesheet":c=Xa(s.href);var u=e.querySelector(Fi(c));if(u)return t.state.loading|=4,t.instance=u,He(u),u;i=tm(s),(c=Tt.get(c))&&Tc(i,c),u=(e.ownerDocument||e).createElement("link"),He(u);var m=u;return m._p=new Promise(function(p,x){m.onload=p,m.onerror=x}),Ie(u,"link",i),t.state.loading|=4,Dl(u,s.precedence,e),t.instance=u;case"script":return u=Ja(s.src),(c=e.querySelector(en(u)))?(t.instance=c,He(c),c):(i=s,(c=Tt.get(u))&&(i=b({},s),Ac(i,c)),e=e.ownerDocument||e,c=e.createElement("script"),He(c),Ie(c,"link",i),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Dl(i,s.precedence,e));return t.instance}function Dl(e,t,s){for(var i=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=i.length?i[i.length-1]:null,u=c,m=0;m<i.length;m++){var p=i[m];if(p.dataset.precedence===t)u=p;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ml=null;function am(e,t,s){if(Ml===null){var i=new Map,c=Ml=new Map;c.set(s,i)}else c=Ml,i=c.get(s),i||(i=new Map,c.set(s,i));if(i.has(e))return i;for(i.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var u=s[c];if(!(u[pi]||u[Ge]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var p=i.get(m);p?p.push(u):i.set(m,[u])}}return i}function im(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function Pv(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function nm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zv(e,t,s,i){if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Xa(i.href),u=t.querySelector(Fi(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zl.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=u,He(u);return}u=t.ownerDocument||t,i=tm(i),(c=Tt.get(c))&&Tc(i,c),u=u.createElement("link"),He(u);var m=u;m._p=new Promise(function(p,x){m.onload=p,m.onerror=x}),Ie(u,"link",i),s.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=zl.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var Oc=0;function Wv(e,t){return e.stylesheets&&e.count===0&&Bl(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var i=setTimeout(function(){if(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Oc===0&&(Oc=62500*Rv());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Oc?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(c)}}:null}function zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ll=null;function Bl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ll=new Map,t.forEach(Fv,e),Ll=null,zl.call(e))}function Fv(e,t){if(!(t.state.loading&4)){var s=Ll.get(e);if(s)var i=s.get(null);else{s=new Map,Ll.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var m=c[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),i=m)}i&&s.set(null,i)}c=t.instance,m=c.getAttribute("data-precedence"),u=s.get(m)||i,u===i&&s.set(null,c),s.set(m,c),this.count++,i=zl.bind(this),c.addEventListener("load",i),c.addEventListener("error",i),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var tn={$$typeof:z,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function ey(e,t,s,i,c,u,m,p,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=i,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function lm(e,t,s,i,c,u,m,p,x,S,k,U){return e=new ey(e,t,s,m,x,S,k,U,p),t=1,u===!0&&(t|=24),u=ct(3,null,null,t),e.current=u,u.stateNode=e,t=ro(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:s,cache:t},ho(u),e}function rm(e){return e?(e=Ea,e):Ea}function om(e,t,s,i,c,u){c=rm(c),i.context===null?i.context=c:i.pendingContext=c,i=gs(t),i.payload={element:s},u=u===void 0?null:u,u!==null&&(i.callback=u),s=ps(e,i,t),s!==null&&(it(s,e,t),Ui(s,e,t))}function cm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function kc(e,t){cm(e,t),(e=e.alternate)&&cm(e,t)}function um(e){if(e.tag===13||e.tag===31){var t=Ys(e,67108864);t!==null&&it(t,e,67108864),kc(e,67108864)}}function dm(e){if(e.tag===13||e.tag===31){var t=mt();t=Nr(t);var s=Ys(e,t);s!==null&&it(s,e,t),kc(e,t)}}var ql=!0;function ty(e,t,s,i){var c=R.T;R.T=null;var u=q.p;try{q.p=2,Cc(e,t,s,i)}finally{q.p=u,R.T=c}}function sy(e,t,s,i){var c=R.T;R.T=null;var u=q.p;try{q.p=8,Cc(e,t,s,i)}finally{q.p=u,R.T=c}}function Cc(e,t,s,i){if(ql){var c=Rc(i);if(c===null)vc(e,t,i,Hl,s),fm(e,i);else if(iy(c,e,t,s,i))i.stopPropagation();else if(fm(e,i),t&4&&-1<ay.indexOf(e)){for(;c!==null;){var u=ga(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=Hs(u.pendingLanes);if(m!==0){var p=u;for(p.pendingLanes|=2,p.entangledLanes|=2;m;){var x=1<<31-rt(m);p.entanglements[1]|=x,m&=~x}Bt(u),(re&6)===0&&(jl=nt()+500,Ji(0))}}break;case 31:case 13:p=Ys(u,2),p!==null&&it(p,u,2),Nl(),kc(u,2)}if(u=Rc(i),u===null&&vc(e,t,i,Hl,s),u===c)break;c=u}c!==null&&i.stopPropagation()}else vc(e,t,i,null,s)}}function Rc(e){return e=Ur(e),Uc(e)}var Hl=null;function Uc(e){if(Hl=null,e=ma(e),e!==null){var t=h(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=f(t),e!==null)return e;e=null}else if(s===31){if(e=g(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Hl=e,null}function hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gg()){case xu:return 2;case bu:return 8;case On:case Vg:return 32;case wu:return 268435456;default:return 32}default:return 32}}var Dc=!1,Ts=null,As=null,Os=null,sn=new Map,an=new Map,ks=[],ay="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fm(e,t){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":sn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(t.pointerId)}}function nn(e,t,s,i,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:s,eventSystemFlags:i,nativeEvent:u,targetContainers:[c]},t!==null&&(t=ga(t),t!==null&&um(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function iy(e,t,s,i,c){switch(t){case"focusin":return Ts=nn(Ts,e,t,s,i,c),!0;case"dragenter":return As=nn(As,e,t,s,i,c),!0;case"mouseover":return Os=nn(Os,e,t,s,i,c),!0;case"pointerover":var u=c.pointerId;return sn.set(u,nn(sn.get(u)||null,e,t,s,i,c)),!0;case"gotpointercapture":return u=c.pointerId,an.set(u,nn(an.get(u)||null,e,t,s,i,c)),!0}return!1}function mm(e){var t=ma(e.target);if(t!==null){var s=h(t);if(s!==null){if(t=s.tag,t===13){if(t=f(s),t!==null){e.blockedOn=t,Tu(e.priority,function(){dm(s)});return}}else if(t===31){if(t=g(s),t!==null){e.blockedOn=t,Tu(e.priority,function(){dm(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Rc(e.nativeEvent);if(s===null){s=e.nativeEvent;var i=new s.constructor(s.type,s);Rr=i,s.target.dispatchEvent(i),Rr=null}else return t=ga(s),t!==null&&um(t),e.blockedOn=s,!1;t.shift()}return!0}function gm(e,t,s){$l(e)&&s.delete(t)}function ny(){Dc=!1,Ts!==null&&$l(Ts)&&(Ts=null),As!==null&&$l(As)&&(As=null),Os!==null&&$l(Os)&&(Os=null),sn.forEach(gm),an.forEach(gm)}function Gl(e,t){e.blockedOn===t&&(e.blockedOn=null,Dc||(Dc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ny)))}var Vl=null;function pm(e){Vl!==e&&(Vl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Vl===e&&(Vl=null);for(var t=0;t<e.length;t+=3){var s=e[t],i=e[t+1],c=e[t+2];if(typeof i!="function"){if(Uc(i||s)===null)continue;break}var u=ga(s);u!==null&&(e.splice(t,3),t-=3,Ro(u,{pending:!0,data:c,method:s.method,action:i},i,c))}}))}function Pa(e){function t(x){return Gl(x,e)}Ts!==null&&Gl(Ts,e),As!==null&&Gl(As,e),Os!==null&&Gl(Os,e),sn.forEach(t),an.forEach(t);for(var s=0;s<ks.length;s++){var i=ks[s];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ks.length&&(s=ks[0],s.blockedOn===null);)mm(s),s.blockedOn===null&&ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(i=0;i<s.length;i+=3){var c=s[i],u=s[i+1],m=c[We]||null;if(typeof u=="function")m||pm(s);else if(m){var p=null;if(u&&u.hasAttribute("formAction")){if(c=u,m=u[We]||null)p=m.formAction;else if(Uc(c)!==null)continue}else p=m.action;typeof p=="function"?s[i+1]=p:(s.splice(i,3),i-=3),pm(s)}}}function vm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return c=m})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),i||setTimeout(s,20)}function s(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Mc(e){this._internalRoot=e}Kl.prototype.render=Mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var s=t.current,i=mt();om(s,i,e,t,null,null)},Kl.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;om(e.current,2,null,e,null,null),Nl(),t[fa]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Eu();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ks.length&&t!==0&&t<ks[s].priority;s++);ks.splice(s,0,e),s===0&&mm(e)}};var ym=a.version;if(ym!=="19.2.3")throw Error(o(527,ym,"19.2.3"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(t),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var ly={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{fi=Yl.inject(ly),lt=Yl}catch{}}return ln.createRoot=function(e,t){if(!d(e))throw Error(o(299));var s=!1,i="",c=Nh,u=Sh,m=Eh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=lm(e,1,!1,null,null,s,i,null,c,u,m,vm),e[fa]=t.current,pc(e),new Mc(t)},ln.hydrateRoot=function(e,t,s){if(!d(e))throw Error(o(299));var i=!1,c="",u=Nh,m=Sh,p=Eh,x=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(p=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),t=lm(e,1,!0,t,s??null,i,c,x,u,m,p,vm),t.context=rm(null),s=t.current,i=mt(),i=Nr(i),c=gs(i),c.callback=null,ps(s,c,i),s=i,t.current.lanes=s,gi(t,s),Bt(t),e[fa]=t.current,pc(e),new Kl(t)},ln.version="19.2.3",ln}var jm;function By(){if(jm)return zc.exports;jm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),zc.exports=Ly(),zc.exports}var qy=By();const Hy=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class gu extends Error{constructor(a,r="FunctionsError",o){super(a),this.name=r,this.context=o}}class $y extends gu{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class _m extends gu{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Nm extends gu{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Fc;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Fc||(Fc={}));class Gy{constructor(a,{headers:r={},customFetch:o,region:d=Fc.Any}={}){this.url=a,this.headers=r,this.region=d,this.fetch=Hy(o)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return oy(this,arguments,void 0,function*(r,o={}){var d;let h,f;try{const{headers:g,method:v,body:y,signal:j,timeout:b}=o;let T={},{region:O}=o;O||(O=this.region);const D=new URL(`${this.url}/${r}`);O&&O!=="any"&&(T["x-region"]=O,D.searchParams.set("forceFunctionRegion",O));let M;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",M=y):typeof y=="string"?(T["Content-Type"]="text/plain",M=y):typeof FormData<"u"&&y instanceof FormData?M=y:(T["Content-Type"]="application/json",M=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?M=JSON.stringify(y):M=y;let L=j;b&&(f=new AbortController,h=setTimeout(()=>f.abort(),b),j?(L=f.signal,j.addEventListener("abort",()=>f.abort())):L=f.signal);const H=yield this.fetch(D.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),g),body:M,signal:L}).catch(ve=>{throw new $y(ve)}),V=H.headers.get("x-relay-error");if(V&&V==="true")throw new _m(H);if(!H.ok)throw new Nm(H);let z=((d=H.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),J;return z==="application/json"?J=yield H.json():z==="application/octet-stream"||z==="application/pdf"?J=yield H.blob():z==="text/event-stream"?J=H:z==="multipart/form-data"?J=yield H.formData():J=yield H.text(),{data:J,error:null,response:H}}catch(g){return{data:null,error:g,response:g instanceof Nm||g instanceof _m?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var Vy=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},Ky=class{constructor(l){var a,r;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(r=l.isMaybeSingle)!==null&&r!==void 0?r:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let d=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,g=null,v=null,y=h.status,j=h.statusText;if(h.ok){var b,T;if(r.method!=="HEAD"){var O;const H=await h.text();H===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((O=r.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?g=H:g=JSON.parse(H))}const M=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),L=(T=h.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");M&&L&&L.length>1&&(v=parseInt(L[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,y=406,j="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var D;const M=await h.text();try{f=JSON.parse(M),Array.isArray(f)&&h.status===404&&(g=[],f=null,y=200,j="OK")}catch{h.status===404&&M===""?(y=204,j="No Content"):f={message:M}}if(f&&r.isMaybeSingle&&(!(f==null||(D=f.details)===null||D===void 0)&&D.includes("0 rows"))&&(f=null,y=200,j="OK"),f&&r.shouldThrowOnError)throw new Vy(f)}return{error:f,data:g,count:v,status:y,statusText:j}});return this.shouldThrowOnError||(d=d.catch(h=>{var f;let g="";const v=h?.cause;if(v){var y,j,b,T;const D=(y=v?.message)!==null&&y!==void 0?y:"",M=(j=v?.code)!==null&&j!==void 0?j:"";g=`${(b=h?.name)!==null&&b!==void 0?b:"FetchError"}: ${h?.message}`,g+=`

Caused by: ${(T=v?.name)!==null&&T!==void 0?T:"Error"}: ${D}`,M&&(g+=` (${M})`),v?.stack&&(g+=`
${v.stack}`)}else{var O;g=(O=h?.stack)!==null&&O!==void 0?O:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(l,a)}returns(){return this}overrideTypes(){return this}},Yy=class extends Ky{select(l){let a=!1;const r=(l??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:a=!0,nullsFirst:r,foreignTable:o,referencedTable:d=o}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${l}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:a,referencedTable:r=a}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${l}`),this}range(l,a,{foreignTable:r,referencedTable:o=r}={}){const d=typeof o>"u"?"offset":`${o}.offset`,h=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(d,`${l}`),this.url.searchParams.set(h,`${a-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:a=!1,settings:r=!1,buffers:o=!1,wal:d=!1,format:h="text"}={}){var f;const g=[l?"analyze":null,a?"verbose":null,r?"settings":null,o?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const Sm=new RegExp("[,()]");var ai=class extends Yy{eq(l,a){return this.url.searchParams.append(l,`eq.${a}`),this}neq(l,a){return this.url.searchParams.append(l,`neq.${a}`),this}gt(l,a){return this.url.searchParams.append(l,`gt.${a}`),this}gte(l,a){return this.url.searchParams.append(l,`gte.${a}`),this}lt(l,a){return this.url.searchParams.append(l,`lt.${a}`),this}lte(l,a){return this.url.searchParams.append(l,`lte.${a}`),this}like(l,a){return this.url.searchParams.append(l,`like.${a}`),this}likeAllOf(l,a){return this.url.searchParams.append(l,`like(all).{${a.join(",")}}`),this}likeAnyOf(l,a){return this.url.searchParams.append(l,`like(any).{${a.join(",")}}`),this}ilike(l,a){return this.url.searchParams.append(l,`ilike.${a}`),this}ilikeAllOf(l,a){return this.url.searchParams.append(l,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(l,a){return this.url.searchParams.append(l,`ilike(any).{${a.join(",")}}`),this}regexMatch(l,a){return this.url.searchParams.append(l,`match.${a}`),this}regexIMatch(l,a){return this.url.searchParams.append(l,`imatch.${a}`),this}is(l,a){return this.url.searchParams.append(l,`is.${a}`),this}isDistinct(l,a){return this.url.searchParams.append(l,`isdistinct.${a}`),this}in(l,a){const r=Array.from(new Set(a)).map(o=>typeof o=="string"&&Sm.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(l,`in.(${r})`),this}notIn(l,a){const r=Array.from(new Set(a)).map(o=>typeof o=="string"&&Sm.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(l,`not.in.(${r})`),this}contains(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cs.{${a.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(a)}`),this}containedBy(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cd.{${a.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(a)}`),this}rangeGt(l,a){return this.url.searchParams.append(l,`sr.${a}`),this}rangeGte(l,a){return this.url.searchParams.append(l,`nxl.${a}`),this}rangeLt(l,a){return this.url.searchParams.append(l,`sl.${a}`),this}rangeLte(l,a){return this.url.searchParams.append(l,`nxr.${a}`),this}rangeAdjacent(l,a){return this.url.searchParams.append(l,`adj.${a}`),this}overlaps(l,a){return typeof a=="string"?this.url.searchParams.append(l,`ov.${a}`):this.url.searchParams.append(l,`ov.{${a.join(",")}}`),this}textSearch(l,a,{config:r,type:o}={}){let d="";o==="plain"?d="pl":o==="phrase"?d="ph":o==="websearch"&&(d="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(l,`${d}fts${h}.${a}`),this}match(l){return Object.entries(l).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(l,a,r){return this.url.searchParams.append(l,`not.${a}.${r}`),this}or(l,{foreignTable:a,referencedTable:r=a}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${l})`),this}filter(l,a,r){return this.url.searchParams.append(l,`${a}.${r}`),this}},Iy=class{constructor(l,{headers:a={},schema:r,fetch:o}){this.url=l,this.headers=new Headers(a),this.schema=r,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,a){const{head:r=!1,count:o}=a??{},d=r?"HEAD":"GET";let h=!1;const f=(l??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join(""),{url:g,headers:v}=this.cloneRequestState();return g.searchParams.set("select",f),o&&v.append("Prefer",`count=${o}`),new ai({method:d,url:g,headers:v,schema:this.schema,fetch:this.fetch})}insert(l,{count:a,defaultToNull:r=!0}={}){var o;const d="POST",{url:h,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),r||f.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);h.searchParams.set("columns",v.join(","))}}return new ai({method:d,url:h,headers:f,schema:this.schema,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(l,{onConflict:a,ignoreDuplicates:r=!1,count:o,defaultToNull:d=!0}={}){var h;const f="POST",{url:g,headers:v}=this.cloneRequestState();if(v.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&g.searchParams.set("on_conflict",a),o&&v.append("Prefer",`count=${o}`),d||v.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((j,b)=>j.concat(Object.keys(b)),[]);if(y.length>0){const j=[...new Set(y)].map(b=>`"${b}"`);g.searchParams.set("columns",j.join(","))}}return new ai({method:f,url:g,headers:v,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(l,{count:a}={}){var r;const o="PATCH",{url:d,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new ai({method:o,url:d,headers:h,schema:this.schema,body:l,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:l}={}){var a;const r="DELETE",{url:o,headers:d}=this.cloneRequestState();return l&&d.append("Prefer",`count=${l}`),new ai({method:r,url:o,headers:d,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Qy=class og{constructor(a,{headers:r={},schema:o,fetch:d}={}){this.url=a,this.headers=new Headers(r),this.schemaName=o,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Iy(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new og(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,r={},{head:o=!1,get:d=!1,count:h}={}){var f;let g;const v=new URL(`${this.url}/rpc/${a}`);let y;const j=O=>O!==null&&typeof O=="object"&&(!Array.isArray(O)||O.some(j)),b=o&&Object.values(r).some(j);b?(g="POST",y=r):o||d?(g=o?"HEAD":"GET",Object.entries(r).filter(([O,D])=>D!==void 0).map(([O,D])=>[O,Array.isArray(D)?`{${D.join(",")}}`:`${D}`]).forEach(([O,D])=>{v.searchParams.append(O,D)})):(g="POST",y=r);const T=new Headers(this.headers);return b?T.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&T.set("Prefer",`count=${h}`),new ai({method:g,url:v,headers:T,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Xy{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const o=r.versions;if(o&&o.node){const d=o.node,h=parseInt(d.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const o=this.getWebSocketConstructor();return new o(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Jy="2.93.3",Py=`realtime-js/${Jy}`,Zy="1.0.0",cg="2.0.0",Em=cg,eu=1e4,Wy=1e3,Fy=100;var Rs;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Rs||(Rs={}));var Be;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Be||(Be={}));var Ut;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Ut||(Ut={}));var tu;(function(l){l.websocket="websocket"})(tu||(tu={}));var oa;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(oa||(oa={}));class ex{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let o=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,o;const d=(o=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(a){var r,o;const d=(o=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,r,o){var d,h;const f=a.topic,g=(d=a.ref)!==null&&d!==void 0?d:"",v=(h=a.join_ref)!==null&&h!==void 0?h:"",y=a.payload.event,j=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},b=Object.keys(j).length===0?"":JSON.stringify(j);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+g.length+f.length+y.length+b.length,O=new ArrayBuffer(this.HEADER_LENGTH+T);let D=new DataView(O),M=0;D.setUint8(M++,this.KINDS.userBroadcastPush),D.setUint8(M++,v.length),D.setUint8(M++,g.length),D.setUint8(M++,f.length),D.setUint8(M++,y.length),D.setUint8(M++,b.length),D.setUint8(M++,r),Array.from(v,H=>D.setUint8(M++,H.charCodeAt(0))),Array.from(g,H=>D.setUint8(M++,H.charCodeAt(0))),Array.from(f,H=>D.setUint8(M++,H.charCodeAt(0))),Array.from(y,H=>D.setUint8(M++,H.charCodeAt(0))),Array.from(b,H=>D.setUint8(M++,H.charCodeAt(0)));var L=new Uint8Array(O.byteLength+o.byteLength);return L.set(new Uint8Array(O),0),L.set(new Uint8Array(o),O.byteLength),L.buffer}decode(a,r){if(this._isArrayBuffer(a)){let o=this._binaryDecode(a);return r(o)}if(typeof a=="string"){const o=JSON.parse(a),[d,h,f,g,v]=o;return r({join_ref:d,ref:h,topic:f,event:g,payload:v})}return r({})}_binaryDecode(a){const r=new DataView(a),o=r.getUint8(0),d=new TextDecoder;if(o===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,r,d)}_decodeUserBroadcast(a,r,o){const d=r.getUint8(1),h=r.getUint8(2),f=r.getUint8(3),g=r.getUint8(4);let v=this.HEADER_LENGTH+4;const y=o.decode(a.slice(v,v+d));v=v+d;const j=o.decode(a.slice(v,v+h));v=v+h;const b=o.decode(a.slice(v,v+f));v=v+f;const T=a.slice(v,a.byteLength),O=g===this.JSON_ENCODING?JSON.parse(o.decode(T)):T,D={type:this.BROADCAST_EVENT,event:j,payload:O};return f>0&&(D.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:D}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([o])=>r.includes(o)))}}class ug{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(pe||(pe={}));const Tm=(l,a,r={})=>{var o;const d=(o=r.skipTypes)!==null&&o!==void 0?o:[];return a?Object.keys(a).reduce((h,f)=>(h[f]=tx(f,l,a,d),h),{}):{}},tx=(l,a,r,o)=>{const d=a.find(g=>g.name===l),h=d?.type,f=r[l];return h&&!o.includes(h)?dg(h,f):su(f)},dg=(l,a)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return nx(a,r)}switch(l){case pe.bool:return sx(a);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return ax(a);case pe.json:case pe.jsonb:return ix(a);case pe.timestamp:return lx(a);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return su(a);default:return su(a)}},su=l=>l,sx=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},ax=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},ix=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},nx=(l,a)=>{if(typeof l!="string")return l;const r=l.length-1,o=l[r];if(l[0]==="{"&&o==="}"){let h;const f=l.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>dg(a,g))}return l},lx=l=>typeof l=="string"?l.replace(" ","T"):l,hg=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class qc{constructor(a,r,o={},d=eu){this.channel=a,this.event=r,this.payload=o,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var o;return this._hasReceived(a)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(o=>o.status===a).forEach(o=>o.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Am;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Am||(Am={}));class dn{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},d=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dn.syncState(this.state,d,h,f),this.pendingDiffs.forEach(v=>{this.state=dn.syncDiff(this.state,v,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(o.diff,{},d=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=dn.syncDiff(this.state,d,h,f),g())}),this.onJoin((d,h,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:f})}),this.onLeave((d,h,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,o,d){const h=this.cloneDeep(a),f=this.transformState(r),g={},v={};return this.map(h,(y,j)=>{f[y]||(v[y]=j)}),this.map(f,(y,j)=>{const b=h[y];if(b){const T=j.map(L=>L.presence_ref),O=b.map(L=>L.presence_ref),D=j.filter(L=>O.indexOf(L.presence_ref)<0),M=b.filter(L=>T.indexOf(L.presence_ref)<0);D.length>0&&(g[y]=D),M.length>0&&(v[y]=M)}else g[y]=j}),this.syncDiff(h,{joins:g,leaves:v},o,d)}static syncDiff(a,r,o,d){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),d||(d=()=>{}),this.map(h,(g,v)=>{var y;const j=(y=a[g])!==null&&y!==void 0?y:[];if(a[g]=this.cloneDeep(v),j.length>0){const b=a[g].map(O=>O.presence_ref),T=j.filter(O=>b.indexOf(O.presence_ref)<0);a[g].unshift(...T)}o(g,j,v)}),this.map(f,(g,v)=>{let y=a[g];if(!y)return;const j=v.map(b=>b.presence_ref);y=y.filter(b=>j.indexOf(b.presence_ref)<0),a[g]=y,d(g,y,v),y.length===0&&delete a[g]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(o=>r(o,a[o]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,o)=>{const d=a[o];return"metas"in d?r[o]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[o]=d,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Om;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Om||(Om={}));var hn;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(hn||(hn={}));var is;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));class li{constructor(a,r={config:{}},o){var d,h;if(this.topic=a,this.params=r,this.socket=o,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qc(this,Ut.join,this.params,this.timeout),this.rejoinTimer=new ug(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ut.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new dn(this),this.broadcastEndpointURL=hg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var o,d,h;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:f,presence:g,private:v}}=this.params,y=(d=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(O=>O.filter))!==null&&d!==void 0?d:[],j=!!this.bindings[hn.PRESENCE]&&this.bindings[hn.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,b={},T={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:j}),postgres_changes:y,private:v};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(O=>a?.(is.CHANNEL_ERROR,O)),this._onClose(()=>a?.(is.CLOSED)),this.updateJoinPayload(Object.assign({config:T},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:O})=>{var D;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){a?.(is.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,L=(D=M?.length)!==null&&D!==void 0?D:0,H=[];for(let V=0;V<L;V++){const z=M[V],{filter:{event:J,schema:ve,table:F,filter:ce}}=z,Ce=O&&O[V];if(Ce&&Ce.event===J&&li.isFilterValueEqual(Ce.schema,ve)&&li.isFilterValueEqual(Ce.table,F)&&li.isFilterValueEqual(Ce.filter,ce))H.push(Object.assign(Object.assign({},z),{id:Ce.id}));else{this.unsubscribe(),this.state=Be.errored,a?.(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,a&&a(is.SUBSCRIBED);return}}).receive("error",O=>{this.state=Be.errored,a?.(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{a?.(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,o){return this.state===Be.joined&&a===hn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,o)}async httpSend(a,r,o={}){var d;if(r==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=o.timeout)!==null&&d!==void 0?d:this.timeout);if(g.status===202)return{success:!0};let v=g.statusText;try{const y=await g.json();v=y.error||y.message||v}catch{}return Promise.reject(new Error(v))}async send(a,r={}){var o,d;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((d=y.body)===null||d===void 0?void 0:d.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,v;const y=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((v=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||v===void 0)&&v.ack)&&h("ok"),y.receive("ok",()=>h("ok")),y.receive("error",()=>h("error")),y.receive("timeout",()=>h("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Be.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ut.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(d=>{o=new qc(this,Ut.leave,{},a),o.receive("ok",()=>{r(),d("ok")}).receive("timeout",()=>{r(),d("timed out")}).receive("error",()=>{d("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(a,r,o){const d=new AbortController,h=setTimeout(()=>d.abort(),o),f=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:d.signal}));return clearTimeout(h),f}_push(a,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new qc(this,a,r,o);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Fy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,o){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,o){var d,h;const f=a.toLocaleLowerCase(),{close:g,error:v,leave:y,join:j}=Ut;if(o&&[g,v,y,j].indexOf(f)>=0&&o!==this._joinRef())return;let T=this._onMessage(f,r,o);if(r&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(O=>{var D,M,L;return((D=O.filter)===null||D===void 0?void 0:D.event)==="*"||((L=(M=O.filter)===null||M===void 0?void 0:M.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===f}).map(O=>O.callback(T,o)):(h=this.bindings[f])===null||h===void 0||h.filter(O=>{var D,M,L,H,V,z;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in O){const J=O.id,ve=(D=O.filter)===null||D===void 0?void 0:D.event;return J&&((M=r.ids)===null||M===void 0?void 0:M.includes(J))&&(ve==="*"||ve?.toLocaleLowerCase()===((L=r.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const J=(V=(H=O?.filter)===null||H===void 0?void 0:H.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return J==="*"||J===((z=r?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===f}).map(O=>{if(typeof T=="object"&&"ids"in T){const D=T.data,{schema:M,table:L,commit_timestamp:H,type:V,errors:z}=D;T=Object.assign(Object.assign({},{schema:M,table:L,commit_timestamp:H,eventType:V,new:{},old:{},errors:z}),this._getPayloadRecords(D))}O.callback(T,o)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,o){const d=a.toLocaleLowerCase(),h={type:d,filter:r,callback:o};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(a,r){const o=a.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===o&&li.isEqual(d.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const o in a)if(a[o]!==r[o])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Ut.close,{},a)}_onError(a){this._on(Ut.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=Tm(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=Tm(a.columns,a.old_record)),r}}const Hc=()=>{},Il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rx=[1e3,2e3,5e3,1e4],ox=1e4,cx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ux{constructor(a,r){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eu,this.transport=null,this.heartbeatIntervalMs=Il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hc,this.ref=0,this.reconnectTimer=null,this.vsn=Em,this.logger=Hc,this.conn=null,this.sendBuffer=[],this.serializer=new ex,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(...h)=>d(...h):(...h)=>fetch(...h),!(!((o=r?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${tu.websocket}`,this.httpEndpoint=hg(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xy.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,o){this.logger(a,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Rs.connecting:return oa.Connecting;case Rs.open:return oa.Open;case Rs.closing:return oa.Closing;default:return oa.Closed}}isConnected(){return this.connectionState()===oa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const o=`realtime:${a}`,d=this.getChannels().find(h=>h.topic===o);if(d)return d;{const h=new li(`realtime:${a}`,r,this);return this.channels.push(h),h}}push(a){const{topic:r,event:o,payload:d,ref:h}=a,f=()=>{this.encode(a,g=>{var v;(v=this.conn)===null||v===void 0||v.send(g)})};this.log("push",`${r} ${o} (${h})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Wy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Il.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(o=>o.topic===a&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",y)}catch(j){this.log("error","error in heartbeat callback",j)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:d,payload:h,ref:f}=r,g=f?`(${f})`:"",v=h.status||"";this.log("receive",`${v} ${o} ${d} ${g}`.trim(),h),this.channels.filter(y=>y._isMember(o)).forEach(y=>y._trigger(d,h,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Rs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rs.open||this.conn.readyState===Rs.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Ut.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const o=a.match(/\?/)?"&":"?",d=new URLSearchParams(r);return`${a}${o}${d}`}_workerObjectUrl(a){let r;if(a)r=a;else{const o=new Blob([cx],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,o=!1;if(a)r=a,o=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),r=this.accessTokenValue}else r=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(d=>{const h={access_token:r,version:Py};r&&d.updateJoinPayload(h),d.joinedOnce&&d._isJoined()&&d._push(Ut.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(o=>{try{o(r)}catch(d){this.log("error",`error in ${a} callback`,d)}})}catch(o){this.log("error",`error triggering ${a} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new ug(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,o,d,h,f,g,v,y,j,b,T,O;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(o=a?.timeout)!==null&&o!==void 0?o:eu,this.heartbeatIntervalMs=(d=a?.heartbeatIntervalMs)!==null&&d!==void 0?d:Il.HEARTBEAT_INTERVAL,this.worker=(h=a?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=a?.heartbeatCallback)!==null&&g!==void 0?g:Hc,this.vsn=(v=a?.vsn)!==null&&v!==void 0?v:Em,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(D=>rx[D-1]||ox),this.vsn){case Zy:this.encode=(j=a?.encode)!==null&&j!==void 0?j:((D,M)=>M(JSON.stringify(D))),this.decode=(b=a?.decode)!==null&&b!==void 0?b:((D,M)=>M(JSON.parse(D)));break;case cg:this.encode=(T=a?.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(O=a?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var mn=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function dx(l,a,r){const o=new URL(a,l);if(r)for(const[d,h]of Object.entries(r))h!==void 0&&o.searchParams.set(d,h);return o.toString()}async function hx(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function fx(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:r,path:o,query:d,body:h,headers:f}){const g=dx(l.baseUrl,o,d),v=await hx(l.auth),y=await a(g,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...v,...f},body:h?JSON.stringify(h):void 0}),j=await y.text(),b=(y.headers.get("content-type")||"").includes("application/json"),T=b&&j?JSON.parse(j):j;if(!y.ok){const O=b?T:void 0,D=O?.error;throw new mn(D?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:D?.type,icebergCode:D?.code,details:O})}return{status:y.status,headers:y.headers,data:T}}}}function Ql(l){return l.join("")}var mx=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:Ql(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(l,a){const r={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ql(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ql(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ql(l.namespace)}`}),!0}catch(a){if(a instanceof mn&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(r){if(r instanceof mn&&r.status===409)return;throw r}}};function Za(l){return l.join("")}var gx=class{constructor(l,a="",r){this.client=l,this.prefix=a,this.accessDelegation=r}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Za(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Za(l.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(l,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Za(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Za(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Za(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Za(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(r){if(r instanceof mn&&r.status===404)return!1;throw r}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(r){if(r instanceof mn&&r.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw r}}},px=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const r=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=fx({baseUrl:r,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new mx(this.client,a),this.tableOps=new gx(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}},hr=class extends Error{constructor(l,a="storage",r,o){super(l),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=o}};function fr(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var Xl=class extends hr{constructor(l,a,r,o="storage"){super(l,o,a,r),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fg=class extends hr{constructor(l,a,r="storage"){super(l,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const vx=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),yx=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},au=l=>{if(Array.isArray(l))return l.map(r=>au(r));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([r,o])=>{const d=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));a[d]=au(o)}),a},xx=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function gn(l){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},gn(l)}function bx(l,a){if(gn(l)!="object"||!l)return l;var r=l[Symbol.toPrimitive];if(r!==void 0){var o=r.call(l,a);if(gn(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function wx(l){var a=bx(l,"string");return gn(a)=="symbol"?a:a+""}function jx(l,a,r){return(a=wx(a))in l?Object.defineProperty(l,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[a]=r,l}function km(l,a){var r=Object.keys(l);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);a&&(o=o.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),r.push.apply(r,o)}return r}function X(l){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?km(Object(r),!0).forEach(function(o){jx(l,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(r)):km(Object(r)).forEach(function(o){Object.defineProperty(l,o,Object.getOwnPropertyDescriptor(r,o))})}return l}const Cm=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},_x=async(l,a,r,o)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!r?.noResolveJson){const d=l,h=d.status||500;if(typeof d.json=="function")d.json().then(f=>{const g=f?.statusCode||f?.code||h+"";a(new Xl(Cm(f),h,g,o))}).catch(()=>{if(o==="vectors"){const f=h+"";a(new Xl(d.statusText||`HTTP ${h} error`,h,f,o))}else{const f=h+"";a(new Xl(d.statusText||`HTTP ${h} error`,h,f,o))}});else{const f=h+"";a(new Xl(d.statusText||`HTTP ${h} error`,h,f,o))}}else a(new fg(Cm(l),l,o))},Nx=(l,a,r,o)=>{const d={method:l,headers:a?.headers||{}};return l==="GET"||l==="HEAD"||!o?X(X({},d),r):(yx(o)?(d.headers=X({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(o)):d.body=o,a?.duplex&&(d.duplex=a.duplex),X(X({},d),r))};async function rn(l,a,r,o,d,h,f){return new Promise((g,v)=>{l(r,Nx(a,o,d,h)).then(y=>{if(!y.ok)throw y;if(o?.noResolveJson)return y;if(f==="vectors"){const j=y.headers.get("content-type");if(y.headers.get("content-length")==="0"||y.status===204)return{};if(!j||!j.includes("application/json"))return{}}return y.json()}).then(y=>g(y)).catch(y=>_x(y,v,o,f))})}function mg(l="storage"){return{get:async(a,r,o,d)=>rn(a,"GET",r,o,d,void 0,l),post:async(a,r,o,d,h)=>rn(a,"POST",r,d,h,o,l),put:async(a,r,o,d,h)=>rn(a,"PUT",r,d,h,o,l),head:async(a,r,o,d)=>rn(a,"HEAD",r,X(X({},o),{},{noResolveJson:!0}),d,void 0,l),remove:async(a,r,o,d,h)=>rn(a,"DELETE",r,d,h,o,l)}}const Sx=mg("storage"),{get:pn,post:Rt,put:iu,head:Ex,remove:pu}=Sx,pt=mg("vectors");var di=class{constructor(l,a={},r,o="storage"){this.shouldThrowOnError=!1,this.url=l,this.headers=a,this.fetch=vx(r),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(l){var a=this;try{return{data:await l(),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(fr(r))return{data:null,error:r};throw r}}},Tx=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a}then(l,a){return this.execute().then(l,a)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(fr(a))return{data:null,error:a};throw a}}};let gg;gg=Symbol.toStringTag;var Ax=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a,this[gg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tx(this.downloadFn,this.shouldThrowOnError)}then(l,a){return this.getPromise().then(l,a)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(fr(a))return{data:null,error:a};throw a}}};const Ox={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kx=class extends di{constructor(l,a={},r,o){super(l,a,o,"storage"),this.bucketId=r}async uploadOrUpdate(l,a,r,o){var d=this;return d.handleOperation(async()=>{let h;const f=X(X({},Rm),o);let g=X(X({},d.headers),l==="POST"&&{"x-upsert":String(f.upsert)});const v=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),v&&h.append("metadata",d.encodeMetadata(v)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),v&&!h.has("metadata")&&h.append("metadata",d.encodeMetadata(v))):(h=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,v&&(g["x-metadata"]=d.toBase64(d.encodeMetadata(v))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),o?.headers&&(g=X(X({},g),o.headers));const y=d._removeEmptyFolders(a),j=d._getFinalPath(y),b=await(l=="PUT"?iu:Rt)(d.fetch,`${d.url}/object/${j}`,h,X({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{path:y,id:b.Id,fullPath:b.Key}})}async upload(l,a,r){return this.uploadOrUpdate("POST",l,a,r)}async uploadToSignedUrl(l,a,r,o){var d=this;const h=d._removeEmptyFolders(l),f=d._getFinalPath(h),g=new URL(d.url+`/object/upload/sign/${f}`);return g.searchParams.set("token",a),d.handleOperation(async()=>{let v;const y=X({upsert:Rm.upsert},o),j=X(X({},d.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&r instanceof Blob?(v=new FormData,v.append("cacheControl",y.cacheControl),v.append("",r)):typeof FormData<"u"&&r instanceof FormData?(v=r,v.append("cacheControl",y.cacheControl)):(v=r,j["cache-control"]=`max-age=${y.cacheControl}`,j["content-type"]=y.contentType),{path:h,fullPath:(await iu(d.fetch,g.toString(),v,{headers:j})).Key}})}async createSignedUploadUrl(l,a){var r=this;return r.handleOperation(async()=>{let o=r._getFinalPath(l);const d=X({},r.headers);a?.upsert&&(d["x-upsert"]="true");const h=await Rt(r.fetch,`${r.url}/object/upload/sign/${o}`,{},{headers:d}),f=new URL(r.url+h.url),g=f.searchParams.get("token");if(!g)throw new hr("No token returned by API");return{signedUrl:f.toString(),path:l,token:g}})}async update(l,a,r){return this.uploadOrUpdate("PUT",l,a,r)}async move(l,a,r){var o=this;return o.handleOperation(async()=>await Rt(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:l,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:o.headers}))}async copy(l,a,r){var o=this;return o.handleOperation(async()=>({path:(await Rt(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:l,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(l,a,r){var o=this;return o.handleOperation(async()=>{let d=o._getFinalPath(l),h=await Rt(o.fetch,`${o.url}/object/sign/${d}`,X({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:o.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${o.url}${h.signedURL}${f}`)}})}async createSignedUrls(l,a,r){var o=this;return o.handleOperation(async()=>{const d=await Rt(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:a,paths:l},{headers:o.headers}),h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return d.map(f=>X(X({},f),{},{signedUrl:f.signedURL?encodeURI(`${o.url}${f.signedURL}${h}`):null}))})}download(l,a){const r=typeof a?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(a?.transform||{}),d=o?`?${o}`:"",h=this._getFinalPath(l),f=()=>pn(this.fetch,`${this.url}/${r}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new Ax(f,this.shouldThrowOnError)}async info(l){var a=this;const r=a._getFinalPath(l);return a.handleOperation(async()=>au(await pn(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})))}async exists(l){var a=this;const r=a._getFinalPath(l);try{return await Ex(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(fr(o)&&o instanceof fg){const d=o.originalError;if([400,404].includes(d?.status))return{data:!1,error:o}}throw o}}getPublicUrl(l,a){const r=this._getFinalPath(l),o=[],d=a?.download?`download=${a.download===!0?"":a.download}`:"";d!==""&&o.push(d);const h=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&o.push(f);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${g}`)}}}async remove(l){var a=this;return a.handleOperation(async()=>await pu(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:l},{headers:a.headers}))}async list(l,a,r){var o=this;return o.handleOperation(async()=>{const d=X(X(X({},Ox),a),{},{prefix:l||""});return await Rt(o.fetch,`${o.url}/object/list/${o.bucketId}`,d,{headers:o.headers},r)})}async listV2(l,a){var r=this;return r.handleOperation(async()=>{const o=X({},l);return await Rt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,o,{headers:r.headers},a)})}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const a=[];return l.width&&a.push(`width=${l.width}`),l.height&&a.push(`height=${l.height}`),l.resize&&a.push(`resize=${l.resize}`),l.format&&a.push(`format=${l.format}`),l.quality&&a.push(`quality=${l.quality}`),a.join("&")}};const Cx="2.93.3",jn={"X-Client-Info":`storage-js/${Cx}`};var Rx=class extends di{constructor(l,a={},r,o){const d=new URL(l);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase."));const h=d.href.replace(/\/$/,""),f=X(X({},jn),a);super(h,f,r,"storage")}async listBuckets(l){var a=this;return a.handleOperation(async()=>{const r=a.listBucketOptionsToQueryString(l);return await pn(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers})})}async getBucket(l){var a=this;return a.handleOperation(async()=>await pn(a.fetch,`${a.url}/bucket/${l}`,{headers:a.headers}))}async createBucket(l,a={public:!1}){var r=this;return r.handleOperation(async()=>await Rt(r.fetch,`${r.url}/bucket`,{id:l,name:l,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async updateBucket(l,a){var r=this;return r.handleOperation(async()=>await iu(r.fetch,`${r.url}/bucket/${l}`,{id:l,name:l,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(l){var a=this;return a.handleOperation(async()=>await Rt(a.fetch,`${a.url}/bucket/${l}/empty`,{},{headers:a.headers}))}async deleteBucket(l){var a=this;return a.handleOperation(async()=>await pu(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(l){const a={};return l&&("limit"in l&&(a.limit=String(l.limit)),"offset"in l&&(a.offset=String(l.offset)),l.search&&(a.search=l.search),l.sortColumn&&(a.sortColumn=l.sortColumn),l.sortOrder&&(a.sortOrder=l.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Ux=class extends di{constructor(l,a={},r){const o=l.replace(/\/$/,""),d=X(X({},jn),a);super(o,d,r,"storage")}async createBucket(l){var a=this;return a.handleOperation(async()=>await Rt(a.fetch,`${a.url}/bucket`,{name:l},{headers:a.headers}))}async listBuckets(l){var a=this;return a.handleOperation(async()=>{const r=new URLSearchParams;l?.limit!==void 0&&r.set("limit",l.limit.toString()),l?.offset!==void 0&&r.set("offset",l.offset.toString()),l?.sortColumn&&r.set("sortColumn",l.sortColumn),l?.sortOrder&&r.set("sortOrder",l.sortOrder),l?.search&&r.set("search",l.search);const o=r.toString(),d=o?`${a.url}/bucket?${o}`:`${a.url}/bucket`;return await pn(a.fetch,d,{headers:a.headers})})}async deleteBucket(l){var a=this;return a.handleOperation(async()=>await pu(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}))}from(l){var a=this;if(!xx(l))throw new hr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new px({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(r,{get(d,h){const f=d[h];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(d,g),error:null}}catch(v){if(o)throw v;return{data:null,error:v}}}}})}},Dx=class extends di{constructor(l,a={},r){const o=l.replace(/\/$/,""),d=X(X({},jn),{},{"Content-Type":"application/json"},a);super(o,d,r,"vectors")}async createIndex(l){var a=this;return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/CreateIndex`,l,{headers:a.headers})||{})}async getIndex(l,a){var r=this;return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:l,indexName:a},{headers:r.headers}))}async listIndexes(l){var a=this;return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/ListIndexes`,l,{headers:a.headers}))}async deleteIndex(l,a){var r=this;return r.handleOperation(async()=>await pt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:l,indexName:a},{headers:r.headers})||{})}},Mx=class extends di{constructor(l,a={},r){const o=l.replace(/\/$/,""),d=X(X({},jn),{},{"Content-Type":"application/json"},a);super(o,d,r,"vectors")}async putVectors(l){var a=this;if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/PutVectors`,l,{headers:a.headers})||{})}async getVectors(l){var a=this;return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/GetVectors`,l,{headers:a.headers}))}async listVectors(l){var a=this;if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/ListVectors`,l,{headers:a.headers}))}async queryVectors(l){var a=this;return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/QueryVectors`,l,{headers:a.headers}))}async deleteVectors(l){var a=this;if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/DeleteVectors`,l,{headers:a.headers})||{})}},zx=class extends di{constructor(l,a={},r){const o=l.replace(/\/$/,""),d=X(X({},jn),{},{"Content-Type":"application/json"},a);super(o,d,r,"vectors")}async createBucket(l){var a=this;return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{})}async getBucket(l){var a=this;return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:l},{headers:a.headers}))}async listBuckets(l={}){var a=this;return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/ListVectorBuckets`,l,{headers:a.headers}))}async deleteBucket(l){var a=this;return a.handleOperation(async()=>await pt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{})}},Lx=class extends zx{constructor(l,a={}){super(l,a.headers||{},a.fetch)}from(l){return new Bx(this.url,this.headers,l,this.fetch)}async createBucket(l){var a=()=>super.createBucket,r=this;return a().call(r,l)}async getBucket(l){var a=()=>super.getBucket,r=this;return a().call(r,l)}async listBuckets(l={}){var a=()=>super.listBuckets,r=this;return a().call(r,l)}async deleteBucket(l){var a=()=>super.deleteBucket,r=this;return a().call(r,l)}},Bx=class extends Dx{constructor(l,a,r,o){super(l,a,o),this.vectorBucketName=r}async createIndex(l){var a=()=>super.createIndex,r=this;return a().call(r,X(X({},l),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(l={}){var a=()=>super.listIndexes,r=this;return a().call(r,X(X({},l),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(l){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,l)}async deleteIndex(l){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,l)}index(l){return new qx(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},qx=class extends Mx{constructor(l,a,r,o,d){super(l,a,d),this.vectorBucketName=r,this.indexName=o}async putVectors(l){var a=()=>super.putVectors,r=this;return a().call(r,X(X({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(l){var a=()=>super.getVectors,r=this;return a().call(r,X(X({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(l={}){var a=()=>super.listVectors,r=this;return a().call(r,X(X({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(l){var a=()=>super.queryVectors,r=this;return a().call(r,X(X({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(l){var a=()=>super.deleteVectors,r=this;return a().call(r,X(X({},l),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Hx=class extends Rx{constructor(l,a={},r,o){super(l,a,r,o)}from(l){return new kx(this.url,this.headers,l,this.fetch)}get vectors(){return new Lx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ux(this.url+"/iceberg",this.headers,this.fetch)}};const pg="2.93.3",ii=30*1e3,nu=3,$c=nu*ii,$x="http://localhost:9999",Gx="supabase.auth.token",Vx={"X-Client-Info":`gotrue-js/${pg}`},lu="X-Supabase-Api-Version",vg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yx=600*1e3;class vn extends Error{constructor(a,r,o){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}}function K(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Ix extends vn{constructor(a,r,o){super(a,r,o),this.name="AuthApiError",this.status=r,this.code=o}}function Qx(l){return K(l)&&l.name==="AuthApiError"}class ca extends vn{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class ns extends vn{constructor(a,r,o,d){super(a,o,d),this.name=r,this.status=o}}class gt extends ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gc(l){return K(l)&&l.name==="AuthSessionMissingError"}class Wa extends ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jl extends ns{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Pl extends ns{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xx(l){return K(l)&&l.name==="AuthImplicitGrantRedirectError"}class Um extends ns{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jx extends ns{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ru extends ns{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function Vc(l){return K(l)&&l.name==="AuthRetryableFetchError"}class Dm extends ns{constructor(a,r,o){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}}class ou extends ns{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mm=` 	
\r=`.split(""),Px=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Mm.length;a+=1)l[Mm[a].charCodeAt(0)]=-2;for(let a=0;a<nr.length;a+=1)l[nr[a].charCodeAt(0)]=a;return l})();function zm(l,a,r){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const o=a.queue>>a.queuedBits-6&63;r(nr[o]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const o=a.queue>>a.queuedBits-6&63;r(nr[o]),a.queuedBits-=6}}function yg(l,a,r){const o=Px[l];if(o>-1)for(a.queue=a.queue<<6|o,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Lm(l){const a=[],r=f=>{a.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},h=f=>{Fx(f,o,r)};for(let f=0;f<l.length;f+=1)yg(l.charCodeAt(f),d,h);return a.join("")}function Zx(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Wx(l,a){for(let r=0;r<l.length;r+=1){let o=l.charCodeAt(r);if(o>55295&&o<=56319){const d=(o-55296)*1024&65535;o=(l.charCodeAt(r+1)-56320&65535|d)+65536,r+=1}Zx(o,a)}}function Fx(l,a,r){if(a.utf8seq===0){if(l<=127){r(l);return}for(let o=1;o<6;o+=1)if((l>>7-o&1)===0){a.utf8seq=o;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function ri(l){const a=[],r={queue:0,queuedBits:0},o=d=>{a.push(d)};for(let d=0;d<l.length;d+=1)yg(l.charCodeAt(d),r,o);return new Uint8Array(a)}function eb(l){const a=[];return Wx(l,r=>a.push(r)),new Uint8Array(a)}function ua(l){const a=[],r={queue:0,queuedBits:0},o=d=>{a.push(d)};return l.forEach(d=>zm(d,r,o)),zm(null,r,o),a.join("")}function tb(l){return Math.round(Date.now()/1e3)+l}function sb(){return Symbol("auth-callback")}const Xe=()=>typeof window<"u"&&typeof document<"u",na={tested:!1,writable:!1},xg=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(na.tested)return na.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),na.tested=!0,na.writable=!0}catch{na.tested=!0,na.writable=!1}return na.writable};function ab(l){const a={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((d,h)=>{a[h]=d})}catch{}return r.searchParams.forEach((o,d)=>{a[d]=o}),a}const bg=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),ib=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",ni=async(l,a,r)=>{await l.setItem(a,JSON.stringify(r))},la=async(l,a)=>{const r=await l.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qe=async(l,a)=>{await l.removeItem(a)};class mr{constructor(){this.promise=new mr.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}mr.promiseConstructor=Promise;function Zl(l){const a=l.split(".");if(a.length!==3)throw new ou("Invalid JWT structure");for(let o=0;o<a.length;o++)if(!Kx.test(a[o]))throw new ou("JWT not in base64url format");return{header:JSON.parse(Lm(a[0])),payload:JSON.parse(Lm(a[1])),signature:ri(a[2]),raw:{header:a[0],payload:a[1]}}}async function nb(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function lb(l,a){return new Promise((o,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await l(h);if(!a(h,null,f)){o(f);return}}catch(f){if(!a(h,f)){d(f);return}}})()})}function rb(l){return("0"+l.toString(16)).substr(-2)}function ob(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let d="";for(let h=0;h<56;h++)d+=r.charAt(Math.floor(Math.random()*o));return d}return crypto.getRandomValues(a),Array.from(a,rb).join("")}async function cb(l){const r=new TextEncoder().encode(l),o=await crypto.subtle.digest("SHA-256",r),d=new Uint8Array(o);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}async function ub(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await cb(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fa(l,a,r=!1){const o=ob();let d=o;r&&(d+="/PASSWORD_RECOVERY"),await ni(l,`${a}-code-verifier`,d);const h=await ub(o);return[h,o===h?"plain":"s256"]}const db=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hb(l){const a=l.headers.get(lu);if(!a||!a.match(db))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function fb(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function mb(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ei(l){if(!gb.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kc(){const l={};return new Proxy(l,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pb(l,a){return new Proxy(l,{get:(r,o,d)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const h=o.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,o,d)}return!a.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,o,d)}})}function Bm(l){return JSON.parse(JSON.stringify(l))}const ra=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),vb=[502,503,504];async function qm(l){var a;if(!ib(l))throw new ru(ra(l),0);if(vb.includes(l.status))throw new ru(ra(l),l.status);let r;try{r=await l.json()}catch(h){throw new ca(ra(h),h)}let o;const d=hb(l);if(d&&d.getTime()>=vg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new Dm(ra(r),l.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(o==="session_not_found")throw new gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Dm(ra(r),l.status,r.weak_password.reasons);throw new Ix(ra(r),l.status||500,o)}const yb=(l,a,r,o)=>{const d={method:l,headers:a?.headers||{}};return l==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),d.body=JSON.stringify(o),Object.assign(Object.assign({},d),r))};async function Q(l,a,r,o){var d;const h=Object.assign({},o?.headers);h[lu]||(h[lu]=vg["2024-01-01"].name),o?.jwt&&(h.Authorization=`Bearer ${o.jwt}`);const f=(d=o?.query)!==null&&d!==void 0?d:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",v=await xb(l,a,r+g,{headers:h,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(v):{data:Object.assign({},v),error:null}}async function xb(l,a,r,o,d,h){const f=yb(a,o,d,h);let g;try{g=await l(r,Object.assign({},f))}catch(v){throw console.error(v),new ru(ra(v),0)}if(g.ok||await qm(g),o?.noResolveJson)return g;try{return await g.json()}catch(v){await qm(v)}}function Ct(l){var a;let r=null;jb(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=tb(l.expires_in)));const o=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:r,user:o},error:null}}function Hm(l){const a=Ct(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(a.data.weak_password=l.weak_password),a}function Us(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function bb(l){return{data:l,error:null}}function wb(l){const{action_link:a,email_otp:r,hashed_token:o,redirect_to:d,verification_type:h}=l,f=cr(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:r,hashed_token:o,redirect_to:d,verification_type:h},v=Object.assign({},f);return{data:{properties:g,user:v},error:null}}function $m(l){return l}function jb(l){return l.access_token&&l.refresh_token&&l.expires_in}const Yc=["global","local","others"];class _b{constructor({url:a="",headers:r={},fetch:o}){this.url=a,this.headers=r,this.fetch=bg(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=Yc[0]){if(Yc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yc.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(o){if(K(o))return{data:null,error:o};throw o}}async inviteUserByEmail(a,r={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Us})}catch(o){if(K(o))return{data:{user:null},error:o};throw o}}async generateLink(a){try{const{options:r}=a,o=cr(a,["options"]),d=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(d.new_email=o?.newEmail,delete d.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:wb,redirectTo:r?.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Us})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,o,d,h,f,g,v;try{const y={nextPage:null,lastPage:0,total:0},j=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(h=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:$m});if(j.error)throw j.error;const b=await j.json(),T=(f=j.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(v=(g=j.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&v!==void 0?v:[];return O.length>0&&(O.forEach(D=>{const M=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(D.split(";")[1].split("=")[1]);y[`${L}Page`]=M}),y.total=parseInt(T)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(K(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){ei(a);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Us})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){ei(a);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:Us})}catch(o){if(K(o))return{data:{user:null},error:o};throw o}}async deleteUser(a,r=!1){ei(a);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:Us})}catch(o){if(K(o))return{data:{user:null},error:o};throw o}}async _listFactors(a){ei(a.userId);try{const{data:r,error:o}=await Q(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:r,error:o}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(a){ei(a.userId),ei(a.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,o,d,h,f,g,v;try{const y={nextPage:null,lastPage:0,total:0},j=await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(h=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:$m});if(j.error)throw j.error;const b=await j.json(),T=(f=j.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(v=(g=j.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&v!==void 0?v:[];return O.length>0&&(O.forEach(D=>{const M=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(D.split(";")[1].split("=")[1]);y[`${L}Page`]=M}),y.total=parseInt(T)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(K(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await Q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(K(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(a){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}}function Gm(l={}){return{getItem:a=>l[a]||null,setItem:(a,r)=>{l[a]=r},removeItem:a=>{delete l[a]}}}const ti={debug:!!(globalThis&&xg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Nb extends wg{}async function Sb(l,a,r){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const o=new globalThis.AbortController;return a>0&&setTimeout(()=>{o.abort(),ti.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async d=>{if(d){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,d.name);try{return await r()}finally{ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,d.name)}}else{if(a===0)throw ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Nb(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ti.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Eb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jg(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Tb(l){return parseInt(l,16)}function Ab(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,o=>o.toString(16).padStart(2,"0")).join("")}function Ob(l){var a;const{chainId:r,domain:o,expirationTime:d,issuedAt:h=new Date,nonce:f,notBefore:g,requestId:v,resources:y,scheme:j,uri:b,version:T}=l;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const O=jg(l.address),D=j?`${j}://${o}`:o,M=l.statement?`${l.statement}
`:"",L=`${D} wants you to sign in with your Ethereum account:
${O}

${M}`;let H=`URI: ${b}
Version: ${T}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(d&&(H+=`
Expiration Time: ${d.toISOString()}`),g&&(H+=`
Not Before: ${g.toISOString()}`),v&&(H+=`
Request ID: ${v}`),y){let V=`
Resources:`;for(const z of y){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);V+=`
- ${z}`}H+=V}return`${L}
${H}`}class ze extends Error{constructor({message:a,code:r,cause:o,name:d}){var h;super(a,{cause:o}),this.__isWebAuthnError=!0,this.name=(h=d??(o instanceof Error?o.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class lr extends ze{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function kb({error:l,options:a}){var r,o,d;const{publicKey:h}=a;if(!h)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((o=h.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((d=h.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new ze({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(_g(f)){if(h.rp.id!==f)return new ze({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Cb({error:l,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new ze({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const o=window.location.hostname;if(_g(o)){if(r.rpId!==o)return new ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Rb{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Ub=new Rb;function Db(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:r,excludeCredentials:o}=l,d=cr(l,["challenge","user","excludeCredentials"]),h=ri(a).buffer,f=Object.assign(Object.assign({},r),{id:ri(r.id).buffer}),g=Object.assign(Object.assign({},d),{challenge:h,user:f});if(o&&o.length>0){g.excludeCredentials=new Array(o.length);for(let v=0;v<o.length;v++){const y=o[v];g.excludeCredentials[v]=Object.assign(Object.assign({},y),{id:ri(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function Mb(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:r}=l,o=cr(l,["challenge","allowCredentials"]),d=ri(a).buffer,h=Object.assign(Object.assign({},o),{challenge:d});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const g=r[f];h.allowCredentials[f]=Object.assign(Object.assign({},g),{id:ri(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function zb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l;return{id:l.id,rawId:l.id,response:{attestationObject:ua(new Uint8Array(l.response.attestationObject)),clientDataJSON:ua(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Lb(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l,o=l.getClientExtensionResults(),d=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:ua(new Uint8Array(d.authenticatorData)),clientDataJSON:ua(new Uint8Array(d.clientDataJSON)),signature:ua(new Uint8Array(d.signature)),userHandle:d.userHandle?ua(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function _g(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Vm(){var l,a;return!!(Xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Bb(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new lr("Browser returned unexpected credential type",a)}:{data:null,error:new lr("Empty credential response",a)}}catch(a){return{data:null,error:kb({error:a,options:l})}}}async function qb(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new lr("Browser returned unexpected credential type",a)}:{data:null,error:new lr("Empty credential response",a)}}catch(a){return{data:null,error:Cb({error:a,options:l})}}}const Hb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$b={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function rr(...l){const a=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),r=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),o={};for(const d of l)if(d)for(const h in d){const f=d[h];if(f!==void 0)if(Array.isArray(f))o[h]=f;else if(r(f))o[h]=f;else if(a(f)){const g=o[h];a(g)?o[h]=rr(g,f):o[h]=rr(f)}else o[h]=f}return o}function Gb(l,a){return rr(Hb,l,a||{})}function Vb(l,a){return rr($b,l,a||{})}class Kb{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:o,signal:d},h){var f;try{const{data:g,error:v}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!g)return{data:null,error:v};const y=d??Ub.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:j}=g.webauthn.credential_options.publicKey;if(!j.name){const b=o;if(b)j.name=`${j.id}:${b}`;else{const O=(await this.client.getUser()).data.user,D=((f=O?.user_metadata)===null||f===void 0?void 0:f.name)||O?.email||O?.id||"User";j.name=`${j.id}:${D}`}}j.displayName||(j.displayName=j.name)}switch(g.webauthn.type){case"create":{const j=Gb(g.webauthn.credential_options.publicKey,h?.create),{data:b,error:T}=await Bb({publicKey:j,signal:y});return b?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:b}},error:null}:{data:null,error:T}}case"request":{const j=Vb(g.webauthn.credential_options.publicKey,h?.request),{data:b,error:T}=await qb(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:j,signal:y}));return b?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:b}},error:null}:{data:null,error:T}}}}catch(g){return K(g)?{data:null,error:g}:{data:null,error:new ca("Unexpected error in challenge",g)}}}async _verify({challengeId:a,factorId:r,webauthn:o}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:o})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!r)return{data:null,error:new vn("rpId is required for WebAuthn authentication")};try{if(!Vm())return{data:null,error:new ca("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:o},signal:d},{request:h});if(!f)return{data:null,error:g};const{webauthn:v}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:v.type,rpId:r,rpOrigins:o,credential_response:v.credential_response}})}catch(f){return K(f)?{data:null,error:f}:{data:null,error:new ca("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!r)return{data:null,error:new vn("rpId is required for WebAuthn registration")};try{if(!Vm())return{data:null,error:new ca("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(j=>{var b;return(b=j.data)===null||b===void 0?void 0:b.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===a&&T.status!=="unverified")}).then(j=>j?this.client.mfa.unenroll({factorId:j?.id}):void 0),{data:null,error:g};const{data:v,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:o},signal:d},{create:h});return v?this._verify({factorId:f.id,challengeId:v.challengeId,webauthn:{rpId:r,rpOrigins:o,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:y}}catch(f){return K(f)?{data:null,error:f}:{data:null,error:new ca("Unexpected error in register",f)}}}}Eb();const Yb={url:$x,storageKey:Gx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Km(l,a,r){return await r()}const si={};class yn{get jwks(){var a,r;return(r=(a=si[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=si[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{cachedAt:a})}constructor(a){var r,o,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},Yb),a);if(this.storageKey=h.storageKey,this.instanceID=(r=yn.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,yn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&Xe()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new _b({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=bg(h.fetch),this.lock=h.lock||Km,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&Xe()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=Sb:this.lock=Km,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:xg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(g){this._debug("#broadcastChannel","error",g)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},o="none";if(Xe()&&(r=ab(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),Xe()&&this.detectSessionInUrl&&o!=="none"){const{data:d,error:h}=await this._getSessionFromURL(r,o);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Xx(h)){const v=(a=h.details)===null||a===void 0?void 0:a.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:g}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?this._returnResult({error:r}):this._returnResult({error:new ca("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,o,d;try{const h=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(d=a?.options)===null||d===void 0?void 0:d.captchaToken}},xform:Ct}),{data:f,error:g}=h;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const v=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:y,session:v},error:null})}catch(h){if(K(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(a){var r,o,d;try{let h;if("email"in a){const{email:j,password:b,options:T}=a;let O=null,D=null;this.flowType==="pkce"&&([O,D]=await Fa(this.storage,this.storageKey)),h=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:j,password:b,data:(r=T?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:O,code_challenge_method:D},xform:Ct})}else if("phone"in a){const{phone:j,password:b,options:T}=a;h=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:j,password:b,data:(o=T?.data)!==null&&o!==void 0?o:{},channel:(d=T?.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:Ct})}else throw new Jl("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return await Qe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const v=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:y,session:v},error:null})}catch(h){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),K(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(a){try{let r;if("email"in a){const{email:h,password:f,options:g}=a;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Hm})}else if("phone"in a){const{phone:h,password:f,options:g}=a;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Hm})}else throw new Jl("You must provide either an email or phone number and a password");const{data:o,error:d}=r;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!o||!o.session||!o.user){const h=new Wa;return this._returnResult({data:{user:null,session:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:d})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,o,d,h;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=a.options)===null||o===void 0?void 0:o.scopes,queryParams:(d=a.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=a.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,o,d,h,f,g,v,y,j,b,T;let O,D;if("message"in a)O=a.message,D=a.signature;else{const{chain:M,wallet:L,statement:H,options:V}=a;let z;if(Xe())if(typeof L=="object")z=L;else{const Je=window;if("ethereum"in Je&&typeof Je.ethereum=="object"&&"request"in Je.ethereum&&typeof Je.ethereum.request=="function")z=Je.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=L}const J=new URL((r=V?.url)!==null&&r!==void 0?r:window.location.href),ve=await z.request({method:"eth_requestAccounts"}).then(Je=>Je).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ve||ve.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=jg(ve[0]);let ce=(o=V?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ce){const Je=await z.request({method:"eth_chainId"});ce=Tb(Je)}const Ce={domain:J.host,address:F,statement:H,uri:J.href,version:"1",chainId:ce,nonce:(d=V?.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(h=V?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=V?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(v=V?.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(y=V?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(j=V?.signInWithEthereum)===null||j===void 0?void 0:j.resources};O=Ob(Ce),D=await z.request({method:"personal_sign",params:[Ab(O),F]})}try{const{data:M,error:L}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:D},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Ct});if(L)throw L;if(!M||!M.session||!M.user){const H=new Wa;return this._returnResult({data:{user:null,session:null},error:H})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:L})}catch(M){if(K(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async signInWithSolana(a){var r,o,d,h,f,g,v,y,j,b,T,O;let D,M;if("message"in a)D=a.message,M=a.signature;else{const{chain:L,wallet:H,statement:V,options:z}=a;let J;if(Xe())if(typeof H=="object")J=H;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))J=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=H}const ve=new URL((r=z?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in J&&J.signIn){const F=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:ve.host,uri:ve.href}),V?{statement:V}:null));let ce;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")ce=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)ce=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)D=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),M=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");D=[`${ve.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${ve.href}`,`Issued At: ${(d=(o=z?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((h=z?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((v=z?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((y=z?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((b=(j=z?.signInWithSolana)===null||j===void 0?void 0:j.resources)===null||b===void 0)&&b.length?["Resources",...z.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const F=await J.signMessage(new TextEncoder().encode(D),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=F}}try{const{data:L,error:H}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:D,signature:ua(M)},!((T=a.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(O=a.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Ct});if(H)throw H;if(!L||!L.session||!L.user){const V=new Wa;return this._returnResult({data:{user:null,session:null},error:V})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:H})}catch(L){if(K(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async _exchangeCodeForSession(a){const r=await la(this.storage,`${this.storageKey}-code-verifier`),[o,d]=(r??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Jx;const{data:h,error:f}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:o},xform:Ct});if(await Qe(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const g=new Wa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:d??null}),error:f})}catch(h){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),K(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(a){try{const{options:r,provider:o,token:d,access_token:h,nonce:f}=a,g=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:d,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ct}),{data:v,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!v||!v.session||!v.user){const j=new Wa;return this._returnResult({data:{user:null,session:null},error:j})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:y})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,o,d,h,f;try{if("email"in a){const{email:g,options:v}=a;let y=null,j=null;this.flowType==="pkce"&&([y,j]=await Fa(this.storage,this.storageKey));const{error:b}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=v?.data)!==null&&r!==void 0?r:{},create_user:(o=v?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:j},redirectTo:v?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in a){const{phone:g,options:v}=a,{data:y,error:j}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(d=v?.data)!==null&&d!==void 0?d:{},create_user:(h=v?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(f=v?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:j})}throw new Jl("You must provide either an email or phone number.")}catch(g){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),K(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var r,o;try{let d,h;"options"in a&&(d=(r=a.options)===null||r===void 0?void 0:r.redirectTo,h=(o=a.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:g}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:Ct});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const v=f.session,y=f.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:y,session:v},error:null})}catch(d){if(K(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(a){var r,o,d,h,f;try{let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Fa(this.storage,this.storageKey));const y=await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(o=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((d=a?.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:v}),headers:this.headers,xform:bb});return!((h=y.data)===null||h===void 0)&&h.url&&Xe()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),K(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:o}=a;if(o)throw o;if(!r)throw new gt;const{error:d}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(a){if(K(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:o,type:d,options:h}=a,{error:f}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:o,type:d,options:h}=a,{data:f,error:g}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:d,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new Jl("You must provide either an email or phone number and a type")}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await la(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const o=a.expires_at?a.expires_at*1e3-Date.now()<$c:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",a.expires_at),!o){if(this.userStorage){const f=await la(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=Kc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=pb(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:d,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Us}):await this._useSession(async r=>{var o,d,h;const{data:f,error:g}=r;if(g)throw g;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0,xform:Us})})}catch(r){if(K(r))return Gc(r)&&(await this._removeSession(),await Qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async o=>{const{data:d,error:h}=o;if(h)throw h;if(!d.session)throw new gt;const f=d.session;let g=null,v=null;this.flowType==="pkce"&&a.email!=null&&([g,v]=await Fa(this.storage,this.storageKey));const{data:y,error:j}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:v}),jwt:f.access_token,xform:Us});if(j)throw j;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(o){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),K(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new gt;const r=Date.now()/1e3;let o=r,d=!0,h=null;const{payload:f}=Zl(a.access_token);if(f.exp&&(o=f.exp,d=o<=r),d){const{data:g,error:v}=await this._callRefreshToken(a.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:v}=await this._getUser(a.access_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});h={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(K(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var o;if(!a){const{data:f,error:g}=r;if(g)throw g;a=(o=f.session)!==null&&o!==void 0?o:void 0}if(!a?.refresh_token)throw new gt;const{data:d,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!Xe())throw new Pl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Pl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Um("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Um("No code detected.");const{data:V,error:z}=await this._exchangeCodeForSession(a.code);if(z)throw z;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:d,access_token:h,refresh_token:f,expires_in:g,expires_at:v,token_type:y}=a;if(!h||!g||!f||!y)throw new Pl("No session defined in URL");const j=Math.round(Date.now()/1e3),b=parseInt(g);let T=j+b;v&&(T=parseInt(v));const O=T-j;O*1e3<=ii&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${b}s`);const D=T-b;j-D>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",D,T,j):j-D<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",D,T,j);const{data:M,error:L}=await this._getUser(h);if(L)throw L;const H={provider_token:o,provider_refresh_token:d,access_token:h,expires_in:b,expires_at:T,refresh_token:f,token_type:y,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:a.type},error:null})}catch(o){if(K(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await la(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:d,error:h}=r;if(h&&!Gc(h))return this._returnResult({error:h});const f=(o=d.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:g}=await this.admin.signOut(f,a);if(g&&!(Qx(g)&&(g.status===404||g.status===401||g.status===403)||Gc(g)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await Qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=sb(),o={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(a){return await this._useSession(async r=>{var o,d;try{const{data:{session:h},error:f}=r;if(f)throw f;await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",a,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(a))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",h),console.error(h)}})}async resetPasswordForEmail(a,r={}){let o=null,d=null;this.flowType==="pkce"&&([o,d]=await Fa(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:o,code_challenge_method:d,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),K(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var a;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:o,error:d}=await this._useSession(async h=>{var f,g,v,y,j;const{data:b,error:T}=h;if(T)throw T;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(v=a.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",O,{headers:this.headers,jwt:(j=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&j!==void 0?j:void 0})});if(d)throw d;return Xe()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:a.provider,url:o?.url},error:null})}catch(o){if(K(o))return this._returnResult({data:{provider:a.provider,url:null},error:o});throw o}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var o;try{const{error:d,data:{session:h}}=r;if(d)throw d;const{options:f,provider:g,token:v,access_token:y,nonce:j}=a,b=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=h?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:g,id_token:v,access_token:y,nonce:j,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ct}),{data:T,error:O}=b;return O?this._returnResult({data:{user:null,session:null},error:O}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new Wa}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:O}))}catch(d){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),K(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var o,d;const{data:h,error:f}=r;if(f)throw f;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(d=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await lb(async d=>(d>0&&await nb(200*Math.pow(2,d-1)),this._debug(r,"refreshing attempt",d),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Ct})),(d,h)=>{const f=200*Math.pow(2,d);return h&&Vc(h)&&Date.now()+f-o<ii})}catch(o){if(this._debug(r,"error",o),K(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",o),Xe()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:a,url:o},error:null}}async _recoverAndRefresh(){var a,r;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const d=await la(this.storage,this.storageKey);if(d&&this.userStorage){let f=await la(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await ni(this.userStorage,this.storageKey+"-user",f)),d.user=(a=f?.user)!==null&&a!==void 0?a:Kc()}else if(d&&!d.user&&!d.user){const f=await la(this.storage,this.storageKey+"-user");f&&f?.user?(d.user=f.user,await Qe(this.storage,this.storageKey+"-user"),await ni(this.storage,this.storageKey,d)):d.user=Kc()}if(this._debug(o,"session from storage",d),!this._isValidSession(d)){this._debug(o,"session is not valid"),d!==null&&await this._removeSession();return}const h=((r=d.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$c;if(this._debug(o,`session has${h?"":" not"} expired with margin of ${$c}s`),h){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),Vc(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(d.access_token);!g&&f?.user?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(o,"error",d),console.error(d);return}finally{this._debug(o,"end")}}async _callRefreshToken(a){var r,o;if(!a)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new mr;const{data:h,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!h.session)throw new gt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(d,"error",h),K(h)){const f={data:null,error:h};return Vc(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,r,o=!0){const d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:a,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,r)}catch(v){h.push(v)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await Qe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await ni(this.userStorage,this.storageKey+"-user",{user:r.user});const d=Object.assign({},r);delete d.user;const h=Bm(d);await ni(this.storage,this.storageKey,h)}else{const d=Bm(r);await ni(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qe(this.storage,this.storageKey),await Qe(this.storage,this.storageKey+"-code-verifier"),await Qe(this.storage,this.storageKey+"-user"),this.userStorage&&await Qe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Xe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),ii);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((o.expires_at*1e3-a)/ii);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${ii}ms, refresh threshold is ${nu} ticks`),d<=nu&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof wg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,o){const d=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&d.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&d.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[h,f]=await Fa(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(g.toString())}if(o?.queryParams){const h=new URLSearchParams(o.queryParams);d.push(h.toString())}return o?.skipBrowserRedirect&&d.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var o;const{data:d,error:h}=r;return h?this._returnResult({data:null,error:h}):await Q(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var o,d;const{data:h,error:f}=r;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:v,error:y}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(o=h?.session)===null||o===void 0?void 0:o.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&v.type==="totp"&&(!((d=v?.totp)===null||d===void 0)&&d.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var o;const{data:d,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?zb(a.webauthn.credential_response):Lb(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:v}=await Q(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:v}))})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var o;const{data:d,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=await Q(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Db(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Mb(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:o}=await this._challenge({factorId:a.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const d={all:[],phone:[],totp:[],webauthn:[]};for(const h of(a=r?.factors)!==null&&a!==void 0?a:[])d.all.push(h),h.status==="verified"&&d[h.factor_type].push(h);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(a){var r,o,d,h;if(a)try{const{payload:O}=Zl(a);let D=null;O.aal&&(D=O.aal);let M=D;const{data:{user:L},error:H}=await this.getUser(a);if(H)return this._returnResult({data:null,error:H});((o=(r=L?.factors)===null||r===void 0?void 0:r.filter(J=>J.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(M="aal2");const z=O.amr||[];return{data:{currentLevel:D,nextLevel:M,currentAuthenticationMethods:z},error:null}}catch(O){if(K(O))return this._returnResult({data:null,error:O});throw O}const{data:{session:f},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:v}=Zl(f.access_token);let y=null;v.aal&&(y=v.aal);let j=y;((h=(d=f.user.factors)===null||d===void 0?void 0:d.filter(O=>O.status==="verified"))!==null&&h!==void 0?h:[]).length>0&&(j="aal2");const T=v.amr||[];return{data:{currentLevel:y,nextLevel:j,currentAuthenticationMethods:T},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:o},error:d}=r;return d?this._returnResult({data:null,error:d}):o?await Q(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:o.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new gt})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async o=>{const{data:{session:d},error:h}=o;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new gt});const f=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&Xe()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(o){if(K(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(a,r){try{return await this._useSession(async o=>{const{data:{session:d},error:h}=o;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new gt});const f=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&Xe()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(o){if(K(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:o}=a;return o?this._returnResult({data:null,error:o}):r?await Q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new gt})})}catch(a){if(K(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:o},error:d}=r;return d?this._returnResult({data:null,error:d}):o?(await Q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gt})})}catch(r){if(K(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let o=r.keys.find(g=>g.kid===a);if(o)return o;const d=Date.now();if(o=this.jwks.keys.find(g=>g.kid===a),o&&this.jwks_cached_at+Yx>d)return o;const{data:h,error:f}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=d,o=h.keys.find(g=>g.kid===a),!o)?null:o}async getClaims(a,r={}){try{let o=a;if(!o){const{data:O,error:D}=await this.getSession();if(D||!O.session)return this._returnResult({data:null,error:D});o=O.session.access_token}const{header:d,payload:h,signature:f,raw:{header:g,payload:v}}=Zl(o);r?.allowExpired||fb(h.exp);const y=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!y){const{error:O}=await this.getUser(o);if(O)throw O;return{data:{claims:h,header:d,signature:f},error:null}}const j=mb(d.alg),b=await crypto.subtle.importKey("jwk",y,j,!0,["verify"]);if(!await crypto.subtle.verify(j,b,f,eb(`${g}.${v}`)))throw new ou("Invalid JWT signature");return{data:{claims:h,header:d,signature:f},error:null}}catch(o){if(K(o))return this._returnResult({data:null,error:o});throw o}}}yn.nextInstanceID={};const Ib=yn,Qb="2.93.3";let un="";typeof Deno<"u"?un="deno":typeof document<"u"?un="web":typeof navigator<"u"&&navigator.product==="ReactNative"?un="react-native":un="node";const Xb={"X-Client-Info":`supabase-js-${un}/${Qb}`},Jb={headers:Xb},Pb={schema:"public"},Zb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wb={};function xn(l){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},xn(l)}function Fb(l,a){if(xn(l)!="object"||!l)return l;var r=l[Symbol.toPrimitive];if(r!==void 0){var o=r.call(l,a);if(xn(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function e0(l){var a=Fb(l,"string");return xn(a)=="symbol"?a:a+""}function t0(l,a,r){return(a=e0(a))in l?Object.defineProperty(l,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):l[a]=r,l}function Ym(l,a){var r=Object.keys(l);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);a&&(o=o.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),r.push.apply(r,o)}return r}function Ae(l){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Ym(Object(r),!0).forEach(function(o){t0(l,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(r)):Ym(Object(r)).forEach(function(o){Object.defineProperty(l,o,Object.getOwnPropertyDescriptor(r,o))})}return l}const s0=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),a0=()=>Headers,i0=(l,a,r)=>{const o=s0(r),d=a0();return async(h,f)=>{var g;const v=(g=await a())!==null&&g!==void 0?g:l;let y=new d(f?.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),o(h,Ae(Ae({},f),{},{headers:y}))}};function n0(l){return l.endsWith("/")?l:l+"/"}function l0(l,a){var r,o;const{db:d,auth:h,realtime:f,global:g}=l,{db:v,auth:y,realtime:j,global:b}=a,T={db:Ae(Ae({},v),d),auth:Ae(Ae({},y),h),realtime:Ae(Ae({},j),f),storage:{},global:Ae(Ae(Ae({},b),g),{},{headers:Ae(Ae({},(r=b?.headers)!==null&&r!==void 0?r:{}),(o=g?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return l.accessToken?T.accessToken=l.accessToken:delete T.accessToken,T}function r0(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n0(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var o0=class extends Ib{constructor(l){super(l)}},c0=class{constructor(l,a,r){var o,d;this.supabaseUrl=l,this.supabaseKey=a;const h=r0(l);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:Pb,realtime:Wb,auth:Ae(Ae({},Zb),{},{storageKey:f}),global:Jb},v=l0(r??{},g);if(this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(d=v.global.headers)!==null&&d!==void 0?d:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(j,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=v.auth)!==null&&y!==void 0?y:{},this.headers,v.global.fetch)}this.fetch=i0(a,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Ae({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(j=>this.realtime.setAuth(j)).catch(j=>console.warn("Failed to set initial Realtime auth token:",j)),this.rest=new Qy(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Hx(this.storageUrl.href,this.headers,this.fetch,r?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Gy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,a,r)}channel(l,a={config:{}}){return this.realtime.channel(l,a)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,a,r;if(l.accessToken)return await l.accessToken();const{data:o}=await l.auth.getSession();return(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:a,detectSessionInUrl:r,storage:o,userStorage:d,storageKey:h,flowType:f,lock:g,debug:v,throwOnError:y},j,b){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new o0({url:this.authUrl.href,headers:Ae(Ae({},T),j),storageKey:h,autoRefreshToken:l,persistSession:a,detectSessionInUrl:r,storage:o,userStorage:d,flowType:f,lock:g,debug:v,throwOnError:y,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new ux(this.realtimeUrl.href,Ae(Ae({},l),{},{params:Ae(Ae({},{apikey:this.supabaseKey}),l?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,a)=>{this._handleTokenChanged(l,"CLIENT",a?.access_token)})}_handleTokenChanged(l,a,r){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const u0=(l,a,r)=>new c0(l,a,r);function d0(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const a=l.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}d0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const h0="",f0="",_n=u0(h0,f0,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});async function Ng(){const{data:{user:l},error:a}=await _n.auth.getUser();if(a)throw a;return l}async function Bs(){const l=await Ng();if(!l)return null;const{data:a,error:r}=await _n.from("profiles").select("*").eq("id",l.id).single();if(r)throw r;return a}async function m0(l,a){const{data:r,error:o}=await _n.auth.signInWithPassword({email:l,password:a});if(o)throw o;return r}async function g0(l){const{data:a,error:r}=await _n.auth.signInWithOtp({email:l,options:{emailRedirectTo:`${window.location.origin}/dashboard`}});if(r)throw r;return a}async function Sg(){const{error:l}=await _n.auth.signOut();if(l)throw l}const p0=()=>{const[l,a]=B.useState(!1),[r,o]=B.useState(!1),[d,h]=B.useState(null),f=rg();B.useEffect(()=>{const j=()=>{a(window.scrollY>50)};return window.addEventListener("scroll",j,{passive:!0}),Ng().then(h).catch(()=>h(null)),()=>window.removeEventListener("scroll",j)},[]);const g=[{label:"How It Works",href:"/#how-it-works"},{label:"City Guides",href:"/#city-guides"},{label:"Tools & Perks",href:"/#tools-perks"}],v=f.pathname==="/",y=async()=>{await Sg(),h(null),window.location.href="/"};return n.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${l||!v?"bg-charcoal/95 backdrop-blur-md border-b border-white/5":"bg-transparent"}`,children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[n.jsx(ia,{to:"/",className:"font-serif text-xl md:text-2xl tracking-wider text-ivory hover:text-gold transition-colors duration-300",children:"BROTHERS"}),n.jsx("div",{className:"hidden md:flex items-center space-x-8",children:v&&g.map(j=>n.jsx("a",{href:j.href,className:"text-sm tracking-widest uppercase text-ivory/80 hover:text-gold transition-colors duration-300",children:j.label},j.label))}),n.jsx("div",{className:"hidden md:flex items-center gap-4",children:d?n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ia,{to:"/dashboard",className:"flex items-center gap-2 text-ivory/80 hover:text-gold transition-colors",children:[n.jsx(Wm,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm",children:"Dashboard"})]}),n.jsx("button",{onClick:y,className:"text-sm text-ivory/60 hover:text-gold transition-colors",children:"Logout"})]}):n.jsxs(n.Fragment,{children:[n.jsx(ia,{to:"/login",className:"text-sm tracking-widest uppercase text-ivory/80 hover:text-gold transition-colors duration-300",children:"Login"}),n.jsx(ia,{to:"/join",className:"bg-gold text-charcoal px-6 py-2 rounded text-sm font-medium tracking-wider uppercase transition-all duration-300 hover:shadow-gold hover:-translate-y-0.5",children:"Apply"})]})}),n.jsx("button",{className:"md:hidden text-ivory p-2",onClick:()=>o(!r),children:r?n.jsx(cy,{size:24}):n.jsx(uy,{size:24})})]})}),n.jsx("div",{className:`md:hidden absolute top-full left-0 right-0 bg-charcoal/98 backdrop-blur-md border-b border-white/5 transition-all duration-300 ${r?"opacity-100 translate-y-0":"opacity-0 -translate-y-4 pointer-events-none"}`,children:n.jsxs("div",{className:"px-4 py-6 space-y-4",children:[v&&g.map(j=>n.jsx("a",{href:j.href,className:"block text-sm tracking-widest uppercase text-ivory/80 hover:text-gold transition-colors duration-300 py-2",onClick:()=>o(!1),children:j.label},j.label)),d?n.jsxs(n.Fragment,{children:[n.jsx(ia,{to:"/dashboard",className:"block text-sm tracking-widest uppercase text-ivory/80 hover:text-gold transition-colors duration-300 py-2",onClick:()=>o(!1),children:"Dashboard"}),n.jsx("button",{onClick:()=>{y(),o(!1)},className:"block text-sm tracking-widest uppercase text-ivory/60 hover:text-gold transition-colors duration-300 py-2",children:"Logout"})]}):n.jsxs(n.Fragment,{children:[n.jsx(ia,{to:"/login",className:"block text-sm tracking-widest uppercase text-ivory/80 hover:text-gold transition-colors duration-300 py-2",onClick:()=>o(!1),children:"Login"}),n.jsx(ia,{to:"/join",className:"block w-full bg-gold text-charcoal px-6 py-3 rounded text-sm font-medium tracking-wider uppercase mt-4 text-center",onClick:()=>o(!1),children:"Apply"})]})]})})]})},v0=[{icon:n.jsx(dy,{className:"w-5 h-5"}),href:"#",label:"Facebook"},{icon:n.jsx(hy,{className:"w-5 h-5"}),href:"#",label:"Twitter"},{icon:n.jsx(fy,{className:"w-5 h-5"}),href:"#",label:"Instagram"},{icon:n.jsx(uu,{className:"w-5 h-5"}),href:"#",label:"Email"}],y0=[{label:"Privacy",href:"#"},{label:"Affiliates",href:"#"},{label:"Contact Us",href:"#"}],x0=()=>n.jsx("footer",{className:"relative py-12 md:py-16 bg-charcoal-light border-t border-white/5",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[n.jsx("div",{className:"flex items-center gap-4",children:v0.map(l=>n.jsx("a",{href:l.href,className:"w-10 h-10 rounded-full border border-gold/40 flex items-center justify-center text-gold/70 hover:text-gold hover:border-gold hover:bg-gold/10 transition-all duration-300","aria-label":l.label,children:l.icon},l.label))}),n.jsx("div",{className:"text-ivory/50 text-sm tracking-widest uppercase",children:" BROTHERS"}),n.jsx("div",{className:"flex items-center gap-6",children:y0.map(l=>n.jsx("a",{href:l.href,className:"text-ivory/60 text-sm tracking-wider uppercase hover:text-gold transition-colors duration-300",children:l.label},l.label))})]}),n.jsx("div",{className:"mt-12 pt-8 border-t border-white/5",children:n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-24 h-px bg-gradient-to-r from-transparent via-gold/30 to-transparent"})})})]})}),b0=()=>{const l=B.useRef(null),a=B.useRef(null);B.useEffect(()=>{const o=()=>{if(a.current){const h=window.scrollY*.4;a.current.style.transform=`translateY(${h}px) scale(1.1)`}};return window.addEventListener("scroll",o,{passive:!0}),()=>window.removeEventListener("scroll",o)},[]);const r=o=>{const d=document.querySelector(o);d&&d.scrollIntoView({behavior:"smooth"})};return n.jsxs("section",{ref:l,className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{ref:a,className:"absolute inset-0 w-full h-full transition-transform duration-100",style:{transform:"scale(1.1)"},children:[n.jsx("img",{src:"/hero-bg.jpg",alt:"Global night map",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-charcoal/60 via-charcoal/40 to-charcoal"}),n.jsx("div",{className:"absolute inset-0 bg-radial-gradient pointer-events-none",style:{background:"radial-gradient(ellipse at center, transparent 0%, rgba(15,15,15,0.4) 100%)"}})]}),n.jsx("div",{className:"absolute top-20 left-10 opacity-10 pointer-events-none hidden lg:block",children:n.jsx("div",{className:"w-32 h-32 rounded-full border-2 border-gold/30 flex items-center justify-center rotate-12",children:n.jsxs("span",{className:"text-gold/40 text-xs tracking-widest uppercase text-center leading-tight",children:["Bangkok",n.jsx("br",{}),"Thailand"]})})}),n.jsx("div",{className:"absolute bottom-40 right-20 opacity-10 pointer-events-none hidden lg:block",children:n.jsx("div",{className:"w-28 h-28 rounded-full border-2 border-gold/30 flex items-center justify-center -rotate-12",children:n.jsxs("span",{className:"text-gold/40 text-xs tracking-widest uppercase text-center leading-tight",children:["Approved",n.jsx("br",{}),"2024"]})})}),n.jsxs("div",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto pt-20",children:[n.jsxs("h1",{className:"font-serif text-5xl sm:text-6xl md:text-7xl lg:text-8xl text-ivory mb-4 md:mb-6 animate-fade-in",children:[n.jsx("span",{className:"block",children:"Brothers"}),n.jsx("span",{className:"block text-4xl sm:text-5xl md:text-6xl lg:text-7xl mt-2",children:"of the"}),n.jsx("span",{className:"block mt-2",children:"Passport"})]}),n.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-ivory/80 font-light tracking-wide mb-8 md:mb-12 animate-fade-in",style:{animationDelay:"0.2s"},children:"Global leverage. Location freedom. Brotherhood."}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-6 animate-fade-in-up",style:{animationDelay:"0.4s"},children:[n.jsx("button",{onClick:()=>r("#membership"),className:"bg-gold text-charcoal px-8 py-4 rounded text-sm font-medium tracking-widest uppercase transition-all duration-300 hover:shadow-gold-lg hover:-translate-y-1 w-full sm:w-auto",children:"Apply for Access"}),n.jsx("button",{onClick:()=>r("#how-it-works"),className:"border border-gold text-gold px-8 py-4 rounded text-sm font-medium tracking-widest uppercase transition-all duration-300 hover:bg-gold/10 hover:shadow-gold w-full sm:w-auto",children:"See How It Works"})]})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-charcoal to-transparent pointer-events-none"})]})},Im=[{number:"1",icon:n.jsx(du,{className:"w-8 h-8"}),title:"LEARN",description:"Get country guides and actionable strategies."},{number:"2",icon:n.jsx(oi,{className:"w-8 h-8"}),title:"TRAVEL",description:"Leverage points and exclusive travel perks."},{number:"3",icon:n.jsx(Fm,{className:"w-8 h-8"}),title:"BUILD",description:"Unlock new income streams and opportunities."}],w0=()=>{const l=B.useRef(null),[a,r]=B.useState(!1);return B.useEffect(()=>{const o=new IntersectionObserver(([d])=>{d.isIntersecting&&(r(!0),o.disconnect())},{threshold:.2});return l.current&&o.observe(l.current),()=>o.disconnect()},[]),n.jsxs("section",{id:"how-it-works",ref:l,className:"relative py-20 md:py-32 bg-charcoal",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gold/50 to-transparent"}),n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:`text-center mb-16 md:mb-20 transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[n.jsx("h2",{className:"font-serif text-3xl md:text-4xl lg:text-5xl text-ivory tracking-widest uppercase",children:"How It Works"}),n.jsx("div",{className:"gold-divider mt-6"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-0",children:Im.map((o,d)=>n.jsxs("div",{className:`relative transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${d*150}ms`},children:[d<Im.length-1&&n.jsx("div",{className:"hidden md:block absolute top-1/2 right-0 w-px h-24 bg-gradient-to-b from-transparent via-gold/40 to-transparent transform -translate-y-1/2"}),n.jsxs("div",{className:"text-center px-6 md:px-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full border border-gold/50 text-gold text-sm font-medium mb-6",children:o.number}),n.jsx("div",{className:"text-gold mb-4 flex justify-center",children:o.icon}),n.jsx("h3",{className:"font-serif text-xl md:text-2xl text-ivory tracking-wider mb-3",children:o.title}),n.jsx("p",{className:"text-ivory/60 text-sm md:text-base leading-relaxed",children:o.description})]})]},o.number))})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gold/50 to-transparent"})]})},j0=[{icon:n.jsx(Ds,{className:"w-6 h-6"}),title:"Private Community",description:"Join an invite-only network of driven men."},{icon:n.jsx(ui,{className:"w-6 h-6"}),title:"Country Guides",description:"Exclusive, detailed assessments of each country."},{icon:n.jsx(my,{className:"w-6 h-6"}),title:"Verified Resources",description:"Access vetted professionals, lawyers, tax advisors."},{icon:n.jsx(oi,{className:"w-6 h-6"}),title:"Deals & Booking Perks",description:"Save on flights, stays, insurance, and more."},{icon:n.jsx(eg,{className:"w-6 h-6"}),title:"Automation Tools",description:"Streamline setting up a nomadic life."},{icon:n.jsx(gy,{className:"w-6 h-6"}),title:"BOOK TRAVEL",description:"",isCTA:!0}],_0=()=>{const l=B.useRef(null),[a,r]=B.useState(!1);return B.useEffect(()=>{const o=new IntersectionObserver(([d])=>{d.isIntersecting&&(r(!0),o.disconnect())},{threshold:.15});return l.current&&o.observe(l.current),()=>o.disconnect()},[]),n.jsx("section",{id:"tools-perks",ref:l,className:"relative py-20 md:py-32 bg-charcoal",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:`text-center mb-16 md:mb-20 transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[n.jsx("h2",{className:"font-serif text-3xl md:text-4xl lg:text-5xl text-ivory tracking-widest uppercase",children:"What Members Get"}),n.jsx("div",{className:"gold-divider mt-6"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:j0.map((o,d)=>n.jsx("div",{className:`transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${d*100}ms`},children:o.isCTA?n.jsxs("div",{className:"card-dark p-6 md:p-8 h-full flex flex-col items-center justify-center text-center border-gold/30 hover:border-gold/60 transition-all duration-300 group",children:[n.jsx("div",{className:"text-gold mb-4 group-hover:scale-110 transition-transform duration-300",children:o.icon}),n.jsx("button",{className:"border border-gold text-gold px-6 py-3 rounded text-sm font-medium tracking-wider uppercase transition-all duration-300 hover:bg-gold hover:text-charcoal",children:o.title})]}):n.jsxs("div",{className:"card-dark p-6 md:p-8 h-full border-transparent hover:border-gold/30 transition-all duration-300 group",children:[n.jsx("div",{className:"text-gold mb-4 group-hover:scale-110 transition-transform duration-300",children:o.icon}),n.jsx("h3",{className:"font-serif text-lg md:text-xl text-ivory tracking-wide mb-2",children:o.title}),n.jsx("p",{className:"text-ivory/60 text-sm leading-relaxed",children:o.description})]})},o.title))})]})})},N0=[{value:"+80",label:"COUNTRIES",sublabel:"WORLDWIDE"},{value:"+2,000",label:"MEMBERS",sublabel:"WORLDWIDE"},{value:"$1M+",label:"SAVED ON",sublabel:"TRAVEL"}],S0=()=>{const l=B.useRef(null),[a,r]=B.useState(!1);return B.useEffect(()=>{const o=new IntersectionObserver(([d])=>{d.isIntersecting&&(r(!0),o.disconnect())},{threshold:.3});return l.current&&o.observe(l.current),()=>o.disconnect()},[]),n.jsxs("section",{ref:l,className:"relative py-16 md:py-24 bg-charcoal-light",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gold/40 to-transparent"}),n.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex flex-col md:flex-row items-center justify-center gap-12 md:gap-16 lg:gap-24",children:N0.map((o,d)=>n.jsxs("div",{className:`text-center transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${d*150}ms`},children:[n.jsx("div",{className:"font-serif text-5xl md:text-6xl lg:text-7xl text-gold animate-glow-pulse mb-2",children:o.value}),n.jsx("div",{className:"text-ivory/70 text-xs md:text-sm tracking-widest uppercase",children:o.label}),o.sublabel&&n.jsx("div",{className:"text-ivory/50 text-xs tracking-widest uppercase mt-0.5",children:o.sublabel})]},o.label))})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gold/40 to-transparent"})]})},E0=[{name:"PLUS",price:"$49",period:"/month",description:"Starter Membership",features:["Country Guides Access","Community Forum","Monthly Newsletter","Basic Perks"],cta:"GET STARTED"},{name:"ELITE",price:"$99",period:"/month",description:"VIP Membership",features:["Everything in Plus","Priority Support","Exclusive Deals","1-on-1 Consultation","VIP Events Access"],cta:"APPLY NOW",highlighted:!0}],T0=[{name:"Emirates",width:"w-20"},{name:"Air France",width:"w-20"},{name:"Qatar",width:"w-16"}],A0=()=>{const l=B.useRef(null),[a,r]=B.useState(!1);return B.useEffect(()=>{const o=new IntersectionObserver(([d])=>{d.isIntersecting&&(r(!0),o.disconnect())},{threshold:.15});return l.current&&o.observe(l.current),()=>o.disconnect()},[]),n.jsx("section",{id:"membership",ref:l,className:"relative py-20 md:py-32 bg-charcoal",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:`text-center mb-16 md:mb-20 transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[n.jsx("h2",{className:"font-serif text-3xl md:text-4xl lg:text-5xl text-ivory tracking-widest uppercase",children:"Become a Member"}),n.jsx("div",{className:"gold-divider mt-6"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12",children:[n.jsx("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:E0.map((o,d)=>n.jsx("div",{className:`transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:`${d*150}ms`},children:n.jsxs("div",{className:`card-dark p-6 md:p-8 h-full flex flex-col ${o.highlighted?"border-gold/50 shadow-gold/20":"border-transparent"} hover:border-gold/40 transition-all duration-300`,children:[n.jsx("h3",{className:"font-serif text-2xl md:text-3xl text-ivory tracking-wider mb-2",children:o.name}),n.jsxs("div",{className:"flex items-baseline mb-4",children:[n.jsx("span",{className:"font-serif text-4xl md:text-5xl text-gold",children:o.price}),n.jsx("span",{className:"text-ivory/60 text-sm ml-1",children:o.period})]}),n.jsx("p",{className:"text-ivory/70 text-sm mb-6",children:o.description}),n.jsx("ul",{className:"space-y-3 mb-8 flex-grow",children:o.features.map(h=>n.jsxs("li",{className:"flex items-start text-sm text-ivory/80",children:[n.jsx(zs,{className:"w-4 h-4 text-gold mr-3 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:h})]},h))}),n.jsx("button",{className:`w-full py-3 rounded text-sm font-medium tracking-wider uppercase transition-all duration-300 ${o.highlighted?"bg-gold text-charcoal hover:shadow-gold hover:-translate-y-0.5":"border border-gold text-gold hover:bg-gold/10"}`,children:o.cta})]})},o.name))}),n.jsx("div",{className:`transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:"300ms"},children:n.jsxs("div",{className:"card-dark p-6 md:p-8 h-full flex flex-col justify-center border-gold/20",children:[n.jsx("p",{className:"text-ivory text-lg md:text-xl font-medium mb-2",children:"Members save on flights, stays, visas."}),n.jsx("div",{className:"w-12 h-px bg-gold/50 my-4"}),n.jsx("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:T0.map(o=>n.jsx("div",{className:"text-ivory/40 text-xs tracking-widest uppercase",children:o.name},o.name))}),n.jsx("button",{className:"mt-6 border border-gold text-gold px-6 py-3 rounded text-sm font-medium tracking-wider uppercase transition-all duration-300 hover:bg-gold hover:text-charcoal w-full",children:"BOOK TRAVEL"})]})})]})]})})},O0=()=>n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-8",children:"Privacy Policy"}),n.jsxs("div",{className:"prose prose-invert max-w-none",children:[n.jsx("p",{className:"text-ivory/70 mb-8",children:"Last Updated: January 2025"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Introduction"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed",children:'Brothers of the Passport ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your information when you use our membership services.'})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Information We Collect"}),n.jsx("h3",{className:"text-gold text-lg mb-2",children:"Personal Information"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2 mb-4",children:[n.jsx("li",{children:"Name and email address"}),n.jsx("li",{children:"Billing information (processed securely by Stripe)"}),n.jsx("li",{children:"Country of interest and travel preferences"}),n.jsx("li",{children:"Communication history"})]}),n.jsx("h3",{className:"text-gold text-lg mb-2",children:"Usage Information"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"Login activity and access logs"}),n.jsx("li",{children:"Pages visited and features used"}),n.jsx("li",{children:"Affiliate link clicks (anonymized)"}),n.jsx("li",{children:"Device and browser information"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"How We Use Your Information"}),n.jsxs("ol",{className:"list-decimal list-inside text-ivory/80 space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Service Provision:"})," To provide membership services, content access, and community features"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Billing:"})," To process payments and manage subscriptions"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Communication:"})," To send updates, newsletters, and important notices"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Improvement:"})," To analyze usage and improve our services"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Legal Compliance:"})," To comply with applicable laws and regulations"]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Information Sharing"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed",children:"We do not sell your personal information. We share data only with:"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2 mt-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Stripe:"})," For payment processing"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Supabase:"})," For data storage"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Resend:"})," For email delivery"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Legal authorities:"})," When required by law"]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Data Security"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"All data encrypted in transit (HTTPS/TLS)"}),n.jsx("li",{children:"Database encrypted at rest"}),n.jsx("li",{children:"Regular security audits"}),n.jsx("li",{children:"Access controls and authentication"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Your Rights"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed mb-2",children:"You have the right to:"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"Access your personal data"}),n.jsx("li",{children:"Correct inaccurate information"}),n.jsx("li",{children:"Request deletion (subject to legal obligations)"}),n.jsx("li",{children:"Export your data"}),n.jsx("li",{children:"Unsubscribe from marketing emails"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Data Retention"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Active accounts:"})," Data retained while membership is active"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Canceled accounts:"})," Data retained for 1 year, then anonymized"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Financial records:"})," Retained for 7 years (legal requirement)"]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Contact"}),n.jsxs("p",{className:"text-ivory/80",children:["For privacy inquiries:"," ",n.jsx("a",{href:"mailto:privacy@brothersofthepassport.com",className:"text-gold hover:underline",children:"privacy@brothersofthepassport.com"})]})]})]})]})}),k0=()=>n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-8",children:"Terms of Service"}),n.jsxs("div",{className:"prose prose-invert max-w-none",children:[n.jsx("p",{className:"text-ivory/70 mb-8",children:"Last Updated: January 2025"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"1. Acceptance of Terms"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed",children:"By accessing or using Brothers of the Passport services, you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our services."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"2. Membership Eligibility"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"Must be 18 years or older"}),n.jsx("li",{children:"Must provide accurate information"}),n.jsx("li",{children:"Membership is non-transferable"}),n.jsx("li",{children:"We reserve the right to refuse service"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"3. Subscription Terms"}),n.jsx("h3",{className:"text-gold text-lg mb-2",children:"PLUS Membership ($49/month)"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2 mb-4",children:[n.jsx("li",{children:"Access to country guides"}),n.jsx("li",{children:"Community forum access"}),n.jsx("li",{children:"Monthly newsletter"}),n.jsx("li",{children:"Basic travel perks"})]}),n.jsx("h3",{className:"text-gold text-lg mb-2",children:"ELITE Membership ($99/month)"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"All PLUS benefits"}),n.jsx("li",{children:"Priority support"}),n.jsx("li",{children:"Exclusive deals"}),n.jsx("li",{children:"1-on-1 consultation"}),n.jsx("li",{children:"VIP events access"}),n.jsx("li",{children:"Verified resources directory"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"4. Payment and Billing"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"Monthly billing on subscription date"}),n.jsx("li",{children:"Payments processed through Stripe"}),n.jsx("li",{children:"Failed payments may result in service suspension"}),n.jsx("li",{children:"Prices subject to change with 30-day notice"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"5. Cancellation"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"Cancel anytime through customer portal"}),n.jsx("li",{children:"Access continues until end of billing period"}),n.jsx("li",{children:"No prorated refunds"}),n.jsx("li",{children:"Re-subscription welcome"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"6. Content and Intellectual Property"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"All content is property of Brothers of the Passport"}),n.jsx("li",{children:"Members receive limited license for personal use"}),n.jsx("li",{children:"No redistribution or commercial use"}),n.jsx("li",{children:"No scraping or automated access"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"7. Community Guidelines"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed mb-2",children:"Members agree to:"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"Treat others with respect"}),n.jsx("li",{children:"No harassment or discrimination"}),n.jsx("li",{children:"No spam or unsolicited promotion"}),n.jsx("li",{children:"No illegal activities discussion"}),n.jsx("li",{children:"Maintain confidentiality of member information"})]}),n.jsx("p",{className:"text-ivory/80 mt-4",children:"Violations may result in immediate termination without refund."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"8. Disclaimers"}),n.jsxs("div",{className:"bg-gold/10 border border-gold/30 p-6 rounded-lg mb-4",children:[n.jsx("p",{className:"text-gold font-semibold text-lg mb-2",children:"NOT FINANCIAL, LEGAL, OR TAX ADVICE"}),n.jsx("p",{className:"text-ivory/80",children:"All content provided is for informational purposes only. We are not financial advisors, tax professionals, immigration lawyers, or investment advisors. Always consult qualified professionals before making decisions."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"9. Limitation of Liability"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:'Services provided "as is" without warranties'}),n.jsx("li",{children:"Not liable for damages from service use"}),n.jsx("li",{children:"Not responsible for third-party services"}),n.jsx("li",{children:"Maximum liability limited to fees paid in last 12 months"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"10. Contact"}),n.jsxs("p",{className:"text-ivory/80",children:["Legal inquiries:"," ",n.jsx("a",{href:"mailto:legal@brothersofthepassport.com",className:"text-gold hover:underline",children:"legal@brothersofthepassport.com"})]})]})]})]})}),C0=()=>n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-8",children:"Refund Policy"}),n.jsxs("div",{className:"prose prose-invert max-w-none",children:[n.jsx("p",{className:"text-ivory/70 mb-8",children:"Last Updated: January 2025"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"General Policy"}),n.jsx("div",{className:"bg-red-900/20 border border-red-500/30 p-6 rounded-lg mb-4",children:n.jsx("p",{className:"text-red-400 font-semibold text-lg",children:"No refunds after membership access has been granted."})}),n.jsx("p",{className:"text-ivory/80 leading-relaxed",children:"Due to the immediate access to digital content and community resources upon subscription, we do not offer refunds for membership fees."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Exceptions"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed mb-4",children:"We may consider refunds in the following circumstances:"}),n.jsxs("ol",{className:"list-decimal list-inside text-ivory/80 space-y-3",children:[n.jsxs("li",{children:[n.jsx("strong",{className:"text-gold",children:"Technical Issues:"})," Service unavailable for more than 7 consecutive days due to our technical failures"]}),n.jsxs("li",{children:[n.jsx("strong",{className:"text-gold",children:"Duplicate Charges:"})," Accidental duplicate billing on the same account"]}),n.jsxs("li",{children:[n.jsx("strong",{className:"text-gold",children:"Fraud:"})," Unauthorized use of payment method (requires documentation)"]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Refund Process"}),n.jsxs("ol",{className:"list-decimal list-inside text-ivory/80 space-y-3",children:[n.jsxs("li",{children:["Contact"," ",n.jsx("a",{href:"mailto:support@brothersofthepassport.com",className:"text-gold hover:underline",children:"support@brothersofthepassport.com"})," ","within 7 days of the charge"]}),n.jsx("li",{children:"Provide reason and supporting documentation"}),n.jsx("li",{children:"We will review within 5 business days"}),n.jsx("li",{children:"If approved, refund processed within 10 business days to original payment method"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Cancellation vs Refund"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-charcoal-light p-6 rounded-lg border border-gold/20",children:[n.jsx("h3",{className:"text-gold font-semibold mb-2",children:"Cancellation"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2 text-sm",children:[n.jsx("li",{children:"Stops future billing"}),n.jsx("li",{children:"Keeps access until period ends"}),n.jsx("li",{children:"No money back"}),n.jsx("li",{children:"Can re-subscribe anytime"})]})]}),n.jsxs("div",{className:"bg-charcoal-light p-6 rounded-lg border border-gold/20",children:[n.jsx("h3",{className:"text-gold font-semibold mb-2",children:"Refund"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2 text-sm",children:[n.jsx("li",{children:"Returns payment"}),n.jsx("li",{children:"Terminates access immediately"}),n.jsx("li",{children:"Only in exceptional cases"}),n.jsx("li",{children:"Requires approval"})]})]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Chargebacks"}),n.jsx("div",{className:"bg-red-900/20 border border-red-500/30 p-6 rounded-lg",children:n.jsx("p",{className:"text-ivory/80 leading-relaxed",children:"Members who initiate chargebacks without contacting support first will be permanently banned from the platform. We take fraud seriously and will dispute illegitimate chargebacks."})})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Contact"}),n.jsxs("p",{className:"text-ivory/80",children:["For refund inquiries:"," ",n.jsx("a",{href:"mailto:support@brothersofthepassport.com",className:"text-gold hover:underline",children:"support@brothersofthepassport.com"})]})]})]})]})}),R0=()=>n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-8",children:"Disclaimer"}),n.jsxs("div",{className:"prose prose-invert max-w-none",children:[n.jsx("p",{className:"text-ivory/70 mb-8",children:"Last Updated: January 2025"}),n.jsx("section",{className:"mb-8",children:n.jsxs("div",{className:"bg-gold/10 border border-gold/30 p-6 rounded-lg mb-8",children:[n.jsx("h2",{className:"font-serif text-xl text-gold mb-4",children:"Not Professional Advice"}),n.jsxs("p",{className:"text-ivory/80 leading-relaxed",children:["Brothers of the Passport provides information and community resources only. This is ",n.jsx("strong",{className:"text-gold",children:"NOT"}),":"]}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2 mt-4",children:[n.jsx("li",{children:"Financial advice"}),n.jsx("li",{children:"Investment advice"}),n.jsx("li",{children:"Tax advice"}),n.jsx("li",{children:"Legal advice"}),n.jsx("li",{children:"Immigration advice"}),n.jsx("li",{children:"Medical advice"})]})]})}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"No Guarantees"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed mb-4",children:"We do not guarantee:"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"Specific travel savings"}),n.jsx("li",{children:"Visa approvals"}),n.jsx("li",{children:"Business success"}),n.jsx("li",{children:"Tax optimization results"}),n.jsx("li",{children:"Any specific outcomes"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Individual Responsibility"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed mb-4",children:"You are solely responsible for:"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"Verifying all information independently"}),n.jsx("li",{children:"Complying with all applicable laws"}),n.jsx("li",{children:"Consulting qualified professionals"}),n.jsx("li",{children:"Your financial and legal decisions"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Third-Party Services"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed mb-4",children:"We may recommend or link to third-party services. We:"}),n.jsxs("ul",{className:"list-disc list-inside text-ivory/80 space-y-2",children:[n.jsx("li",{children:"Are not affiliated unless stated"}),n.jsx("li",{children:"Do not endorse all content"}),n.jsx("li",{children:"Are not responsible for their actions"}),n.jsx("li",{children:"Receive no compensation unless disclosed"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Testimonials"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed",children:"Testimonials represent individual experiences, not typical results. Your results may vary. Success depends on many factors including individual effort, market conditions, and personal circumstances."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Updates"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed",children:"Information may become outdated. We strive for accuracy but make no guarantees. Always verify current laws, regulations, and procedures before taking action."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Affiliate Disclosure"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed",children:"Brothers of the Passport participates in affiliate marketing programs. We may earn commissions when you click on affiliate links or purchase products through our links. This does not affect the price you pay. We only promote services we believe in."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-4",children:"Contact"}),n.jsxs("p",{className:"text-ivory/80",children:["Questions? Contact us at"," ",n.jsx("a",{href:"mailto:hello@brothersofthepassport.com",className:"text-gold hover:underline",children:"hello@brothersofthepassport.com"})]})]})]})]})}),U0=()=>{const[l,a]=B.useState({name:"",email:"",subject:"",message:""}),[r,o]=B.useState(!1),d=f=>{f.preventDefault(),o(!0)},h=[{icon:n.jsx(uu,{className:"w-6 h-6"}),title:"Email Support",description:"For general inquiries and support",email:"support@brothersofthepassport.com"},{icon:n.jsx(tg,{className:"w-6 h-6"}),title:"Community",description:"For members - join the discussion",email:"community@brothersofthepassport.com"}];return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4 text-center",children:"Contact Us"}),n.jsx("p",{className:"text-ivory/70 text-center mb-12 max-w-2xl mx-auto",children:"Have questions? We're here to help. Reach out and we'll get back to you within 24 hours."}),n.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:h.map(f=>n.jsxs("div",{className:"card-dark p-6 text-center",children:[n.jsx("div",{className:"text-gold mb-4 flex justify-center",children:f.icon}),n.jsx("h3",{className:"font-serif text-xl text-ivory mb-2",children:f.title}),n.jsx("p",{className:"text-ivory/60 text-sm mb-4",children:f.description}),n.jsx("a",{href:`mailto:${f.email}`,className:"text-gold hover:underline text-sm",children:f.email})]},f.title))}),n.jsxs("div",{className:"card-dark p-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-6",children:"Send a Message"}),r?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-gold mb-4",children:n.jsx(ur,{className:"w-12 h-12 mx-auto"})}),n.jsx("h3",{className:"font-serif text-xl text-ivory mb-2",children:"Message Sent!"}),n.jsx("p",{className:"text-ivory/60",children:"We'll get back to you within 24 hours."})]}):n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Name"}),n.jsx("input",{type:"text",required:!0,value:l.name,onChange:f=>a({...l,name:f.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none transition-colors",placeholder:"Your name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Email"}),n.jsx("input",{type:"email",required:!0,value:l.email,onChange:f=>a({...l,email:f.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none transition-colors",placeholder:"your@email.com"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Subject"}),n.jsx("input",{type:"text",required:!0,value:l.subject,onChange:f=>a({...l,subject:f.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none transition-colors",placeholder:"What's this about?"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Message"}),n.jsx("textarea",{required:!0,rows:5,value:l.message,onChange:f=>a({...l,message:f.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none transition-colors resize-none",placeholder:"Your message..."})]}),n.jsx("button",{type:"submit",className:"btn-gold w-full md:w-auto",children:"Send Message"})]})]})]})})};var Eg="basil",D0=function(a){return a===3?"v3":a},Tg="https://js.stripe.com",M0="".concat(Tg,"/").concat(Eg,"/stripe.js"),z0=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,L0=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var B0=function(a){return z0.test(a)||L0.test(a)},q0=function(){for(var a=document.querySelectorAll('script[src^="'.concat(Tg,'"]')),r=0;r<a.length;r++){var o=a[r];if(B0(o.src))return o}return null},Qm=function(a){var r="",o=document.createElement("script");o.src="".concat(M0).concat(r);var d=document.head||document.body;if(!d)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return d.appendChild(o),o},H0=function(a,r){!a||!a._registerWrapper||a._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:r})},on=null,Wl=null,Fl=null,$0=function(a){return function(r){a(new Error("Failed to load Stripe.js",{cause:r}))}},G0=function(a,r){return function(){window.Stripe?a(window.Stripe):r(new Error("Stripe.js not available"))}},V0=function(a){return on!==null?on:(on=new Promise(function(r,o){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var d=q0();if(!(d&&a)){if(!d)d=Qm(a);else if(d&&Fl!==null&&Wl!==null){var h;d.removeEventListener("load",Fl),d.removeEventListener("error",Wl),(h=d.parentNode)===null||h===void 0||h.removeChild(d),d=Qm(a)}}Fl=G0(r,o),Wl=$0(o),d.addEventListener("load",Fl),d.addEventListener("error",Wl)}catch(f){o(f);return}}),on.catch(function(r){return on=null,Promise.reject(r)}))},K0=function(a,r,o){if(a===null)return null;var d=r[0],h=d.match(/^pk_test/),f=D0(a.version),g=Eg;h&&f!==g&&console.warn("Stripe.js@".concat(f," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(g,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var v=a.apply(void 0,r);return H0(v,o),v},cn,Ag=!1,Og=function(){return cn||(cn=V0(null).catch(function(a){return cn=null,Promise.reject(a)}),cn)};Promise.resolve().then(function(){return Og()}).catch(function(l){Ag||console.warn(l)});var Y0=function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];Ag=!0;var d=Date.now();return Og().then(function(h){return K0(h,r,d)})};const I0="";let Ic;function Q0(){return Ic||(Ic=Y0(I0)),Ic}const X0="",J0="";async function P0(l,a){try{const r=await fetch("/api/stripe/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:l,customerEmail:a,successUrl:`${window.location.origin}/dashboard?success=true`,cancelUrl:`${window.location.origin}/join?canceled=true`})});if(!r.ok){const d=await r.json();throw new Error(d.message||"Failed to create checkout session")}const{sessionId:o}=await r.json();return o}catch(r){throw console.error("Checkout error:",r),r}}async function kg(l,a){const r=await Q0();if(!r)throw new Error("Stripe failed to load");const o=await P0(l,a),{error:d}=await r.redirectToCheckout({sessionId:o});if(d)throw d}async function Z0(){try{const l=await fetch("/api/stripe/portal",{method:"POST",headers:{"Content-Type":"application/json"}});if(!l.ok){const r=await l.json();throw new Error(r.message||"Failed to create portal session")}const{url:a}=await l.json();window.location.href=a}catch(l){throw console.error("Portal error:",l),l}}async function W0(l){return kg(X0,l)}async function F0(l){return kg(J0,l)}const ew=()=>{const[l,a]=B.useState(null),r=async d=>{a(d);try{d==="plus"?await W0():await F0()}catch(h){console.error("Checkout error:",h),alert("Something went wrong. Please try again.")}finally{a(null)}},o=[{name:"PLUS",price:"$49",period:"/month",description:"Starter Membership",icon:n.jsx(py,{className:"w-6 h-6"}),features:["Access to all Country Guides","Private Community Forum","Monthly Newsletter","Basic travel perks","Email support"],cta:"GET STARTED",plan:"plus",highlighted:!1},{name:"ELITE",price:"$99",period:"/month",description:"VIP Membership",icon:n.jsx(sg,{className:"w-6 h-6"}),features:["Everything in PLUS","Priority Support (24h response)","Exclusive deals & partner offers","1-on-1 consultation call","VIP events & meetups access","Verified resources directory","Early access to new features"],cta:"APPLY NOW",plan:"elite",highlighted:!0}];return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:"Become a Member"}),n.jsx("p",{className:"text-ivory/70 text-lg max-w-2xl mx-auto",children:"Join the Brotherhood and unlock global leverage, location freedom, and a network of driven men."})]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-8 mb-16",children:o.map(d=>n.jsxs("div",{className:`card-dark p-8 relative ${d.highlighted?"border-gold/50 shadow-gold/20":"border-transparent"}`,children:[d.highlighted&&n.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:n.jsx("span",{className:"bg-gold text-charcoal text-xs font-semibold px-4 py-1 rounded-full uppercase tracking-wider",children:"Most Popular"})}),n.jsx("div",{className:"text-gold mb-4",children:d.icon}),n.jsx("h2",{className:"font-serif text-3xl text-ivory mb-2",children:d.name}),n.jsx("p",{className:"text-ivory/60 mb-4",children:d.description}),n.jsxs("div",{className:"flex items-baseline mb-6",children:[n.jsx("span",{className:"font-serif text-5xl text-gold",children:d.price}),n.jsx("span",{className:"text-ivory/60 ml-1",children:d.period})]}),n.jsx("ul",{className:"space-y-3 mb-8",children:d.features.map(h=>n.jsxs("li",{className:"flex items-start text-ivory/80",children:[n.jsx(zs,{className:"w-5 h-5 text-gold mr-3 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:h})]},h))}),n.jsx("button",{onClick:()=>r(d.plan),disabled:l===d.plan,className:`w-full py-4 rounded font-medium tracking-wider uppercase transition-all duration-300 ${d.highlighted?"bg-gold text-charcoal hover:shadow-gold-lg hover:-translate-y-0.5":"border border-gold text-gold hover:bg-gold/10"} disabled:opacity-50 disabled:cursor-not-allowed`,children:l===d.plan?"Loading...":d.cta})]},d.name))}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-ivory/50 text-sm mb-4",children:"Trusted by members worldwide"}),n.jsxs("div",{className:"flex items-center justify-center gap-8 text-ivory/30 text-xs uppercase tracking-wider",children:[n.jsx("span",{children:"Secure Payments"}),n.jsx("span",{children:""}),n.jsx("span",{children:"Cancel Anytime"}),n.jsx("span",{children:""}),n.jsx("span",{children:"24/7 Support"})]})]}),n.jsxs("div",{className:"mt-20 max-w-2xl mx-auto",children:[n.jsx("h3",{className:"font-serif text-2xl text-ivory text-center mb-8",children:"Frequently Asked Questions"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-gold font-medium mb-2",children:"Can I cancel anytime?"}),n.jsx("p",{className:"text-ivory/70 text-sm",children:"Yes, you can cancel your subscription at any time through your account settings. You'll continue to have access until the end of your billing period."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gold font-medium mb-2",children:"What's the difference between PLUS and ELITE?"}),n.jsx("p",{className:"text-ivory/70 text-sm",children:"ELITE includes everything in PLUS plus priority support, exclusive deals, 1-on-1 consultation, VIP events, and access to our verified resources directory."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-gold font-medium mb-2",children:"Is there a refund policy?"}),n.jsx("p",{className:"text-ivory/70 text-sm",children:"Due to the immediate access to digital content, we do not offer refunds. However, you can cancel anytime to stop future billing."})]})]})]})]})})},tw=()=>{const[l,a]=B.useState({name:"",email:"",countryInterest:"",message:""}),[r,o]=B.useState(!1),[d,h]=B.useState(!1),f=async g=>{g.preventDefault(),h(!0);try{(await fetch("/api/apply/ingest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.name,email:l.email,countryInterest:l.countryInterest,message:l.message,source:"website"})})).ok?o(!0):alert("Something went wrong. Please try again.")}catch(v){console.error("Submit error:",v),alert("Something went wrong. Please try again.")}finally{h(!1)}};return r?n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsx("div",{className:"max-w-2xl mx-auto text-center",children:n.jsxs("div",{className:"card-dark p-12",children:[n.jsx("div",{className:"w-20 h-20 bg-gold/20 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(zs,{className:"w-10 h-10 text-gold"})}),n.jsx("h1",{className:"font-serif text-3xl text-gold mb-4",children:"Application Received"}),n.jsx("p",{className:"text-ivory/70 mb-6",children:"Thank you for applying to Brothers of the Passport. We've received your application and are reviewing it."}),n.jsxs("div",{className:"bg-gold/10 border border-gold/30 p-4 rounded-lg mb-6",children:[n.jsx("p",{className:"text-gold font-medium",children:"Status: Under Review"}),n.jsx("p",{className:"text-ivory/60 text-sm",children:"Typical response time: 24-48 hours"})]}),n.jsxs("p",{className:"text-ivory/60 text-sm",children:["We'll contact you at ",l.email," with our decision."]})]})})}):n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:"Apply for Membership"}),n.jsx("p",{className:"text-ivory/70 max-w-xl mx-auto",children:"Brothers of the Passport is a curated community. Tell us about yourself and why you'd be a good fit."})]}),n.jsx("div",{className:"card-dark p-8",children:n.jsxs("form",{onSubmit:f,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-ivory/70 mb-2",children:["Full Name ",n.jsx("span",{className:"text-gold",children:"*"})]}),n.jsx("input",{type:"text",required:!0,value:l.name,onChange:g=>a({...l,name:g.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none transition-colors",placeholder:"Your full name"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-ivory/70 mb-2",children:["Email ",n.jsx("span",{className:"text-gold",children:"*"})]}),n.jsx("input",{type:"email",required:!0,value:l.email,onChange:g=>a({...l,email:g.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none transition-colors",placeholder:"your@email.com"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-ivory/70 mb-2",children:[n.jsx(ui,{className:"w-4 h-4 inline mr-2"}),"Countries of Interest"]}),n.jsx("input",{type:"text",value:l.countryInterest,onChange:g=>a({...l,countryInterest:g.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none transition-colors",placeholder:"e.g., Portugal, Thailand, Mexico"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-ivory/70 mb-2",children:[n.jsx(tg,{className:"w-4 h-4 inline mr-2"}),"Tell us about yourself"]}),n.jsx("textarea",{rows:5,value:l.message,onChange:g=>a({...l,message:g.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none transition-colors resize-none",placeholder:"What brings you to Brothers of the Passport? What are your goals for location freedom?"})]}),n.jsx("div",{className:"hidden",children:n.jsx("input",{type:"text",name:"honeypot",tabIndex:-1,autoComplete:"off"})}),n.jsx("button",{type:"submit",disabled:d,className:"btn-gold w-full flex items-center justify-center gap-2 disabled:opacity-50",children:d?"Submitting...":n.jsxs(n.Fragment,{children:[n.jsx(ur,{className:"w-4 h-4"}),"Submit Application"]})})]})}),n.jsx("p",{className:"text-center text-ivory/50 text-sm mt-6",children:"Applications are reviewed within 24-48 hours. You'll receive an email with our decision."})]})})},sw=()=>{const[l,a]=B.useState(""),[r,o]=B.useState(""),[d,h]=B.useState(!1),[f,g]=B.useState(!1),[v,y]=B.useState(""),j=async b=>{b.preventDefault(),g(!0),y("");try{d?(await g0(l),y("Check your email for the magic link!")):(await m0(l,r),window.location.href="/dashboard")}catch(T){console.error("Login error:",T),y("Invalid credentials. Please try again.")}finally{g(!1)}};return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory flex items-center justify-center px-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"font-serif text-3xl text-gold tracking-wider",children:"BROTHERS"}),n.jsx("p",{className:"text-ivory/60 text-sm mt-2",children:"Sign in to your account"})]}),n.jsxs("div",{className:"card-dark p-8",children:[v&&n.jsx("div",{className:`p-4 rounded-lg mb-6 ${v.includes("Check your email")?"bg-green-900/20 border border-green-500/30 text-green-400":"bg-red-900/20 border border-red-500/30 text-red-400"}`,children:v}),n.jsxs("form",{onSubmit:j,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-ivory/40"}),n.jsx("input",{type:"email",required:!0,value:l,onChange:b=>a(b.target.value),className:"w-full bg-charcoal border border-white/10 rounded pl-12 pr-4 py-3 text-ivory focus:border-gold focus:outline-none transition-colors",placeholder:"your@email.com"})]})]}),!d&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(vy,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-ivory/40"}),n.jsx("input",{type:"password",required:!d,value:r,onChange:b=>o(b.target.value),className:"w-full bg-charcoal border border-white/10 rounded pl-12 pr-4 py-3 text-ivory focus:border-gold focus:outline-none transition-colors",placeholder:""})]})]}),n.jsx("button",{type:"submit",disabled:f,className:"btn-gold w-full flex items-center justify-center gap-2 disabled:opacity-50",children:f?"Signing in...":n.jsxs(n.Fragment,{children:[d?"Send Magic Link":"Sign In",n.jsx(hu,{className:"w-4 h-4"})]})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>h(!d),className:"text-gold text-sm hover:underline",children:d?"Use password instead":"Sign in with magic link"})}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10 flex justify-between text-sm",children:[n.jsx("a",{href:"/forgot-password",className:"text-ivory/60 hover:text-gold transition-colors",children:"Forgot password?"}),n.jsx("a",{href:"/join",className:"text-gold hover:underline",children:"Not a member?"})]})]})]})})},Xm={home:["guest","plus","elite","admin"],about:["guest","plus","elite","admin"],join:["guest","plus","elite","admin"],apply:["guest","plus","elite","admin"],dashboard:["plus","elite","admin"],profile:["plus","elite","admin"],account:["plus","elite","admin"],community:["plus","elite","admin"],"city-guides":["plus","elite","admin"],"city-guides-full":["elite","admin"],"tools-perks":["plus","elite","admin"],"tools-perks-elite":["elite","admin"],"verified-resources":["elite","admin"],consultation:["elite","admin"],"vip-events":["elite","admin"],admin:["admin"],"admin-applications":["admin"],"admin-members":["admin"],"admin-analytics":["admin"]};function aw(l,a){if(!l)return Xm[a]?.includes("guest")??!1;const r=Xm[a];return r?r.includes(l.role):!1}function gr(l){return l?.role==="admin"}function iw(l){return{guest:"Guest",plus:"PLUS Member",elite:"ELITE Member",admin:"Administrator"}[l]||l}const nw=()=>{const l=wn(),[a,r]=B.useState(null),[o,d]=B.useState(!0);B.useEffect(()=>{h()},[]);const h=async()=>{try{const y=await Bs();if(!y){l("/login");return}r(y)}catch(y){console.error("Error loading profile:",y),l("/login")}finally{d(!1)}},f=async()=>{await Sg(),l("/")},g=async()=>{try{await Z0()}catch(y){console.error("Billing error:",y),alert("Could not open billing portal. Please try again.")}};if(o)return n.jsx("div",{className:"min-h-screen bg-charcoal flex items-center justify-center",children:n.jsx("div",{className:"text-gold",children:"Loading..."})});if(!a)return null;const v=[{icon:n.jsx(du,{className:"w-5 h-5"}),title:"Country Guides",description:"Access travel guides and strategies",href:"/guides",requires:"plus"},{icon:n.jsx(Ls,{className:"w-5 h-5"}),title:"Community",description:"Connect with other members",href:"/community",requires:"plus"},{icon:n.jsx(fn,{className:"w-5 h-5"}),title:"Verified Resources",description:"Lawyers, tax advisors, relocation experts",href:"/resources",requires:"elite"},{icon:n.jsx(fu,{className:"w-5 h-5"}),title:"Billing",description:"Manage your subscription",action:g,requires:"plus"},{icon:n.jsx(Wm,{className:"w-5 h-5"}),title:"Profile",description:"Update your information",href:"/profile",requires:"plus"},{icon:n.jsx(eg,{className:"w-5 h-5"}),title:"Settings",description:"Account preferences",href:"/settings",requires:"plus"}];return gr(a)&&v.push({icon:n.jsx(Ds,{className:"w-5 h-5"}),title:"Admin Panel",description:"Manage members and applications",href:"/admin",requires:"admin"}),n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-12",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"font-serif text-3xl text-gold mb-2",children:["Welcome, ",a.full_name||"Brother"]}),n.jsx("p",{className:"text-ivory/60",children:iw(a.role)})]}),n.jsxs("button",{onClick:f,className:"flex items-center gap-2 text-ivory/60 hover:text-gold transition-colors",children:[n.jsx(yy,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(y=>{const j=aw(a,y.requires);return n.jsxs("div",{className:`card-dark p-6 ${j?"cursor-pointer hover:border-gold/30":"opacity-50 cursor-not-allowed"}`,onClick:()=>{j&&(y.action?y.action():y.href&&l(y.href))},children:[n.jsx("div",{className:"text-gold mb-4",children:y.icon}),n.jsx("h3",{className:"font-serif text-lg text-ivory mb-1",children:y.title}),n.jsx("p",{className:"text-ivory/60 text-sm",children:y.description}),!j&&n.jsx("p",{className:"text-gold text-xs mt-2",children:"ELITE only"})]},y.title)})}),a.role==="plus"&&n.jsx("div",{className:"mt-12 card-dark p-8 border-gold/30",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-serif text-xl text-gold mb-2",children:"Upgrade to ELITE"}),n.jsx("p",{className:"text-ivory/70",children:"Unlock verified resources, priority support, and VIP events."})]}),n.jsx("a",{href:"/join",className:"btn-gold whitespace-nowrap",children:"Upgrade Now"})]})})]})})},or={booking:{baseUrl:"https://www.booking.com",aid:""},agoda:{baseUrl:"https://www.agoda.com",cid:""},safetywing:{baseUrl:"https://safetywing.com/nomad-insurance",ref:"brotherspassport"},worldnomads:{baseUrl:"https://www.worldnomads.com",affiliate:"brotherspassport"}};function cu(l,a={}){const r=or[l],o=new URL(r.baseUrl);return Object.entries(a).forEach(([d,h])=>{o.searchParams.set(d,h)}),o.searchParams.set("utm_source","brotherspassport"),o.searchParams.set("utm_medium","affiliate"),o.searchParams.set("utm_campaign","travel"),o.toString()}function lw(l,a){const r={checkin:a.checkIn,checkout:a.checkOut,group_adults:a.guests.toString(),no_rooms:(a.rooms||1).toString()};return r.ss=a.destination,cu(l,r)}function rw(l=!1){return[{id:"1",type:"insurance",title:"SafetyWing Nomad Insurance",description:"Travel medical insurance for nomads. Covers 180+ countries.",price:"$45/month",affiliateUrl:or.safetywing.baseUrl,badge:l?"Member Discount":void 0},{id:"2",type:"flight",title:"Business Class to Southeast Asia",description:"Premium deals on Qatar, Emirates, and Singapore Airlines.",price:"From $2,400",originalPrice:"$4,800",discount:"50% off",affiliateUrl:cu("booking",{label:"flights"}),badge:"Elite Exclusive"},{id:"3",type:"hotel",title:"Long-Stay Apartments",description:"Monthly rates with up to 40% savings.",price:"From $800/month",affiliateUrl:cu("booking",{label:"longstay"})}]}const ow=[{name:"SafetyWing",description:"Nomad Insurance - Monthly subscription, global coverage",url:or.safetywing.baseUrl,bestFor:"Digital nomads",price:"From $45/month"},{name:"World Nomads",description:"Adventure travel insurance with extensive coverage",url:or.worldnomads.baseUrl,bestFor:"Adventure travelers",price:"Custom quote"}];async function er(l,a,r){try{await fetch("/api/track/outbound",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:l,type:a,estimatedValue:r,timestamp:new Date().toISOString()})})}catch(o){console.error("Track outbound error:",o)}}const cw=()=>{const[l,a]=B.useState("flights"),[r,o]=B.useState(!1);B.useState(()=>{Bs().then(b=>{o(b?.role==="elite")})});const[d,h]=B.useState({origin:"",destination:"",departureDate:"",returnDate:"",adults:1,cabinClass:"economy"}),[f,g]=B.useState({destination:"",checkIn:"",checkOut:"",guests:1}),v=b=>{b.preventDefault();const T=`https://www.skyscanner.com/transport/flights/${d.origin.toLowerCase()}/${d.destination.toLowerCase()}/?adults=${d.adults}&adultsv2=${d.adults}&cabinclass=${d.cabinClass}&children=0&childrenv2=&inboundaltsen=off&outboundaltsen=off&preferdirects=false&ref=home&rtn=1&oym=${d.departureDate.replace(/-/g,"")}&iym=${d.returnDate?.replace(/-/g,"")||""}`;er("skyscanner","flight"),window.open(T,"_blank")},y=b=>{b.preventDefault();const T=lw("booking",{destination:f.destination,checkIn:f.checkIn,checkOut:f.checkOut,guests:f.guests});er("booking","hotel"),window.open(T,"_blank")},j=rw(r);return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:"Book Travel"}),n.jsxs("p",{className:"text-ivory/70 max-w-2xl mx-auto",children:["Member-exclusive rates on flights, hotels, and insurance.",r&&n.jsx("span",{className:"text-gold ml-2",children:"Elite perks unlocked."})]})]}),n.jsx("div",{className:"flex justify-center gap-4 mb-8",children:["flights","hotels","insurance"].map(b=>n.jsxs("button",{onClick:()=>a(b),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium capitalize transition-all ${l===b?"bg-gold text-charcoal":"bg-charcoal-light text-ivory/70 hover:text-ivory"}`,children:[b==="flights"&&n.jsx(oi,{className:"w-5 h-5"}),b==="hotels"&&n.jsx(Pc,{className:"w-5 h-5"}),b==="insurance"&&n.jsx(Ds,{className:"w-5 h-5"}),b]},b))}),n.jsxs("div",{className:"card-dark p-8 mb-12",children:[l==="flights"&&n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"From"}),n.jsx("input",{type:"text",placeholder:"City or airport",value:d.origin,onChange:b=>h({...d,origin:b.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"To"}),n.jsx("input",{type:"text",placeholder:"Destination",value:d.destination,onChange:b=>h({...d,destination:b.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Departure"}),n.jsx("input",{type:"date",value:d.departureDate,onChange:b=>h({...d,departureDate:b.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Return"}),n.jsx("input",{type:"date",value:d.returnDate,onChange:b=>h({...d,returnDate:b.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none"})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Cabin Class"}),n.jsxs("select",{value:d.cabinClass,onChange:b=>h({...d,cabinClass:b.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none",children:[n.jsx("option",{value:"economy",children:"Economy"}),n.jsx("option",{value:"premium_economy",children:"Premium Economy"}),n.jsx("option",{value:"business",children:"Business"}),n.jsx("option",{value:"first",children:"First Class"})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Travelers"}),n.jsx("select",{value:d.adults,onChange:b=>h({...d,adults:parseInt(b.target.value)}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none",children:[1,2,3,4,5,6].map(b=>n.jsxs("option",{value:b,children:[b," Adult",b>1?"s":""]},b))})]})]}),n.jsxs("button",{type:"submit",className:"btn-gold w-full flex items-center justify-center gap-2",children:[n.jsx(Zc,{className:"w-5 h-5"}),"Search Flights"]})]}),l==="hotels"&&n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"md:col-span-1",children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Destination"}),n.jsx("input",{type:"text",placeholder:"City or hotel name",value:f.destination,onChange:b=>g({...f,destination:b.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Check-in"}),n.jsx("input",{type:"date",value:f.checkIn,onChange:b=>g({...f,checkIn:b.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Check-out"}),n.jsx("input",{type:"date",value:f.checkOut,onChange:b=>g({...f,checkOut:b.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none"})]})]}),n.jsxs("button",{type:"submit",className:"btn-gold w-full flex items-center justify-center gap-2",children:[n.jsx(Zc,{className:"w-5 h-5"}),"Search Hotels"]})]}),l==="insurance"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("p",{className:"text-ivory/70",children:"Travel with peace of mind. Compare coverage from our vetted partners."}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:ow.map(b=>n.jsxs("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",onClick:()=>er(b.name.toLowerCase(),"insurance"),className:"card-dark p-6 hover:border-gold/30 transition-colors",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-serif text-xl text-ivory",children:b.name}),n.jsx("p",{className:"text-gold text-sm",children:b.price})]}),n.jsx(Ds,{className:"w-6 h-6 text-gold"})]}),n.jsx("p",{className:"text-ivory/70 text-sm mb-2",children:b.description}),n.jsxs("p",{className:"text-ivory/50 text-xs",children:["Best for: ",b.bestFor]})]},b.name))})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"font-serif text-2xl text-ivory mb-6 flex items-center gap-2",children:[n.jsx(Wc,{className:"w-6 h-6 text-gold"}),"Member-Exclusive Deals"]}),n.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:j.map(b=>n.jsxs("a",{href:b.affiliateUrl,target:"_blank",rel:"noopener noreferrer",onClick:()=>er(b.type,"deal"),className:"card-dark p-6 hover:border-gold/30 transition-colors relative",children:[b.badge&&n.jsx("span",{className:"absolute -top-2 right-4 bg-gold text-charcoal text-xs font-semibold px-3 py-1 rounded-full",children:b.badge}),n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[b.type==="flight"&&n.jsx(oi,{className:"w-5 h-5 text-gold"}),b.type==="hotel"&&n.jsx(Pc,{className:"w-5 h-5 text-gold"}),b.type==="insurance"&&n.jsx(Ds,{className:"w-5 h-5 text-gold"}),n.jsx("span",{className:"text-ivory/50 text-xs uppercase tracking-wider",children:b.type})]}),n.jsx("h3",{className:"font-serif text-lg text-ivory mb-2",children:b.title}),n.jsx("p",{className:"text-ivory/60 text-sm mb-4",children:b.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gold font-semibold",children:b.price}),b.originalPrice&&n.jsx("span",{className:"text-ivory/40 text-sm line-through ml-2",children:b.originalPrice})]}),n.jsx(Ms,{className:"w-4 h-4 text-ivory/40"})]}),b.discount&&n.jsx("span",{className:"inline-block mt-2 bg-green-900/30 text-green-400 text-xs px-2 py-1 rounded",children:b.discount})]},b.id))})]}),!r&&n.jsx("div",{className:"mt-12 card-dark p-8 border-gold/30",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-serif text-xl text-gold mb-2",children:"Unlock Elite Travel Perks"}),n.jsx("p",{className:"text-ivory/70",children:"Get exclusive rates, complimentary upgrades, and priority booking support."})]}),n.jsx("a",{href:"/join",className:"btn-gold whitespace-nowrap",children:"Upgrade to Elite"})]})})]})})},Cg=[{id:"wise",name:"Wise",category:"finance",description:"Multi-currency accounts with real exchange rates. Save up to 6x on international transfers.",url:"https://wise.com/invite/u/brotherspassport",commission:"Referral bonus",badge:"verified",icon:"dollar"},{id:"revolut",name:"Revolut",category:"finance",description:"Global banking app with crypto, stocks, and travel perks. Premium cards for nomads.",url:"https://www.revolut.com/referral/?referral-code=brotherspassport",commission:"Referral bonus",badge:"verified",icon:"credit-card"},{id:"payoneer",name:"Payoneer",category:"finance",description:"Get paid by international clients. Local bank accounts in 10+ currencies.",url:"https://www.payoneer.com/raf/?rid=brotherspassport",commission:"$25 bonus",badge:"verified",icon:"building"},{id:"offshore-banking",name:"Offshore Banking Guide",category:"finance",description:"Educational resource on international banking. Lead generation for boutique banks.",url:"/guides/offshore-banking",badge:"elite-only",eliteOnly:!0,icon:"globe"}],Rg=[{id:"nomad-capitalist",name:"Nomad Capitalist",category:"visa",description:"Second residency and citizenship by investment. Full-service consultancy.",url:"https://nomadcapitalist.com/?ref=brotherspassport",commission:"Lead referral",badge:"featured",eliteOnly:!0,icon:"passport"},{id:"global-citizen",name:"Global Citizen Solutions",category:"visa",description:"Golden Visa programs in Portugal, Spain, Greece. Real estate + residency packages.",url:"https://www.globalcitizensolutions.com/?ref=brotherspassport",commission:"Lead referral",badge:"verified",eliteOnly:!0,icon:"home"},{id:"visa-hq",name:"VisaHQ",category:"visa",description:"Visa processing service for 200+ countries. Expedited options available.",url:"https://www.visahq.com/?affiliate=brotherspassport",commission:"Per application",badge:"verified",icon:"file-text"}],Ug=[{id:"amex-platinum",name:"American Express Platinum",category:"credit",description:"Premium travel card with lounge access, 5x points on flights, $200 airline credit.",url:"https://www.americanexpress.com/us/credit-cards/card/platinum/?ref=brotherspassport",commission:"Referral bonus",badge:"featured",icon:"crown"},{id:"chase-sapphire",name:"Chase Sapphire Reserve",category:"credit",description:"3x points on travel and dining. $300 annual travel credit. Priority Pass lounges.",url:"https://creditcards.chase.com/rewards-credit-cards/sapphire/reserve?ref=brotherspassport",commission:"Referral bonus",badge:"verified",icon:"gem"},{id:"capital-one-venture",name:"Capital One Venture X",category:"credit",description:"2x miles on everything. $300 annual travel credit. 10x on hotels/rental cars.",url:"https://www.capitalone.com/credit-cards/venture-x/?ref=brotherspassport",commission:"Referral bonus",badge:"verified",icon:"plane"},{id:"points-guy",name:"The Points Guy",category:"credit",description:"Maximize your points and miles. Deal alerts and redemption strategies.",url:"https://thepointsguy.com/?ref=brotherspassport",commission:"Affiliate",badge:"verified",icon:"trending-up"}],Dg=[{id:"nordvpn",name:"NordVPN",category:"tools",description:"Secure browsing from anywhere. 6,000+ servers in 60 countries. No logs.",url:"https://nordvpn.com/brotherspassport",commission:"40% recurring",badge:"verified",icon:"shield"},{id:"airalo",name:"Airalo",category:"tools",description:"eSIMs for 200+ countries. Instant activation, no physical SIM needed.",url:"https://www.airalo.com/?ref=brotherspassport",commission:"$3 credit",badge:"verified",icon:"sim"},{id:"1password",name:"1Password",category:"tools",description:"Password manager for teams and families. Secure document storage.",url:"https://1password.com/sign-up/?ref=brotherspassport",commission:"Referral credit",badge:"verified",icon:"lock"},{id:"protonmail",name:"Proton Mail",category:"tools",description:"Encrypted email from Switzerland. Privacy-first alternative to Gmail.",url:"https://proton.me/mail?ref=brotherspassport",commission:"Referral credit",badge:"verified",icon:"mail"},{id:"google-fi",name:"Google Fi",category:"tools",description:"International phone plan that works in 200+ countries. Flexible pricing.",url:"https://g.co/fi/r/brotherspassport",commission:"$20 credit",badge:"verified",icon:"phone"}],Mg=[{id:"safetywing",name:"SafetyWing",category:"travel",description:"Nomad insurance. $45/month. Covers 180+ countries. Home country coverage included.",url:"https://safetywing.com/nomad-insurance?ref=brotherspassport",commission:"10% recurring",badge:"featured",icon:"heart"},{id:"world-nomads",name:"World Nomads",category:"travel",description:"Adventure travel insurance. Covers 200+ activities. 24/7 emergency assistance.",url:"https://www.worldnomads.com?affiliate=brotherspassport",commission:"Per policy",badge:"verified",icon:"compass"},{id:"booking",name:"Booking.com",category:"travel",description:"Hotels, apartments, and villas worldwide. Member rates on long stays.",url:"https://www.booking.com/index.html?aid=brotherspassport",commission:"4-6%",badge:"verified",icon:"bed"},{id:"airbnb",name:"Airbnb",category:"travel",description:"Unique stays and experiences. Monthly discounts up to 40%.",url:"https://www.airbnb.com/r/brotherspassport",commission:"Referral credit",badge:"verified",icon:"home"},{id:"trustedhousesitters",name:"TrustedHousesitters",category:"travel",description:"Free accommodation by house sitting. Annual membership.",url:"https://www.trustedhousesitters.com/?ref=brotherspassport",commission:"25%",badge:"elite-only",eliteOnly:!0,icon:"key"}];function uw(l,a=!1){return[...Cg,...Rg,...Ug,...Dg,...Mg].filter(o=>!(o.category!==l||o.eliteOnly&&!a))}function dw(){return[{id:"finance",name:"Finance & Banking",icon:"dollar"},{id:"visa",name:"Visas & Relocation",icon:"passport"},{id:"credit",name:"Credit & Points",icon:"credit-card"},{id:"tools",name:"Tools & Services",icon:"tool"},{id:"travel",name:"Travel & Insurance",icon:"plane"}]}async function ir(l,a,r){try{await fetch("/api/track/affiliate-click",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partnerId:l,category:a,estimatedValue:r,timestamp:new Date().toISOString()})})}catch(o){console.error("Track affiliate click error:",o)}}function hw(l=!1){return[...Cg,...Rg,...Ug,...Dg,...Mg].filter(r=>r.badge==="featured"||r.badge==="verified").filter(r=>!r.eliteOnly||l).slice(0,6)}const Qc={finance:n.jsx(ag,{className:"w-5 h-5"}),visa:n.jsx(ui,{className:"w-5 h-5"}),credit:n.jsx(fu,{className:"w-5 h-5"}),tools:n.jsx(xy,{className:"w-5 h-5"}),travel:n.jsx(oi,{className:"w-5 h-5"})},fw=()=>{const[l,a]=B.useState("finance"),[r,o]=B.useState(!1),[d,h]=B.useState([]);B.useEffect(()=>{Bs().then(y=>{const j=y?.role==="elite";o(j),h(hw(j))})},[]);const f=dw(),g=uw(l,r),v=y=>{ir(y.id,y.category)};return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:"Tools & Perks"}),n.jsx("p",{className:"text-ivory/70 max-w-2xl mx-auto",children:"Vetted partners and exclusive deals for Brothers of the Passport members. Every recommendation is tested by our team."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("h2",{className:"font-serif text-2xl text-ivory mb-6 flex items-center gap-2",children:[n.jsx(fn,{className:"w-6 h-6 text-gold"}),"Featured Partners"]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(y=>n.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",onClick:()=>v(y),className:"card-dark p-6 hover:border-gold/30 transition-colors relative",children:[y.badge&&n.jsxs("span",{className:`absolute -top-2 right-4 text-xs font-semibold px-3 py-1 rounded-full ${y.badge==="featured"?"bg-gold text-charcoal":y.badge==="elite-only"?"bg-purple-600 text-white":"bg-green-600 text-white"}`,children:[y.badge==="verified"&&n.jsx(zs,{className:"w-3 h-3 inline mr-1"}),y.badge]}),n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"text-gold",children:Qc[y.category]}),n.jsx("h3",{className:"font-serif text-lg text-ivory",children:y.name})]}),n.jsx("p",{className:"text-ivory/70 text-sm mb-4",children:y.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[y.commission&&n.jsx("span",{className:"text-gold text-xs",children:y.commission}),n.jsx(Ms,{className:"w-4 h-4 text-ivory/40"})]})]},y.id))})]}),n.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:f.map(y=>n.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${l===y.id?"bg-gold text-charcoal":"bg-charcoal-light text-ivory/70 hover:text-ivory"}`,children:[Qc[y.id],y.name]},y.id))}),n.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:g.map(y=>n.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",onClick:()=>v(y),className:"card-dark p-6 hover:border-gold/30 transition-colors flex items-start gap-4",children:[n.jsx("div",{className:"text-gold mt-1",children:Qc[y.category]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h3",{className:"font-serif text-lg text-ivory",children:y.name}),y.badge&&n.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${y.badge==="featured"?"bg-gold/20 text-gold":y.badge==="elite-only"?"bg-purple-600/20 text-purple-400":"bg-green-600/20 text-green-400"}`,children:y.badge})]}),n.jsx("p",{className:"text-ivory/70 text-sm mb-3",children:y.description}),n.jsxs("div",{className:"flex items-center gap-4",children:[y.commission&&n.jsx("span",{className:"text-gold text-xs",children:y.commission}),n.jsxs("span",{className:"text-ivory/40 text-xs flex items-center gap-1",children:["Visit ",n.jsx(Ms,{className:"w-3 h-3"})]})]})]})]},y.id))}),!r&&n.jsx("div",{className:"mt-12 card-dark p-8 border-gold/30",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-serif text-xl text-gold mb-2 flex items-center gap-2",children:[n.jsx(Ds,{className:"w-5 h-5"}),"Unlock Elite-Only Partners"]}),n.jsx("p",{className:"text-ivory/70",children:"Get access to verified residency consultants, offshore banking specialists, and exclusive service providers."})]}),n.jsx("a",{href:"/join",className:"btn-gold whitespace-nowrap",children:"Upgrade to Elite"})]})}),n.jsx("div",{className:"mt-16 text-center",children:n.jsxs("p",{className:"text-ivory/40 text-sm max-w-2xl mx-auto",children:[n.jsx("strong",{children:"Affiliate Disclosure:"})," Brothers of the Passport participates in affiliate marketing programs. We may earn commissions when you use our partner links. This comes at no extra cost to you and helps support our community. We only recommend services we trust and use ourselves."]})})]})})},Xc=[{id:"tax",icon:n.jsx(by,{className:"w-6 h-6"}),title:"Tax Optimization",description:"Connect with international tax specialists for structuring advice.",examples:["Offshore company setup","Tax residency planning","Crypto tax strategy"]},{id:"residency",icon:n.jsx(ui,{className:"w-6 h-6"}),title:"Second Residency",description:"Navigate citizenship by investment and residency programs.",examples:["Golden Visa (Portugal/Spain)","Digital nomad visas","Tax-friendly residencies"]},{id:"realestate",icon:n.jsx(wy,{className:"w-6 h-6"}),title:"Real Estate",description:"Investment properties and relocation housing worldwide.",examples:["Rental property investments","Relocation home search","Commercial real estate"]},{id:"business",icon:n.jsx(Fm,{className:"w-6 h-6"}),title:"Business Structure",description:"Offshore company formation and banking setup.",examples:["HK/Singapore companies","US LLC for non-residents","Banking introductions"]},{id:"networking",icon:n.jsx(Ls,{className:"w-6 h-6"}),title:"Introductions",description:"Warm introductions to vetted professionals worldwide.",examples:["Lawyers in target countries","Accountants & tax advisors","Local fixers"]}],mw=()=>{const l=wn(),[a,r]=B.useState(""),[o,d]=B.useState({type:"",details:"",budget:"",timeline:""}),[h,f]=B.useState(!1),[g,v]=B.useState(!1);B.useState(()=>{Bs().then(j=>{j?.role!=="elite"&&j?.role!=="admin"&&l("/dashboard")})});const y=async j=>{j.preventDefault(),v(!0);try{(await fetch("/api/elite/concierge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,serviceType:a,submittedAt:new Date().toISOString()})})).ok&&f(!0)}catch(b){console.error("Submit error:",b)}finally{v(!1)}};return h?n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsx("div",{className:"max-w-2xl mx-auto text-center",children:n.jsxs("div",{className:"card-dark p-12",children:[n.jsx("div",{className:"w-20 h-20 bg-gold/20 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(zs,{className:"w-10 h-10 text-gold"})}),n.jsx("h1",{className:"font-serif text-3xl text-gold mb-4",children:"Request Received"}),n.jsx("p",{className:"text-ivory/70 mb-6",children:"Your concierge request has been submitted. Our team will review it and connect you with the right specialist within 24-48 hours."}),n.jsxs("div",{className:"bg-gold/10 border border-gold/30 p-4 rounded-lg",children:[n.jsx("p",{className:"text-gold",children:"Priority: ELITE"}),n.jsx("p",{className:"text-ivory/60 text-sm",children:"Response time: 24-48 hours"})]}),n.jsx("button",{onClick:()=>l("/dashboard"),className:"btn-gold mt-8",children:"Back to Dashboard"})]})})}):n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 bg-gold/20 text-gold px-4 py-2 rounded-full text-sm font-medium mb-4",children:[n.jsx(fn,{className:"w-4 h-4"}),"ELITE MEMBER"]}),n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:"Elite Concierge"}),n.jsx("p",{className:"text-ivory/70 max-w-2xl mx-auto",children:"Submit high-value requests for tax optimization, residency planning, real estate, and business structuring. We'll connect you with vetted specialists."})]}),a?n.jsxs("div",{className:"card-dark p-8",children:[n.jsx("button",{onClick:()=>r(""),className:"text-ivory/60 hover:text-gold text-sm mb-6",children:" Back to services"}),n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-2",children:Xc.find(j=>j.id===a)?.title}),n.jsx("p",{className:"text-ivory/60 mb-8",children:Xc.find(j=>j.id===a)?.description}),n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Tell us about your situation"}),n.jsx("textarea",{required:!0,rows:5,value:o.details,onChange:j=>d({...o,details:j.target.value}),placeholder:"What are you looking to achieve? Any specific countries or requirements?",className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none resize-none"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Budget Range (optional)"}),n.jsxs("select",{value:o.budget,onChange:j=>d({...o,budget:j.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none",children:[n.jsx("option",{value:"",children:"Select budget"}),n.jsx("option",{value:"under-5k",children:"Under $5,000"}),n.jsx("option",{value:"5k-25k",children:"$5,000 - $25,000"}),n.jsx("option",{value:"25k-100k",children:"$25,000 - $100,000"}),n.jsx("option",{value:"100k+",children:"$100,000+"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Timeline (optional)"}),n.jsxs("select",{value:o.timeline,onChange:j=>d({...o,timeline:j.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none",children:[n.jsx("option",{value:"",children:"Select timeline"}),n.jsx("option",{value:"asap",children:"ASAP"}),n.jsx("option",{value:"1-3-months",children:"1-3 months"}),n.jsx("option",{value:"3-6-months",children:"3-6 months"}),n.jsx("option",{value:"6-12-months",children:"6-12 months"}),n.jsx("option",{value:"flexible",children:"Flexible"})]})]})]}),n.jsxs("div",{className:"bg-gold/10 border border-gold/30 p-4 rounded-lg",children:[n.jsxs("p",{className:"text-gold text-sm flex items-center gap-2",children:[n.jsx(fn,{className:"w-4 h-4"}),"Elite Priority Response"]}),n.jsx("p",{className:"text-ivory/60 text-sm mt-1",children:"Our team will review your request and connect you with 2-3 vetted specialists within 24-48 hours."})]}),n.jsx("button",{type:"submit",disabled:g,className:"btn-gold w-full flex items-center justify-center gap-2 disabled:opacity-50",children:g?"Submitting...":n.jsxs(n.Fragment,{children:[n.jsx(ur,{className:"w-4 h-4"}),"Submit Request"]})})]})]}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Xc.map(j=>n.jsxs("button",{onClick:()=>{r(j.id),d({...o,type:j.title})},className:"card-dark p-6 text-left hover:border-gold/30 transition-colors",children:[n.jsx("div",{className:"text-gold mb-4",children:j.icon}),n.jsx("h3",{className:"font-serif text-xl text-ivory mb-2",children:j.title}),n.jsx("p",{className:"text-ivory/60 text-sm mb-4",children:j.description}),n.jsx("div",{className:"space-y-1",children:j.examples.map(b=>n.jsx("span",{className:"inline-block text-xs text-ivory/40 bg-charcoal px-2 py-1 rounded mr-2",children:b},b))})]},j.id))})]})})},Jm=[{id:"featured",name:"Featured Partner",price:"$2,500/month",description:"Premium placement across the platform",features:["Tools & Perks page listing","Newsletter feature (1x/month)","Dashboard widget placement","City guide mentions","Member discount code","Analytics dashboard"],highlighted:!1},{id:"sponsor",name:"City Sponsor",price:"$5,000/month",description:"Exclusive city-level partnership",features:["Everything in Featured","Exclusive city sponsorship (1 city)","Dedicated city guide page","Event co-hosting rights","Direct member introductions","Quarterly strategy call"],highlighted:!0},{id:"premium",name:"Premium Partner",price:"Custom",description:"Full platform integration",features:["Everything in City Sponsor","Multi-city coverage","White-label integrations","API access","Dedicated account manager","Annual strategy retreat"],highlighted:!1}],gw=[{label:"Members",value:"2,000+",icon:n.jsx(Ls,{className:"w-5 h-5"})},{label:"Countries",value:"80+",icon:n.jsx(ui,{className:"w-5 h-5"})},{label:"Avg. Income",value:"$150K+",icon:n.jsx(dr,{className:"w-5 h-5"})},{label:"Satisfaction",value:"4.8/5",icon:n.jsx(sg,{className:"w-5 h-5"})}],pw=()=>{const[l,a]=B.useState({company:"",name:"",email:"",website:"",package:"",message:""}),[r,o]=B.useState(!1),d=async h=>{h.preventDefault();try{await fetch("/api/partners/inquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),o(!0)}catch(f){console.error("Submit error:",f)}};return r?n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsx("div",{className:"max-w-2xl mx-auto text-center",children:n.jsxs("div",{className:"card-dark p-12",children:[n.jsx("div",{className:"w-20 h-20 bg-gold/20 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(zs,{className:"w-10 h-10 text-gold"})}),n.jsx("h1",{className:"font-serif text-3xl text-gold mb-4",children:"Inquiry Received"}),n.jsx("p",{className:"text-ivory/70 mb-6",children:"Thank you for your interest in partnering with Brothers of the Passport. Our partnerships team will review your inquiry and respond within 2 business days."}),n.jsx("a",{href:"/",className:"btn-gold",children:"Back to Home"})]})})}):n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:"Partner With Us"}),n.jsx("p",{className:"text-ivory/70 max-w-2xl mx-auto",children:"Reach a curated community of high-performing, internationally-minded men. Our members are decision-makers with global ambitions."})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-16",children:gw.map(h=>n.jsxs("div",{className:"card-dark p-6 text-center",children:[n.jsx("div",{className:"text-gold mb-2 flex justify-center",children:h.icon}),n.jsx("div",{className:"font-serif text-3xl text-ivory mb-1",children:h.value}),n.jsx("div",{className:"text-ivory/50 text-sm",children:h.label})]},h.label))}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory text-center mb-8",children:"Partnership Packages"}),n.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:Jm.map(h=>n.jsxs("div",{className:`card-dark p-8 ${h.highlighted?"border-gold/50 relative":""}`,children:[h.highlighted&&n.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:n.jsx("span",{className:"bg-gold text-charcoal text-xs font-semibold px-4 py-1 rounded-full",children:"Most Popular"})}),n.jsx("h3",{className:"font-serif text-2xl text-ivory mb-2",children:h.name}),n.jsx("p",{className:"text-gold text-xl font-semibold mb-4",children:h.price}),n.jsx("p",{className:"text-ivory/60 text-sm mb-6",children:h.description}),n.jsx("ul",{className:"space-y-3 mb-8",children:h.features.map(f=>n.jsxs("li",{className:"flex items-start gap-2 text-ivory/80 text-sm",children:[n.jsx(zs,{className:"w-4 h-4 text-gold mt-0.5 flex-shrink-0"}),f]},f))}),n.jsx("button",{onClick:()=>{a({...l,package:h.id}),document.getElementById("inquiry-form")?.scrollIntoView({behavior:"smooth"})},className:`w-full py-3 rounded font-medium transition-all ${h.highlighted?"bg-gold text-charcoal hover:shadow-gold":"border border-gold text-gold hover:bg-gold/10"}`,children:"Get Started"})]},h.id))})]}),n.jsxs("div",{className:"card-dark p-8 mb-16",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-6",children:"Ideal Partners"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-gold font-medium mb-3",children:"We Work With"}),n.jsxs("ul",{className:"space-y-2 text-ivory/70",children:[n.jsx("li",{children:" Premium travel and hospitality brands"}),n.jsx("li",{children:" Financial services (banking, investing, crypto)"}),n.jsx("li",{children:" Residency and citizenship consultants"}),n.jsx("li",{children:" Real estate investment firms"}),n.jsx("li",{children:" Lifestyle and productivity tools"}),n.jsx("li",{children:" Health and insurance providers"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-gold font-medium mb-3",children:"What Our Members Value"}),n.jsxs("ul",{className:"space-y-2 text-ivory/70",children:[n.jsx("li",{children:" Quality over quantity"}),n.jsx("li",{children:" Transparency and trust"}),n.jsx("li",{children:" Global accessibility"}),n.jsx("li",{children:" Time-saving solutions"}),n.jsx("li",{children:" Exclusive member benefits"}),n.jsx("li",{children:" No-nonsense communication"})]})]})]})]}),n.jsxs("div",{id:"inquiry-form",className:"card-dark p-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-2",children:"Partner Inquiry"}),n.jsx("p",{className:"text-ivory/60 mb-8",children:"Tell us about your company and how you'd like to partner with Brothers of the Passport."}),n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Company Name *"}),n.jsx("input",{type:"text",required:!0,value:l.company,onChange:h=>a({...l,company:h.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none",placeholder:"Your company"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Your Name *"}),n.jsx("input",{type:"text",required:!0,value:l.name,onChange:h=>a({...l,name:h.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none",placeholder:"Full name"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Email *"}),n.jsx("input",{type:"email",required:!0,value:l.email,onChange:h=>a({...l,email:h.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none",placeholder:"you@company.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Website"}),n.jsx("input",{type:"url",value:l.website,onChange:h=>a({...l,website:h.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none",placeholder:"https://yourcompany.com"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Interested Package"}),n.jsxs("select",{value:l.package,onChange:h=>a({...l,package:h.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none",children:[n.jsx("option",{value:"",children:"Select a package"}),Jm.map(h=>n.jsxs("option",{value:h.id,children:[h.name," - ",h.price]},h.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-ivory/70 mb-2",children:"Message"}),n.jsx("textarea",{rows:4,value:l.message,onChange:h=>a({...l,message:h.target.value}),className:"w-full bg-charcoal border border-white/10 rounded px-4 py-3 text-ivory focus:border-gold focus:outline-none resize-none",placeholder:"Tell us about your company and partnership goals..."})]}),n.jsxs("button",{type:"submit",className:"btn-gold w-full flex items-center justify-center gap-2",children:[n.jsx(ur,{className:"w-4 h-4"}),"Submit Inquiry"]})]})]}),n.jsx("div",{className:"mt-12 text-center",children:n.jsxs("p",{className:"text-ivory/60",children:["Prefer email? Contact our partnerships team at"," ",n.jsx("a",{href:"mailto:partners@brothersofthepassport.com",className:"text-gold hover:underline",children:"partners@brothersofthepassport.com"})]})})]})})},zg=[{slug:"best-countries-digital-nomads-2025",title:"The 15 Best Countries for Digital Nomads in 2025",description:"Comprehensive rankings based on cost of living, visa options, internet speed, and quality of life.",category:"topic",content:"",tags:["digital nomad","countries","rankings","2025"],publishedAt:"2025-01-15",updatedAt:"2025-01-15",readTime:"15 min",featured:!0},{slug:"portugal-golden-visa-guide",title:"Portugal Golden Visa: Complete 2025 Guide",description:"Everything you need to know about Portugal's residency by investment program.",category:"topic",content:"",tags:["portugal","golden visa","residency","investment"],publishedAt:"2025-01-10",updatedAt:"2025-01-10",readTime:"12 min",featured:!0},{slug:"thailand-visa-options",title:"Thailand Visa Options for Long-Term Stays",description:"From tourist visas to the Long-Term Resident visa - find your path to living in Thailand.",category:"topic",content:"",tags:["thailand","visa","long-term","southeast asia"],publishedAt:"2025-01-08",updatedAt:"2025-01-08",readTime:"10 min",featured:!1},{slug:"offshore-banking-basics",title:"Offshore Banking for Beginners: A Practical Guide",description:"Learn the fundamentals of international banking without the complexity.",category:"topic",content:"",tags:["banking","offshore","finance","privacy"],publishedAt:"2025-01-05",updatedAt:"2025-01-05",readTime:"8 min",featured:!0},{slug:"tax-residency-explained",title:"Tax Residency: What Every Nomad Needs to Know",description:"Understanding tax obligations when living abroad.",category:"topic",content:"",tags:["tax","residency","compliance","finance"],publishedAt:"2025-01-03",updatedAt:"2025-01-03",readTime:"11 min",featured:!1},{slug:"mexico-temporary-resident-visa",title:"Mexico Temporary Resident Visa: Step-by-Step",description:"How to obtain Mexican residency with income requirements and process timeline.",category:"topic",content:"",tags:["mexico","visa","residency","latin america"],publishedAt:"2025-01-01",updatedAt:"2025-01-01",readTime:"9 min",featured:!1},{slug:"credit-cards-travel",title:"Best Credit Cards for International Travelers",description:"Maximize points, minimize fees with these traveler-friendly cards.",category:"topic",content:"",tags:["credit cards","travel","points","finance"],publishedAt:"2024-12-28",updatedAt:"2024-12-28",readTime:"7 min",featured:!1},{slug:"dating-abroad-guide",title:"Dating Abroad: A Respectful Approach",description:"Navigating relationships in foreign countries with cultural sensitivity.",category:"topic",content:"",tags:["dating","culture","relationships","lifestyle"],publishedAt:"2024-12-20",updatedAt:"2024-12-20",readTime:"10 min",featured:!1},{slug:"cost-living-comparison-2025",title:"Cost of Living Comparison: 20 Popular Nomad Cities",description:"Real numbers on what it costs to live well in top destinations.",category:"topic",content:"",tags:["cost of living","comparison","budget","cities"],publishedAt:"2024-12-15",updatedAt:"2024-12-15",readTime:"14 min",featured:!0},{slug:"second-passport-options",title:"Second Passport Options: Citizenship by Investment & Descent",description:"Explore pathways to dual citizenship and their requirements.",category:"topic",content:"",tags:["citizenship","passport","investment","descent"],publishedAt:"2024-12-10",updatedAt:"2024-12-10",readTime:"13 min",featured:!0}],bn=[{slug:"lisbon-portugal",city:"Lisbon",country:"Portugal",region:"Europe",why:"Lisbon offers an unbeatable combination of European charm, affordable living, excellent weather, and a thriving expat community. The city has become a hub for digital nomads and entrepreneurs seeking EU base.",costOfLiving:{accommodation:"800-1,500/month (1BR apartment)",food:"300-500/month",transport:"40/month (monthly pass)",total:"1,500-2,500/month"},visa:{requirements:"D7 Passive Income Visa or Digital Nomad Visa",duration:"1 year renewable, path to permanent residency",notes:"Proof of 760/month income required for D7"},lifestyle:"Laid-back Mediterranean lifestyle with world-class food, wine, and culture. Excellent coworking spaces and a strong English-speaking community.",risks:["Rising costs due to popularity","Bureaucracy can be slow","Summer tourist crowds"],perks:["NHR tax regime (0% on foreign income for 10 years)","Member rates at select coworking spaces","Introductions to local accountants"],affiliateLinks:{flights:"https://www.skyscanner.com/flights-to/lis",hotels:"https://www.booking.com/city/pt/lisbon.html",insurance:"https://safetywing.com/nomad-insurance"}},{slug:"porto-portugal",city:"Porto",country:"Portugal",region:"Europe",why:"Portugal's second city offers lower costs than Lisbon with authentic charm, famous wine culture, and a growing tech scene.",costOfLiving:{accommodation:"600-1,200/month",food:"250-400/month",transport:"30/month",total:"1,200-2,000/month"},visa:{requirements:"Same as Lisbon - D7 or Digital Nomad Visa",duration:"1 year renewable",notes:"Lower cost of living makes income requirements easier"},lifestyle:"More relaxed than Lisbon, excellent for wine lovers, beautiful riverfront, strong student population.",risks:["Smaller expat community than Lisbon","More rain than southern Portugal","Fewer international flights"],perks:["Same NHR tax benefits","Wine country access","Lower living costs"],affiliateLinks:{flights:"https://www.skyscanner.com/flights-to/opo",hotels:"https://www.booking.com/city/pt/porto.html",insurance:"https://safetywing.com/nomad-insurance"}},{slug:"bangkok-thailand",city:"Bangkok",country:"Thailand",region:"Southeast Asia",why:"Southeast Asia's most cosmopolitan city offers world-class infrastructure, incredible food, affordable luxury, and excellent connectivity.",costOfLiving:{accommodation:"$500-1,500/month",food:"$200-400/month",transport:"$50/month",total:"$1,000-2,500/month"},visa:{requirements:"Thailand Pass (60 days) or Long-Term Resident Visa",duration:"Up to 10 years with LTR",notes:"LTR requires $80K income or $1M investment"},lifestyle:"24/7 city with everything you need. Amazing street food, modern malls, vibrant nightlife, and easy regional travel.",risks:["Air pollution (seasonal)","Traffic congestion","Language barrier outside tourist areas"],perks:["Member rates at serviced apartments","Airport fast-track service","Introductions to visa agents"],affiliateLinks:{flights:"https://www.skyscanner.com/flights-to/bkk",hotels:"https://www.booking.com/city/th/bangkok.html",insurance:"https://safetywing.com/nomad-insurance"}},{slug:"chiang-mai-thailand",city:"Chiang Mai",country:"Thailand",region:"Southeast Asia",why:"The original digital nomad hub. Low costs, great infrastructure, mountain scenery, and a massive expat community.",costOfLiving:{accommodation:"$300-800/month",food:"$150-300/month",transport:"$100/month (scooter rental)",total:"$700-1,500/month"},visa:{requirements:"Same as Bangkok - Thailand Pass or LTR",duration:"60 days to 10 years",notes:"Very affordable for extended stays"},lifestyle:"Laid-back mountain town with excellent cafes, coworking spaces, and a strong nomad community.",risks:["Burning season (Feb-Apr) - poor air quality",'Getting stuck in the "nomad bubble"',"Limited international flights"],perks:["Coworking space discounts","Monthly meetups","Local fixer introductions"],affiliateLinks:{flights:"https://www.skyscanner.com/flights-to/cnx",hotels:"https://www.booking.com/city/th/chiang-mai.html",insurance:"https://safetywing.com/nomad-insurance"}},{slug:"mexico-city-mexico",city:"Mexico City",country:"Mexico",region:"Latin America",why:"One of the world's great cities with incredible culture, food, and affordability. Easy US time zones and direct flights.",costOfLiving:{accommodation:"$800-2,000/month",food:"$300-600/month",transport:"$30/month",total:"$1,500-3,000/month"},visa:{requirements:"Tourist visa (180 days) or Temporary Resident",duration:"4 years with Temporary Resident",notes:"Proof of $2,600/month income for residency"},lifestyle:"World-class museums, restaurants, and neighborhoods. Great weather year-round. Strong US expat community.",risks:["Earthquakes","Air pollution","Safety concerns in some areas"],perks:["Member rates in Roma/Condesa","Airport pickup service","Tax accountant referrals"],affiliateLinks:{flights:"https://www.skyscanner.com/flights-to/mex",hotels:"https://www.booking.com/city/mx/mexico-city.html",insurance:"https://safetywing.com/nomad-insurance"}},{slug:"playa-del-carmen-mexico",city:"Playa del Carmen",country:"Mexico",region:"Latin America",why:"Caribbean beaches with modern amenities. Popular with remote workers and retirees.",costOfLiving:{accommodation:"$600-1,500/month",food:"$250-500/month",transport:"$50/month",total:"$1,200-2,500/month"},visa:{requirements:"Same as Mexico City",duration:"180 days to 4 years",notes:"Popular with retirees and nomads"},lifestyle:"Beach lifestyle with good infrastructure. Easy access to Cozumel and Tulum.",risks:["Hurricane season","Sargassum seaweed (seasonal)","Tourist prices in some areas"],perks:["Beach club discounts","Ferry discounts to Cozumel","Diving/snorkeling deals"],affiliateLinks:{flights:"https://www.skyscanner.com/flights-to/cun",hotels:"https://www.booking.com/city/mx/playa-del-carmen.html",insurance:"https://safetywing.com/nomad-insurance"}},{slug:"dubai-uae",city:"Dubai",country:"United Arab Emirates",region:"Middle East",why:"Tax-free living, world-class infrastructure, and a strategic location between East and West.",costOfLiving:{accommodation:"$1,500-4,000/month",food:"$400-800/month",transport:"$100/month",total:"$2,500-6,000/month"},visa:{requirements:"Remote Work Visa or Freelance Permit",duration:"1 year renewable",notes:"$5,000/month income requirement"},lifestyle:"Luxury lifestyle with excellent infrastructure. Zero income tax. Great for networking.",risks:["High cost of living","Extreme summer heat","Cultural restrictions"],perks:["0% personal income tax","Business setup support","Networking event access"],affiliateLinks:{flights:"https://www.skyscanner.com/flights-to/dxb",hotels:"https://www.booking.com/city/ae/dubai.html",insurance:"https://safetywing.com/nomad-insurance"}},{slug:"tbilisi-georgia",city:"Tbilisi",country:"Georgia",region:"Europe/Asia",why:"One year visa-free for many nationalities. Low costs, great food and wine, unique culture.",costOfLiving:{accommodation:"$400-900/month",food:"$200-400/month",transport:"$20/month",total:"$800-1,500/month"},visa:{requirements:"Visa-free for US/EU citizens (365 days)",duration:"365 days",notes:"One of the easiest countries for long stays"},lifestyle:"Unique culture at the crossroads of Europe and Asia. Excellent food and wine scene.",risks:["Language barrier (Georgian is difficult)","Limited international flights","Bureaucracy for business"],perks:["1% tax on turnover for small business","Wine country tours","Mountain getaways"],affiliateLinks:{flights:"https://www.skyscanner.com/flights-to/tbs",hotels:"https://www.booking.com/city/ge/tbilisi.html",insurance:"https://safetywing.com/nomad-insurance"}},{slug:"medellin-colombia",city:"Medellin",country:"Colombia",region:"Latin America",why:"Eternal spring weather, low costs, growing nomad community, and a remarkable transformation story.",costOfLiving:{accommodation:"$500-1,200/month",food:"$200-400/month",transport:"$30/month",total:"$1,000-2,000/month"},visa:{requirements:"Digital Nomad Visa (up to 2 years)",duration:"Up to 2 years",notes:"$700/month income requirement"},lifestyle:"Perfect weather year-round. Modern infrastructure in El Poblado. Growing tech scene.",risks:["Safety concerns in some neighborhoods","Altitude (can affect some people)","Language barrier"],perks:["Coworking discounts","Coffee region tours","Local mentor network"],affiliateLinks:{flights:"https://www.skyscanner.com/flights-to/mde",hotels:"https://www.booking.com/city/co/medellin.html",insurance:"https://safetywing.com/nomad-insurance"}},{slug:"bali-indonesia",city:"Bali",country:"Indonesia",region:"Southeast Asia",why:"The spiritual home of digital nomads. Tropical paradise with strong infrastructure.",costOfLiving:{accommodation:"$500-1,500/month",food:"$200-500/month",transport:"$100/month (scooter)",total:"$1,000-2,500/month"},visa:{requirements:"B211a Visa (6 months) or Second Home Visa",duration:"6 months to 5 years",notes:"Second Home requires $130K in Indonesian assets"},lifestyle:"Tropical paradise with yoga, surfing, and healthy living. Strong nomad community.",risks:["Tourist visa runs","Traffic in popular areas","Rising costs in Canggu/Seminyak"],perks:["Villa rental discounts","Coworking space deals","Surf/yoga retreat discounts"],affiliateLinks:{flights:"https://www.skyscanner.com/flights-to/dps",hotels:"https://www.booking.com/region/id/bali.html",insurance:"https://safetywing.com/nomad-insurance"}}];function vw(){return zg.filter(l=>l.featured)}function Lg(l){return bn.find(a=>a.slug===l)}function Bg(){const l={};return bn.forEach(a=>{l[a.country]=(l[a.country]||0)+1}),Object.entries(l).map(([a,r])=>({name:a,slug:a.toLowerCase().replace(/\s+/g,"-"),cityCount:r}))}function yw(l,a=3){const r=Lg(l);return r?bn.filter(o=>o.slug!==l&&o.country===r.country).slice(0,a):[]}const xw=()=>{const[l,a]=B.useState(""),[r,o]=B.useState("all"),d=vw(),h=Bg(),f=zg.filter(g=>{const v=g.title.toLowerCase().includes(l.toLowerCase())||g.tags.some(j=>j.includes(l.toLowerCase())),y=r==="all"||g.category===r;return v&&y});return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:"Guides & Insights"}),n.jsx("p",{className:"text-ivory/70 max-w-2xl mx-auto",children:"Expert knowledge on visas, residencies, cost of living, and the nomad lifestyle. Written for men who want actionable information."})]}),n.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:n.jsxs("div",{className:"relative",children:[n.jsx(Zc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-ivory/40"}),n.jsx("input",{type:"text",placeholder:"Search guides, countries, topics...",value:l,onChange:g=>a(g.target.value),className:"w-full bg-charcoal border border-white/10 rounded-lg pl-12 pr-4 py-4 text-ivory focus:border-gold focus:outline-none"})]})}),n.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:["all","topic","country","city"].map(g=>n.jsx("button",{onClick:()=>o(g),className:`px-4 py-2 rounded-lg font-medium capitalize transition-all ${r===g?"bg-gold text-charcoal":"bg-charcoal-light text-ivory/70 hover:text-ivory"}`,children:g==="all"?"All Guides":g},g))}),!l&&r==="all"&&n.jsxs("div",{className:"mb-16",children:[n.jsxs("h2",{className:"font-serif text-2xl text-ivory mb-6 flex items-center gap-2",children:[n.jsx(dr,{className:"w-6 h-6 text-gold"}),"Featured Guides"]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(g=>n.jsx(Pm,{guide:g},g.slug))})]}),!l&&(r==="all"||r==="country")&&n.jsxs("div",{className:"mb-16",children:[n.jsxs("h2",{className:"font-serif text-2xl text-ivory mb-6 flex items-center gap-2",children:[n.jsx(ci,{className:"w-6 h-6 text-gold"}),"Explore by Country"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:h.map(g=>n.jsxs("a",{href:`/city-guides/${g.slug}`,className:"card-dark p-4 hover:border-gold/30 transition-colors text-center",children:[n.jsx("h3",{className:"font-serif text-lg text-ivory",children:g.name}),n.jsxs("p",{className:"text-ivory/50 text-sm",children:[g.cityCount," cities"]})]},g.slug))})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"font-serif text-2xl text-ivory mb-6 flex items-center gap-2",children:[n.jsx(du,{className:"w-6 h-6 text-gold"}),l?"Search Results":"All Guides"]}),f.length>0?n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(g=>n.jsx(Pm,{guide:g},g.slug))}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-ivory/50",children:"No guides found. Try a different search."})})]}),n.jsx("div",{className:"mt-16 card-dark p-8 border-gold/30",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-serif text-xl text-gold mb-2",children:"Get Full Access"}),n.jsx("p",{className:"text-ivory/70",children:"Members get exclusive city guides, verified resources, and insider information."})]}),n.jsx("a",{href:"/join",className:"btn-gold whitespace-nowrap",children:"Become a Member"})]})})]})})},Pm=({guide:l})=>n.jsxs("a",{href:`/guides/${l.slug}`,className:"card-dark p-6 hover:border-gold/30 transition-colors flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("span",{className:"text-xs text-gold uppercase tracking-wider",children:l.category}),l.featured&&n.jsx("span",{className:"text-xs bg-gold/20 text-gold px-2 py-0.5 rounded",children:"Featured"})]}),n.jsx("h3",{className:"font-serif text-xl text-ivory mb-3 flex-grow",children:l.title}),n.jsx("p",{className:"text-ivory/60 text-sm mb-4",children:l.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-ivory/50",children:[n.jsx(ig,{className:"w-4 h-4"}),l.readTime]}),n.jsxs("span",{className:"text-gold flex items-center gap-1",children:["Read ",n.jsx(hu,{className:"w-4 h-4"})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:l.tags.slice(0,3).map(a=>n.jsx("span",{className:"text-xs text-ivory/40 bg-charcoal px-2 py-1 rounded",children:a},a))})]}),Jc=()=>{const{country:l,city:a}=Ry(),[r,o]=B.useState(null),[d,h]=B.useState([]);if(B.useEffect(()=>{if(h(Bg()),a){const f=Lg(a);o(f||null)}},[a,l]),l&&!a){const f=bn.filter(v=>v.country.toLowerCase().replace(/\s+/g,"-")===l),g=f[0]?.country||l;return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("a",{href:"/city-guides",className:"text-ivory/60 hover:text-gold flex items-center gap-2 mb-6",children:[n.jsx(jy,{className:"w-4 h-4"}),"All City Guides"]}),n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:g}),n.jsxs("p",{className:"text-ivory/70 max-w-2xl mb-12",children:["Explore cities in ",g,". Detailed cost breakdowns, visa information, and member-exclusive perks."]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(v=>n.jsxs("a",{href:`/city-guides/${l}/${v.slug}`,className:"card-dark p-6 hover:border-gold/30 transition-colors",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-2",children:v.city}),n.jsx("p",{className:"text-gold mb-4",children:v.costOfLiving.total}),n.jsx("p",{className:"text-ivory/60 text-sm line-clamp-2",children:v.why})]},v.slug))})]})})}if(r){const f=yw(r.slug,2);return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-ivory/60 mb-6",children:[n.jsx("a",{href:"/city-guides",className:"hover:text-gold",children:"City Guides"}),n.jsx("span",{children:"/"}),n.jsx("a",{href:`/city-guides/${r.country.toLowerCase().replace(/\s+/g,"-")}`,className:"hover:text-gold",children:r.country}),n.jsx("span",{children:"/"}),n.jsx("span",{className:"text-ivory",children:r.city})]}),n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gold mb-4",children:[n.jsx(ci,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm uppercase tracking-wider",children:r.region})]}),n.jsxs("h1",{className:"font-serif text-4xl md:text-6xl text-ivory mb-4",children:[r.city,", ",r.country]}),n.jsx("p",{className:"text-ivory/70 text-lg",children:r.why})]}),n.jsxs("div",{className:"card-dark p-8 mb-8",children:[n.jsxs("h2",{className:"font-serif text-2xl text-gold mb-6 flex items-center gap-2",children:[n.jsx(ag,{className:"w-6 h-6"}),"Cost of Living"]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-ivory/50 text-sm mb-1",children:"Accommodation"}),n.jsx("p",{className:"text-ivory font-medium",children:r.costOfLiving.accommodation})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-ivory/50 text-sm mb-1",children:"Food"}),n.jsx("p",{className:"text-ivory font-medium",children:r.costOfLiving.food})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-ivory/50 text-sm mb-1",children:"Transport"}),n.jsx("p",{className:"text-ivory font-medium",children:r.costOfLiving.transport})]}),n.jsxs("div",{className:"bg-gold/10 p-4 rounded-lg",children:[n.jsx("p",{className:"text-gold text-sm mb-1",children:"Total Monthly"}),n.jsx("p",{className:"text-gold font-semibold text-lg",children:r.costOfLiving.total})]})]})]}),n.jsxs("div",{className:"card-dark p-8 mb-8",children:[n.jsxs("h2",{className:"font-serif text-2xl text-gold mb-6 flex items-center gap-2",children:[n.jsx(ng,{className:"w-6 h-6"}),"Visa Requirements"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-ivory/50 text-sm mb-1",children:"Requirements"}),n.jsx("p",{className:"text-ivory",children:r.visa.requirements})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-ivory/50 text-sm mb-1",children:"Duration"}),n.jsx("p",{className:"text-ivory",children:r.visa.duration})]}),n.jsxs("div",{className:"bg-charcoal p-4 rounded-lg",children:[n.jsx("p",{className:"text-ivory/50 text-sm mb-1",children:"Notes"}),n.jsx("p",{className:"text-ivory/80",children:r.visa.notes})]})]})]}),n.jsxs("div",{className:"card-dark p-8 mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-gold mb-4",children:"Lifestyle"}),n.jsx("p",{className:"text-ivory/80 leading-relaxed",children:r.lifestyle})]}),n.jsxs("div",{className:"card-dark p-8 mb-8 border-red-500/20",children:[n.jsxs("h2",{className:"font-serif text-2xl text-red-400 mb-6 flex items-center gap-2",children:[n.jsx(_y,{className:"w-6 h-6"}),"Considerations"]}),n.jsx("ul",{className:"space-y-2",children:r.risks.map((g,v)=>n.jsxs("li",{className:"flex items-start gap-2 text-ivory/70",children:[n.jsx("span",{className:"text-red-400 mt-1",children:""}),g]},v))})]}),n.jsxs("div",{className:"card-dark p-8 mb-8 border-gold/30",children:[n.jsxs("h2",{className:"font-serif text-2xl text-gold mb-6 flex items-center gap-2",children:[n.jsx(Wc,{className:"w-6 h-6"}),"Member Perks"]}),n.jsx("ul",{className:"space-y-3",children:r.perks.map((g,v)=>n.jsxs("li",{className:"flex items-start gap-2 text-ivory/80",children:[n.jsx(Wc,{className:"w-4 h-4 text-gold mt-1 flex-shrink-0"}),g]},v))})]}),n.jsxs("div",{className:"card-dark p-8 mb-8",children:[n.jsx("h2",{className:"font-serif text-2xl text-gold mb-6",children:"Book Your Trip"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("a",{href:r.affiliateLinks.flights,target:"_blank",rel:"noopener noreferrer",onClick:()=>ir("skyscanner","flight"),className:"flex items-center gap-3 p-4 bg-charcoal rounded-lg hover:bg-charcoal-light transition-colors",children:[n.jsx(oi,{className:"w-5 h-5 text-gold"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-ivory font-medium",children:"Flights"}),n.jsx("p",{className:"text-ivory/50 text-sm",children:"Compare prices"})]}),n.jsx(Ms,{className:"w-4 h-4 text-ivory/40 ml-auto"})]}),n.jsxs("a",{href:r.affiliateLinks.hotels,target:"_blank",rel:"noopener noreferrer",onClick:()=>ir("booking","hotel"),className:"flex items-center gap-3 p-4 bg-charcoal rounded-lg hover:bg-charcoal-light transition-colors",children:[n.jsx(Pc,{className:"w-5 h-5 text-gold"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-ivory font-medium",children:"Hotels"}),n.jsx("p",{className:"text-ivory/50 text-sm",children:"Member rates"})]}),n.jsx(Ms,{className:"w-4 h-4 text-ivory/40 ml-auto"})]}),n.jsxs("a",{href:r.affiliateLinks.insurance,target:"_blank",rel:"noopener noreferrer",onClick:()=>ir("safetywing","insurance"),className:"flex items-center gap-3 p-4 bg-charcoal rounded-lg hover:bg-charcoal-light transition-colors",children:[n.jsx(Ds,{className:"w-5 h-5 text-gold"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-ivory font-medium",children:"Insurance"}),n.jsx("p",{className:"text-ivory/50 text-sm",children:"Nomad coverage"})]}),n.jsx(Ms,{className:"w-4 h-4 text-ivory/40 ml-auto"})]})]})]}),f.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"font-serif text-2xl text-ivory mb-6",children:["Also in ",r.country]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:f.map(g=>n.jsxs("a",{href:`/city-guides/${g.country.toLowerCase().replace(/\s+/g,"-")}/${g.slug}`,className:"card-dark p-6 hover:border-gold/30 transition-colors",children:[n.jsx("h3",{className:"font-serif text-xl text-ivory mb-2",children:g.city}),n.jsx("p",{className:"text-gold",children:g.costOfLiving.total})]},g.slug))})]})]})})}return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:"City Guides"}),n.jsx("p",{className:"text-ivory/70 max-w-2xl mx-auto",children:"Detailed breakdowns of the world's best cities for location-independent living. Real costs, visa info, and member perks."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-6",children:"Browse by Country"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map(f=>n.jsxs("a",{href:`/city-guides/${f.slug}`,className:"card-dark p-6 hover:border-gold/30 transition-colors text-center",children:[n.jsx("h3",{className:"font-serif text-xl text-ivory mb-1",children:f.name}),n.jsxs("p",{className:"text-ivory/50 text-sm",children:[f.cityCount," cities"]})]},f.slug))})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-6",children:"All Cities"}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:bn.map(f=>n.jsxs("a",{href:`/city-guides/${f.country.toLowerCase().replace(/\s+/g,"-")}/${f.slug}`,className:"card-dark p-6 hover:border-gold/30 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gold text-sm mb-2",children:[n.jsx(ci,{className:"w-4 h-4"}),f.region]}),n.jsx("h3",{className:"font-serif text-xl text-ivory mb-1",children:f.city}),n.jsx("p",{className:"text-ivory/50 text-sm mb-3",children:f.country}),n.jsx("p",{className:"text-gold font-medium",children:f.costOfLiving.total})]},f.slug))})]})]})})},bw=[{title:"Respect First",description:"Treat all members with respect. Disagree without being disagreeable."},{title:"No Solicitation",description:"No unsolicited promotion, MLM, or spam. Share value, not pitches."},{title:"Confidentiality",description:"What's shared in the community stays in the community."},{title:"No Illegal Advice",description:"Share experiences, not legal advice. Consult professionals for decisions."},{title:"Quality Over Quantity",description:"Contribute meaningfully. One helpful post beats ten low-effort comments."}],ww=[{name:"General",description:"Introductions, casual chat, and community announcements.",icon:""},{name:"City Intel",description:"Real-time updates on cities, neighborhoods, and local tips.",icon:""},{name:"Visa & Residency",description:"Visa experiences, timelines, and document sharing.",icon:""},{name:"Finance & Tax",description:"Banking, investing, tax optimization discussions.",icon:""},{name:"Business",description:"Entrepreneurship, remote work, and business setup.",icon:""},{name:"Lifestyle",description:"Dating, health, fitness, and personal development.",icon:""},{name:"Deals & Perks",description:"Member-shared deals on flights, stays, and services.",icon:""}],jw=[{name:"Elite Lounge",description:"Private channel for ELITE members only.",icon:""},{name:"Verified Resources",description:"Direct access to vetted lawyers, accountants, and consultants.",icon:""},{name:"Deal Flow",description:"Investment opportunities and business partnerships.",icon:""}],_w=[{title:"Monthly Virtual Meetup",date:"Last Thursday of each month",time:"8 PM UTC",description:"Casual hangout with members worldwide.",type:"virtual"},{title:"Lisbon Meetup",date:"March 15, 2025",time:"7 PM WET",description:"In-person gathering for members in Portugal.",type:"in-person"},{title:"Bangkok Meetup",date:"April 20, 2025",time:"7 PM ICT",description:"Dinner and drinks in Sukhumvit.",type:"in-person"}],Nw=()=>{const[l,a]=B.useState(!1),[r,o]=B.useState("about");return B.useEffect(()=>{Bs().then(d=>{a(d?.role==="elite")})},[]),n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:"Community"}),n.jsx("p",{className:"text-ivory/70 max-w-2xl mx-auto",children:"Connect with 2,000+ brothers worldwide. Share intel, ask questions, and build relationships."})]}),n.jsx("div",{className:"card-dark p-8 mb-12 border-gold/30",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gold/20 rounded-full flex items-center justify-center",children:n.jsx(Ny,{className:"w-8 h-8 text-gold"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-serif text-xl text-ivory",children:"Join the Community"}),n.jsx("p",{className:"text-ivory/60",children:"Access our private Discord server"})]})]}),n.jsxs("a",{href:"https://discord.gg/brotherspassport",target:"_blank",rel:"noopener noreferrer",className:"btn-gold flex items-center gap-2",children:["Join Discord",n.jsx(Ms,{className:"w-4 h-4"})]})]})}),n.jsx("div",{className:"flex justify-center gap-4 mb-8",children:["about","rules","events"].map(d=>n.jsx("button",{onClick:()=>o(d),className:`px-6 py-3 rounded-lg font-medium capitalize transition-all ${r===d?"bg-gold text-charcoal":"bg-charcoal-light text-ivory/70 hover:text-ivory"}`,children:d},d))}),r==="about"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"font-serif text-2xl text-ivory mb-6 flex items-center gap-2",children:[n.jsx(Ls,{className:"w-6 h-6 text-gold"}),"Community Channels"]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:ww.map(d=>n.jsxs("div",{className:"card-dark p-4 flex items-start gap-3",children:[n.jsx("span",{className:"text-2xl",children:d.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-ivory font-medium",children:d.name}),n.jsx("p",{className:"text-ivory/60 text-sm",children:d.description})]})]},d.name))})]}),n.jsxs("div",{className:`${l?"":"opacity-50"}`,children:[n.jsxs("h2",{className:"font-serif text-2xl text-gold mb-6 flex items-center gap-2",children:[n.jsx(fn,{className:"w-6 h-6"}),"ELITE-Only Channels"]}),n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:jw.map(d=>n.jsxs("div",{className:"card-dark p-4 flex items-start gap-3 border-gold/30",children:[n.jsx("span",{className:"text-2xl",children:d.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-ivory font-medium",children:d.name}),n.jsx("p",{className:"text-ivory/60 text-sm",children:d.description})]})]},d.name))}),!l&&n.jsx("div",{className:"mt-4 text-center",children:n.jsx("a",{href:"/join",className:"text-gold hover:underline",children:"Upgrade to ELITE to access these channels "})})]})]}),r==="rules"&&n.jsxs("div",{children:[n.jsxs("h2",{className:"font-serif text-2xl text-ivory mb-6 flex items-center gap-2",children:[n.jsx(Ds,{className:"w-6 h-6 text-gold"}),"Community Guidelines"]}),n.jsx("div",{className:"space-y-4",children:bw.map((d,h)=>n.jsx("div",{className:"card-dark p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("span",{className:"w-8 h-8 bg-gold/20 rounded-full flex items-center justify-center text-gold font-semibold flex-shrink-0",children:h+1}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-ivory font-medium text-lg mb-1",children:d.title}),n.jsx("p",{className:"text-ivory/60",children:d.description})]})]})},d.title))}),n.jsxs("div",{className:"mt-8 card-dark p-6 border-red-500/20",children:[n.jsx("h3",{className:"text-red-400 font-medium mb-2",children:"Enforcement"}),n.jsx("p",{className:"text-ivory/70 text-sm",children:"Violations may result in warnings, temporary suspension, or permanent ban without refund. Moderators have final say. Report issues to @admin."})]})]}),r==="events"&&n.jsxs("div",{children:[n.jsxs("h2",{className:"font-serif text-2xl text-ivory mb-6 flex items-center gap-2",children:[n.jsx(mu,{className:"w-6 h-6 text-gold"}),"Upcoming Events"]}),n.jsx("div",{className:"space-y-4",children:_w.map(d=>n.jsx("div",{className:"card-dark p-6",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:`text-xs px-2 py-1 rounded ${d.type==="virtual"?"bg-blue-900/30 text-blue-400":"bg-green-900/30 text-green-400"}`,children:d.type})}),n.jsx("h3",{className:"text-ivory font-medium text-lg",children:d.title}),n.jsx("p",{className:"text-ivory/60 text-sm mb-2",children:d.description}),n.jsxs("p",{className:"text-gold text-sm",children:[d.date,"  ",d.time]})]}),n.jsx("button",{className:"px-4 py-2 border border-gold/40 text-gold rounded text-sm hover:bg-gold/10 transition-colors",children:"RSVP"})]})},d.title))}),n.jsxs("div",{className:"mt-8 text-center",children:[n.jsx("p",{className:"text-ivory/60 mb-4",children:"Want to host a meetup in your city?"}),n.jsx("a",{href:"mailto:community@brothersofthepassport.com",className:"text-gold hover:underline",children:"Contact our community team"})]})]})]})})},Sw=[{id:"1",title:"Monthly Global Hangout",description:"Casual virtual meetup with brothers from around the world. Share updates, ask questions, and connect.",date:"2025-02-27",time:"8:00 PM",timezone:"UTC",type:"virtual",attendees:127},{id:"2",title:"Lisbon Meetup",description:"In-person dinner and drinks for members in Portugal. Location shared with RSVPs.",date:"2025-03-15",time:"7:00 PM",timezone:"WET",type:"in-person",location:"Lisbon, Portugal",attendees:23,maxAttendees:30},{id:"3",title:"ELITE Strategy Session",description:"Monthly closed-door session for ELITE members. Topic: Tax Optimization Strategies for 2025.",date:"2025-02-20",time:"6:00 PM",timezone:"UTC",type:"elite-only",attendees:45},{id:"4",title:"Bangkok Nomad Dinner",description:"Monthly gathering in Sukhumvit. Network with fellow nomads and share city intel.",date:"2025-04-20",time:"7:00 PM",timezone:"ICT",type:"in-person",location:"Bangkok, Thailand",attendees:18,maxAttendees:25},{id:"5",title:"Mexico City Meetup",description:"Taco tour through Roma Norte followed by drinks. Perfect for newcomers to CDMX.",date:"2025-03-08",time:"6:30 PM",timezone:"CST",type:"in-person",location:"Mexico City, Mexico",attendees:31,maxAttendees:40},{id:"6",title:"Virtual: Banking Offshore",description:"Expert panel on international banking options. Q&A session included.",date:"2025-03-05",time:"7:00 PM",timezone:"UTC",type:"virtual",attendees:89}],Ew=()=>{const[l,a]=B.useState("all"),[r,o]=B.useState(Sw),d=r.filter(g=>l==="all"||g.type===l),h=g=>{o(r.map(v=>v.id===g?{...v,rsvped:!v.rsvped,attendees:v.rsvped?v.attendees-1:v.attendees+1}:v))},f=g=>new Date(g).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-gold mb-4",children:"Events"}),n.jsx("p",{className:"text-ivory/70 max-w-2xl mx-auto",children:"Virtual calls, city meetups, and ELITE-only sessions. Connect with brothers worldwide."})]}),n.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:["all","virtual","in-person","elite-only"].map(g=>n.jsx("button",{onClick:()=>a(g),className:`px-4 py-2 rounded-lg font-medium capitalize transition-all ${l===g?"bg-gold text-charcoal":"bg-charcoal-light text-ivory/70 hover:text-ivory"}`,children:g==="elite-only"?"ELITE Only":g},g))}),n.jsx("div",{className:"space-y-6",children:d.map(g=>n.jsx("div",{className:"card-dark p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6",children:[n.jsxs("div",{className:"flex-shrink-0 w-20 h-20 bg-gold/10 rounded-lg flex flex-col items-center justify-center",children:[n.jsx("span",{className:"text-gold text-xs uppercase",children:new Date(g.date).toLocaleDateString("en-US",{month:"short"})}),n.jsx("span",{className:"text-gold text-2xl font-bold",children:new Date(g.date).getDate()})]}),n.jsxs("div",{className:"flex-grow",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs("span",{className:`text-xs px-2 py-1 rounded ${g.type==="virtual"?"bg-blue-900/30 text-blue-400":g.type==="elite-only"?"bg-purple-900/30 text-purple-400":"bg-green-900/30 text-green-400"}`,children:[g.type==="virtual"&&n.jsx(Sy,{className:"w-3 h-3 inline mr-1"}),g.type==="in-person"&&n.jsx(ci,{className:"w-3 h-3 inline mr-1"}),g.type==="elite-only"&&" ",g.type]}),g.maxAttendees&&n.jsxs("span",{className:"text-xs text-ivory/50",children:[g.attendees,"/",g.maxAttendees," spots"]})]}),n.jsx("h2",{className:"font-serif text-2xl text-ivory mb-2",children:g.title}),n.jsx("p",{className:"text-ivory/70 mb-4",children:g.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-ivory/60 mb-4",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ig,{className:"w-4 h-4"}),f(g.date)," at ",g.time," ",g.timezone]}),g.location&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ci,{className:"w-4 h-4"}),g.location]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ls,{className:"w-4 h-4"}),g.attendees," attending"]})]})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx("button",{onClick:()=>h(g.id),className:`px-6 py-3 rounded-lg font-medium transition-all ${g.rsvped?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-gold text-charcoal hover:shadow-gold"}`,children:g.rsvped?n.jsxs(n.Fragment,{children:[n.jsx(zs,{className:"w-4 h-4 inline mr-1"}),"RSVPed"]}):"RSVP"})})]})},g.id))}),d.length===0&&n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-ivory/50",children:"No events found for this filter."})}),n.jsx("div",{className:"mt-12 card-dark p-8 border-gold/30",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-serif text-xl text-gold mb-2",children:"Host a Meetup"}),n.jsx("p",{className:"text-ivory/70",children:"Want to organize an event in your city? We provide support and promotion."})]}),n.jsxs("a",{href:"mailto:events@brothersofthepassport.com",className:"btn-gold whitespace-nowrap flex items-center gap-2",children:["Apply to Host",n.jsx(Ms,{className:"w-4 h-4"})]})]})})]})})},Tw=()=>{const l=wn(),[,a]=B.useState(null),[r,o]=B.useState(!0);B.useEffect(()=>{d()},[]);const d=async()=>{try{const f=await Bs();if(!f||!gr(f)){l("/dashboard");return}a(f)}catch(f){console.error("Error:",f),l("/login")}finally{o(!1)}};if(r)return n.jsx("div",{className:"min-h-screen bg-charcoal flex items-center justify-center",children:n.jsx("div",{className:"text-gold",children:"Loading..."})});const h=[{icon:n.jsx(ng,{className:"w-6 h-6"}),title:"Applications",description:"Review and manage membership applications",href:"/admin/applications",count:12},{icon:n.jsx(Ls,{className:"w-6 h-6"}),title:"Members",description:"View and manage active members",href:"/admin/members",count:2047},{icon:n.jsx(Ey,{className:"w-6 h-6"}),title:"Analytics",description:"View site analytics and metrics",href:"/admin/analytics"}];return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h1",{className:"font-serif text-3xl text-gold mb-2",children:"Admin Dashboard"}),n.jsx("p",{className:"text-ivory/60",children:"Manage your membership platform"})]}),n.jsxs("div",{className:"grid sm:grid-cols-3 gap-6 mb-12",children:[n.jsxs("div",{className:"card-dark p-6 text-center",children:[n.jsx("div",{className:"font-serif text-3xl text-gold mb-1",children:"80+"}),n.jsx("div",{className:"text-ivory/60 text-sm",children:"Countries"})]}),n.jsxs("div",{className:"card-dark p-6 text-center",children:[n.jsx("div",{className:"font-serif text-3xl text-gold mb-1",children:"2,047"}),n.jsx("div",{className:"text-ivory/60 text-sm",children:"Members"})]}),n.jsxs("div",{className:"card-dark p-6 text-center",children:[n.jsx("div",{className:"font-serif text-3xl text-gold mb-1",children:"$98K"}),n.jsx("div",{className:"text-ivory/60 text-sm",children:"Monthly Revenue"})]})]}),n.jsx("div",{className:"space-y-4",children:h.map(f=>n.jsxs("div",{className:"card-dark p-6 flex items-center justify-between cursor-pointer hover:border-gold/30 transition-colors",onClick:()=>l(f.href),children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"text-gold",children:f.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-serif text-lg text-ivory",children:f.title}),n.jsx("p",{className:"text-ivory/60 text-sm",children:f.description})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[f.count!==void 0&&n.jsx("span",{className:"bg-gold/20 text-gold px-3 py-1 rounded-full text-sm",children:f.count}),n.jsx(hu,{className:"w-5 h-5 text-ivory/40"})]})]},f.title))}),n.jsxs("div",{className:"mt-12",children:[n.jsx("h2",{className:"font-serif text-xl text-ivory mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx("a",{href:"/api/admin/export/members",className:"border border-gold/40 text-gold px-4 py-2 rounded text-sm hover:bg-gold/10 transition-colors",children:"Export Members CSV"}),n.jsx("a",{href:"/api/admin/export/applications",className:"border border-gold/40 text-gold px-4 py-2 rounded text-sm hover:bg-gold/10 transition-colors",children:"Export Applications CSV"})]})]})]})})},Aw={mrr:98550,arr:1182600,totalRevenue:456780,activeSubscriptions:2047,churnRate:3.2,avgRevenuePerUser:48.15,newSubscriptionsThisMonth:87,canceledThisMonth:23},Ow=[{month:"Jan",revenue:82e3,subs:1680},{month:"Feb",revenue:85e3,subs:1750},{month:"Mar",revenue:89e3,subs:1830},{month:"Apr",revenue:91e3,subs:1890},{month:"May",revenue:94e3,subs:1950},{month:"Jun",revenue:98550,subs:2047}],kw=[{tier:"PLUS",count:1650,revenue:80850,percentage:82},{tier:"ELITE",count:397,revenue:17700,percentage:18}],Cw=[{partner:"Booking.com",clicks:2450,revenue:3840},{partner:"SafetyWing",clicks:1890,revenue:4200},{partner:"Wise",clicks:1560,revenue:2340},{partner:"NordVPN",clicks:1230,revenue:4920},{partner:"Airalo",clicks:980,revenue:1470}],Rw=()=>{const l=wn(),[a]=B.useState(Aw),[r,o]=B.useState(!0);B.useEffect(()=>{d()},[]);const d=async()=>{try{const f=await Bs();if(!f||!gr(f)){l("/dashboard");return}}catch{l("/login")}finally{o(!1)}};if(r)return n.jsx("div",{className:"min-h-screen bg-charcoal flex items-center justify-center",children:n.jsx("div",{className:"text-gold",children:"Loading..."})});const h=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(f);return n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-12",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"font-serif text-3xl text-gold mb-2",children:"Revenue Dashboard"}),n.jsx("p",{className:"text-ivory/60",children:"Track MRR, subscriptions, and affiliate performance"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("select",{className:"bg-charcoal-light border border-white/10 rounded px-4 py-2 text-ivory",children:[n.jsx("option",{children:"Last 30 Days"}),n.jsx("option",{children:"Last 90 Days"}),n.jsx("option",{children:"Year to Date"}),n.jsx("option",{children:"All Time"})]}),n.jsxs("button",{className:"flex items-center gap-2 border border-gold/40 text-gold px-4 py-2 rounded hover:bg-gold/10",children:[n.jsx(lg,{className:"w-4 h-4"}),"Export"]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[n.jsx(tr,{title:"Monthly Recurring Revenue",value:h(a.mrr),change:"+4.8%",positive:!0,icon:n.jsx(dr,{className:"w-6 h-6"})}),n.jsx(tr,{title:"Annual Recurring Revenue",value:h(a.arr),change:"+5.2%",positive:!0,icon:n.jsx(mu,{className:"w-6 h-6"})}),n.jsx(tr,{title:"Active Subscriptions",value:a.activeSubscriptions.toLocaleString(),change:"+87 this month",positive:!0,icon:n.jsx(Ls,{className:"w-6 h-6"})}),n.jsx(tr,{title:"Churn Rate",value:`${a.churnRate}%`,change:"-0.3%",positive:!0,icon:n.jsx(fu,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-12",children:[n.jsxs("div",{className:"card-dark p-6",children:[n.jsx("h2",{className:"font-serif text-xl text-ivory mb-6",children:"Revenue Trend"}),n.jsx("div",{className:"h-64 flex items-end gap-4",children:Ow.map(f=>n.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[n.jsx("div",{className:"w-full bg-gold/60 rounded-t hover:bg-gold transition-colors",style:{height:`${f.revenue/1e5*200}px`}}),n.jsx("span",{className:"text-ivory/50 text-sm mt-2",children:f.month}),n.jsxs("span",{className:"text-gold text-xs",children:["$",(f.revenue/1e3).toFixed(0),"k"]})]},f.month))})]}),n.jsxs("div",{className:"card-dark p-6",children:[n.jsx("h2",{className:"font-serif text-xl text-ivory mb-6",children:"Subscription Tiers"}),n.jsx("div",{className:"space-y-6",children:kw.map(f=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-ivory font-medium",children:f.tier}),n.jsxs("span",{className:"text-gold",children:[h(f.revenue),"/mo"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-1 h-2 bg-charcoal-light rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gold rounded-full",style:{width:`${f.percentage}%`}})}),n.jsxs("span",{className:"text-ivory/60 text-sm w-16",children:[f.count," subs"]})]})]},f.tier))}),n.jsx("div",{className:"mt-6 pt-6 border-t border-white/10",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-ivory/60",children:"Average Revenue Per User"}),n.jsx("span",{className:"text-gold font-semibold",children:h(a.avgRevenuePerUser)})]})})]})]}),n.jsxs("div",{className:"card-dark p-6 mb-12",children:[n.jsx("h2",{className:"font-serif text-xl text-ivory mb-6",children:"Top Affiliate Partners"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left border-b border-white/10",children:[n.jsx("th",{className:"pb-4 text-ivory/60 font-medium",children:"Partner"}),n.jsx("th",{className:"pb-4 text-ivory/60 font-medium",children:"Clicks"}),n.jsx("th",{className:"pb-4 text-ivory/60 font-medium",children:"Est. Revenue"}),n.jsx("th",{className:"pb-4 text-ivory/60 font-medium",children:"Conversion"})]})}),n.jsx("tbody",{children:Cw.map(f=>n.jsxs("tr",{className:"border-b border-white/5",children:[n.jsx("td",{className:"py-4 text-ivory",children:f.partner}),n.jsx("td",{className:"py-4 text-ivory/70",children:f.clicks.toLocaleString()}),n.jsxs("td",{className:"py-4 text-gold",children:["$",f.revenue.toLocaleString()]}),n.jsxs("td",{className:"py-4 text-ivory/70",children:[(f.revenue/f.clicks*100).toFixed(1),"%"]})]},f.partner))})]})})]}),n.jsxs("div",{className:"card-dark p-6",children:[n.jsx("h2",{className:"font-serif text-xl text-ivory mb-6",children:"Recent Activity"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(sr,{message:"New PLUS subscription",detail:"john@example.com",time:"2 minutes ago",positive:!0}),n.jsx(sr,{message:"Member upgraded to ELITE",detail:"mike@example.com",time:"15 minutes ago",positive:!0}),n.jsx(sr,{message:"Subscription canceled",detail:"Canceled at period end",time:"1 hour ago",positive:!1}),n.jsx(sr,{message:"Booking.com conversion",detail:"$142 commission",time:"3 hours ago",positive:!0})]})]})]})})},tr=({title:l,value:a,change:r,positive:o,icon:d})=>n.jsxs("div",{className:"card-dark p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"text-gold",children:d}),n.jsxs("span",{className:`flex items-center gap-1 text-sm ${o?"text-green-400":"text-red-400"}`,children:[o?n.jsx(Ty,{className:"w-4 h-4"}):n.jsx(Ay,{className:"w-4 h-4"}),r]})]}),n.jsx("p",{className:"text-ivory/60 text-sm mb-1",children:l}),n.jsx("p",{className:"text-ivory text-2xl font-semibold",children:a})]}),sr=({message:l,detail:a,time:r,positive:o})=>n.jsxs("div",{className:"flex items-center gap-4 py-3 border-b border-white/5 last:border-0",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-red-400"}`}),n.jsxs("div",{className:"flex-grow",children:[n.jsx("p",{className:"text-ivory text-sm",children:l}),n.jsx("p",{className:"text-ivory/50 text-xs",children:a})]}),n.jsx("span",{className:"text-ivory/40 text-xs",children:r})]}),Uw={totalMembers:2047,activeMembers:1856,newMembersThisMonth:87,pageViews:145230,uniqueVisitors:45230,avgSessionDuration:"4m 32s",bounceRate:"34.2%",conversionRate:"2.8%"},Dw=[{country:"United States",members:456,percentage:22},{country:"United Kingdom",members:234,percentage:11},{country:"Germany",members:189,percentage:9},{country:"Canada",members:156,percentage:8},{country:"Australia",members:134,percentage:7},{country:"Netherlands",members:98,percentage:5},{country:"France",members:87,percentage:4},{country:"Other",members:693,percentage:34}],Mw=[{city:"Lisbon, Portugal",searches:2340,bookings:45},{city:"Bangkok, Thailand",searches:1890,bookings:38},{city:"Mexico City, Mexico",searches:1650,bookings:32},{city:"Dubai, UAE",searches:1420,bookings:28},{city:"Bali, Indonesia",searches:1380,bookings:26},{city:"Medellin, Colombia",searches:1120,bookings:21},{city:"Tbilisi, Georgia",searches:980,bookings:18},{city:"Chiang Mai, Thailand",searches:890,bookings:16}],zw=[{page:"/",views:45230,avgTime:"2m 15s"},{page:"/join",views:12340,avgTime:"3m 45s"},{page:"/city-guides",views:8920,avgTime:"5m 20s"},{page:"/book-travel",views:7650,avgTime:"4m 10s"},{page:"/tools-perks",views:6230,avgTime:"3m 30s"},{page:"/guides",views:5890,avgTime:"6m 45s"}],Zm=[{source:"Organic Search",percentage:42,color:"bg-green-500"},{source:"Direct",percentage:28,color:"bg-blue-500"},{source:"Social Media",percentage:18,color:"bg-purple-500"},{source:"Referral",percentage:8,color:"bg-orange-500"},{source:"Email",percentage:4,color:"bg-pink-500"}],Lw=()=>{const l=wn(),[a]=B.useState(Uw),[r,o]=B.useState(!0);B.useEffect(()=>{d()},[]);const d=async()=>{try{const h=await Bs();if(!h||!gr(h)){l("/dashboard");return}}catch{l("/login")}finally{o(!1)}};return r?n.jsx("div",{className:"min-h-screen bg-charcoal flex items-center justify-center",children:n.jsx("div",{className:"text-gold",children:"Loading..."})}):n.jsx("div",{className:"min-h-screen bg-charcoal text-ivory py-20 px-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-12",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"font-serif text-3xl text-gold mb-2",children:"Analytics & Metrics"}),n.jsx("p",{className:"text-ivory/60",children:"Track growth, engagement, and user behavior"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("select",{className:"bg-charcoal-light border border-white/10 rounded px-4 py-2 text-ivory",children:[n.jsx("option",{children:"Last 30 Days"}),n.jsx("option",{children:"Last 90 Days"}),n.jsx("option",{children:"Year to Date"}),n.jsx("option",{children:"All Time"})]}),n.jsxs("button",{className:"flex items-center gap-2 border border-gold/40 text-gold px-4 py-2 rounded hover:bg-gold/10",children:[n.jsx(lg,{className:"w-4 h-4"}),"Export"]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[n.jsx(ar,{title:"Total Members",value:a.totalMembers.toLocaleString(),change:"+87 this month",icon:n.jsx(Ls,{className:"w-6 h-6"})}),n.jsx(ar,{title:"Active Members",value:a.activeMembers.toLocaleString(),change:"90.7% active rate",icon:n.jsx(dr,{className:"w-6 h-6"})}),n.jsx(ar,{title:"Page Views",value:a.pageViews.toLocaleString(),change:"+12.4% vs last month",icon:n.jsx(Oy,{className:"w-6 h-6"})}),n.jsx(ar,{title:"Conversion Rate",value:a.conversionRate,change:"+0.3% vs last month",icon:n.jsx(mu,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-12",children:[n.jsxs("div",{className:"card-dark p-6",children:[n.jsxs("h2",{className:"font-serif text-xl text-ivory mb-6 flex items-center gap-2",children:[n.jsx(ui,{className:"w-5 h-5 text-gold"}),"Member Distribution"]}),n.jsx("div",{className:"space-y-4",children:Dw.map(h=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-ivory text-sm",children:h.country}),n.jsxs("span",{className:"text-ivory/60 text-sm",children:[h.members," members"]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-1 h-2 bg-charcoal-light rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gold rounded-full",style:{width:`${h.percentage}%`}})}),n.jsxs("span",{className:"text-gold text-sm w-10",children:[h.percentage,"%"]})]})]},h.country))})]}),n.jsxs("div",{className:"card-dark p-6",children:[n.jsxs("h2",{className:"font-serif text-xl text-ivory mb-6 flex items-center gap-2",children:[n.jsx(ci,{className:"w-5 h-5 text-gold"}),"City Interest (Last 30 Days)"]}),n.jsx("div",{className:"space-y-4",children:Mw.map(h=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-ivory text-sm",children:h.city}),n.jsxs("p",{className:"text-ivory/50 text-xs",children:[h.searches.toLocaleString()," searches"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-gold text-sm",children:[h.bookings," bookings"]}),n.jsxs("p",{className:"text-ivory/50 text-xs",children:[(h.bookings/h.searches*100).toFixed(1),"% conversion"]})]})]},h.city))})]})]}),n.jsxs("div",{className:"card-dark p-6 mb-12",children:[n.jsx("h2",{className:"font-serif text-xl text-ivory mb-6",children:"Traffic Sources"}),n.jsxs("div",{className:"flex items-center gap-8",children:[n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"h-4 flex rounded-full overflow-hidden",children:Zm.map(h=>n.jsx("div",{className:`${h.color} h-full`,style:{width:`${h.percentage}%`},title:`${h.source}: ${h.percentage}%`},h.source))})}),n.jsx("div",{className:"flex flex-wrap gap-4",children:Zm.map(h=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${h.color}`}),n.jsxs("span",{className:"text-ivory/70 text-sm",children:[h.source," (",h.percentage,"%)"]})]},h.source))})]})]}),n.jsxs("div",{className:"card-dark p-6",children:[n.jsx("h2",{className:"font-serif text-xl text-ivory mb-6",children:"Top Pages"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left border-b border-white/10",children:[n.jsx("th",{className:"pb-4 text-ivory/60 font-medium",children:"Page"}),n.jsx("th",{className:"pb-4 text-ivory/60 font-medium",children:"Views"}),n.jsx("th",{className:"pb-4 text-ivory/60 font-medium",children:"Avg. Time"}),n.jsx("th",{className:"pb-4 text-ivory/60 font-medium",children:"Bounce Rate"})]})}),n.jsx("tbody",{children:zw.map(h=>n.jsxs("tr",{className:"border-b border-white/5",children:[n.jsx("td",{className:"py-4 text-ivory font-mono text-sm",children:h.page}),n.jsx("td",{className:"py-4 text-ivory/70",children:h.views.toLocaleString()}),n.jsx("td",{className:"py-4 text-ivory/70",children:h.avgTime}),n.jsxs("td",{className:"py-4 text-ivory/70",children:[(Math.random()*30+20).toFixed(1),"%"]})]},h.page))})]})})]})]})})},ar=({title:l,value:a,change:r,icon:o})=>n.jsxs("div",{className:"card-dark p-6",children:[n.jsx("div",{className:"text-gold mb-4",children:o}),n.jsx("p",{className:"text-ivory/60 text-sm mb-1",children:l}),n.jsx("p",{className:"text-ivory text-2xl font-semibold mb-1",children:a}),n.jsx("p",{className:"text-green-400 text-sm",children:r})]}),Bw=()=>{const l=rg();return B.useEffect(()=>{},[l]),null},qw=()=>n.jsxs(n.Fragment,{children:[n.jsx(b0,{}),n.jsx(w0,{}),n.jsx(_0,{}),n.jsx(S0,{}),n.jsx(A0,{})]}),Ne=({children:l,showNav:a=!0,showFooter:r=!0})=>n.jsxs("div",{className:"min-h-screen bg-charcoal text-ivory",children:[a&&n.jsx(p0,{}),n.jsx("main",{children:l}),r&&n.jsx(x0,{})]});function Hw(){return n.jsxs(Uy,{children:[n.jsx(Bw,{}),n.jsxs(Dy,{children:[n.jsx(_e,{path:"/",element:n.jsx(Ne,{children:n.jsx(qw,{})})}),n.jsx(_e,{path:"/privacy",element:n.jsx(Ne,{children:n.jsx(O0,{})})}),n.jsx(_e,{path:"/terms",element:n.jsx(Ne,{children:n.jsx(k0,{})})}),n.jsx(_e,{path:"/refunds",element:n.jsx(Ne,{children:n.jsx(C0,{})})}),n.jsx(_e,{path:"/disclaimer",element:n.jsx(Ne,{children:n.jsx(R0,{})})}),n.jsx(_e,{path:"/contact",element:n.jsx(Ne,{children:n.jsx(U0,{})})}),n.jsx(_e,{path:"/join",element:n.jsx(Ne,{children:n.jsx(ew,{})})}),n.jsx(_e,{path:"/apply",element:n.jsx(Ne,{children:n.jsx(tw,{})})}),n.jsx(_e,{path:"/login",element:n.jsx(Ne,{showFooter:!1,children:n.jsx(sw,{})})}),n.jsx(_e,{path:"/dashboard",element:n.jsx(Ne,{children:n.jsx(nw,{})})}),n.jsx(_e,{path:"/book-travel",element:n.jsx(Ne,{children:n.jsx(cw,{})})}),n.jsx(_e,{path:"/tools-perks",element:n.jsx(Ne,{children:n.jsx(fw,{})})}),n.jsx(_e,{path:"/elite/concierge",element:n.jsx(Ne,{children:n.jsx(mw,{})})}),n.jsx(_e,{path:"/partners",element:n.jsx(Ne,{children:n.jsx(pw,{})})}),n.jsx(_e,{path:"/guides",element:n.jsx(Ne,{children:n.jsx(xw,{})})}),n.jsx(_e,{path:"/city-guides",element:n.jsx(Ne,{children:n.jsx(Jc,{})})}),n.jsx(_e,{path:"/city-guides/:country",element:n.jsx(Ne,{children:n.jsx(Jc,{})})}),n.jsx(_e,{path:"/city-guides/:country/:city",element:n.jsx(Ne,{children:n.jsx(Jc,{})})}),n.jsx(_e,{path:"/community",element:n.jsx(Ne,{children:n.jsx(Nw,{})})}),n.jsx(_e,{path:"/events",element:n.jsx(Ne,{children:n.jsx(Ew,{})})}),n.jsx(_e,{path:"/admin",element:n.jsx(Ne,{children:n.jsx(Tw,{})})}),n.jsx(_e,{path:"/admin/revenue",element:n.jsx(Ne,{children:n.jsx(Rw,{})})}),n.jsx(_e,{path:"/admin/metrics",element:n.jsx(Ne,{children:n.jsx(Lw,{})})}),n.jsx(_e,{path:"*",element:n.jsx(Ne,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"font-serif text-6xl text-gold mb-4",children:"404"}),n.jsx("p",{className:"text-ivory/70 mb-8",children:"Page not found"}),n.jsx("a",{href:"/",className:"btn-gold",children:"Go Home"})]})})})})]})]})}qy.createRoot(document.getElementById("root")).render(n.jsx(B.StrictMode,{children:n.jsx(Hw,{})}));
//# sourceMappingURL=index-yze1qbcG.js.map
